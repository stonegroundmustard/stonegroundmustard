var ra=Object.defineProperty;var i=(xi,Di)=>ra(xi,"name",{value:Di,configurable:!0});(()=>{var xi={5326:(Ke,v,y)=>{"use strict";y.r(v),y.d(v,{AppInsightsCore:()=>I,BaseCore:()=>N,BaseTelemetryPlugin:()=>Je.i,CoreUtils:()=>E.Tr,DiagnosticLogger:()=>W.AQ,ESPromise:()=>te,ESPromiseScheduler:()=>ce,EventHelper:()=>k.zB,EventLatency:()=>R,EventPersistence:()=>g,EventPropertyType:()=>c,EventsDiscardedReason:()=>ke.h,FullVersionString:()=>E.vs,InternalAppInsightsCore:()=>z.F,InternalBaseCore:()=>m.A,LoggingSeverity:()=>p.X,MinChannelPriorty:()=>Re,NotificationManager:()=>J.f,PerfEvent:()=>L.zn,PerfManager:()=>L.Jk,ProcessTelemetryContext:()=>He.Vi,TraceLevel:()=>$,Undefined:()=>le.jA,Utils:()=>E.cQ,ValueKind:()=>K,ValueSanitizer:()=>Se,Version:()=>E.Gf,_ExtendedInternalMessageId:()=>B,_InternalLogMessage:()=>W.lQ,_InternalMessageId:()=>p.v,__getRegisteredEvents:()=>G.um,_logInternalMessage:()=>W.L4,_throwInternal:()=>W.kP,_warnToConsole:()=>W.jV,addEventHandler:()=>G.Ib,addEventListeners:()=>G.yw,addPageHideEventListener:()=>G.TJ,addPageShowEventListener:()=>G.nD,addPageUnloadEventListener:()=>G.c9,areCookiesSupported:()=>Fe.p7,arrForEach:()=>A.tO,arrIndexOf:()=>A.UA,arrMap:()=>A.Mr,arrReduce:()=>A.Xz,attachEvent:()=>G.pZ,cookieAvailable:()=>Fe.p7,createCookieMgr:()=>Fe.Nz,createEnumStyle:()=>d.By,createGuid:()=>E.cm,createProcessTelemetryContext:()=>He.CD,createTraceParent:()=>we.SU,createUniqueNamespace:()=>Ge.J,createUnloadHandlerContainer:()=>ve.Y,dateNow:()=>A.m6,deleteCookie:()=>E.kT,detachEvent:()=>G.pD,disableCookies:()=>E.oF,disallowsSameSiteNone:()=>Fe.UY,doPerf:()=>L.Lm,dumpObj:()=>Y.eU,eventOff:()=>G.QY,eventOn:()=>G.XO,extend:()=>E.l7,findW3cTraceParent:()=>we.lq,formatTraceParent:()=>we.aR,generateW3CId:()=>k.DO,getCommonSchemaMetaData:()=>E.Vv,getConsole:()=>Y.dr,getCookie:()=>E.ej,getCookieValue:()=>E.Do,getCrypto:()=>Y.MX,getDocument:()=>Y.Me,getExceptionName:()=>A.jj,getFieldValueType:()=>E.Sy,getGlobal:()=>me.Rd,getGlobalInst:()=>Y.a8,getHistory:()=>Y.s1,getIEVersion:()=>Y.sA,getISOString:()=>A.Y6,getJSON:()=>Y.xA,getLocation:()=>Y.k$,getMsCrypto:()=>Y.gz,getNavigator:()=>Y.jW,getPerformance:()=>Y.r,getSetValue:()=>A.qK,getTenantId:()=>E.jM,getTime:()=>E.hK,getWindow:()=>Y.Jj,hasDocument:()=>Y.Nv,hasHistory:()=>Y.fE,hasJSON:()=>Y.nS,hasNavigator:()=>Y.d6,hasOwnProperty:()=>A.nr,hasWindow:()=>Y.Ym,isArray:()=>A.kJ,isArrayValid:()=>E.JT,isBeaconsSupported:()=>Y.MF,isBoolean:()=>A.jn,isChromium:()=>E.mJ,isDate:()=>A.J_,isDocumentObjectAvailable:()=>E.x9,isError:()=>A.VZ,isFetchSupported:()=>Y.JO,isFunction:()=>A.mf,isIE:()=>Y.w1,isLatency:()=>E.r7,isNotTruthy:()=>A.F,isNullOrUndefined:()=>A.le,isNumber:()=>A.hj,isObject:()=>A.Kn,isReactNative:()=>Y.b$,isSampledFlag:()=>we.Pn,isString:()=>A.HD,isTruthy:()=>A.fQ,isTypeof:()=>A.Ym,isUint8ArrayAvailable:()=>E.IZ,isUndefined:()=>A.o8,isValidSpanId:()=>we.Lc,isValidTraceId:()=>we.jN,isValidTraceParent:()=>we.J6,isValueAssigned:()=>E.Sn,isValueKind:()=>E.oS,isWindowObjectAvailable:()=>E.dH,isXhrSupported:()=>Y.Z3,mergeEvtNamespace:()=>G.jU,newGuid:()=>k.GW,newId:()=>ee.pZ,normalizeJsName:()=>A.Gf,objCreate:()=>me.pu,objDefineAccessors:()=>A.l_,objForEachKey:()=>A.rW,objFreeze:()=>A.FL,objKeys:()=>A.FY,objSeal:()=>A.Xi,openXhr:()=>E.ot,optimizeObject:()=>A.Ax,parseTraceParent:()=>we.j_,perfNow:()=>k.Jj,proxyAssign:()=>A.cf,proxyFunctionAs:()=>A.Oi,proxyFunctions:()=>A.Vb,random32:()=>ee._l,randomValue:()=>ee.az,removeEventHandler:()=>G.C1,removeEventListeners:()=>G.nJ,removePageHideEventListener:()=>G.C9,removePageShowEventListener:()=>G.Yl,removePageUnloadEventListener:()=>G.JA,safeGetCookieMgr:()=>Fe.JP,safeGetLogger:()=>W.vH,sanitizeProperty:()=>E.yj,setCookie:()=>E.d8,setEnableEnvMocks:()=>Y.dI,setProcessTelemetryTimings:()=>E.if,setValue:()=>A.sO,strContains:()=>A._Q,strEndsWith:()=>A.Id,strFunction:()=>le.cb,strObject:()=>le.fK,strPrototype:()=>le.hB,strStartsWith:()=>A.xe,strTrim:()=>A.nd,strUndefined:()=>le.jA,throwError:()=>A._y,toISOString:()=>A.Y6,useXDomainRequest:()=>Y.cp});var C=y(1088),d=y(4873),A=y(6708),p=y(7310),K=(0,d.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),R=(0,d.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),c=(0,d.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),g=(0,d.By)({Normal:1,Critical:2}),$=(0,d.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),B=(0,A.FL)((0,C.uc)((0,C.uc)({},p.v),(0,d.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),O=y(1679),W=y(5018),L=y(9288),Y=y(7630),z=y(5121),ie=y(7984),E=y(3599),U=function(ye){(0,C.ne)(ge,ye);function ge(){var Ae=ye.call(this)||this;return Ae.pluginVersionStringArr=[],(0,O.Z)(ge,Ae,function(oe,Xe){(!oe.logger||!oe.logger.queue)&&(oe.logger=new W.AQ({loggingLevelConsole:1})),oe.initialize=function(Pe,D,X,fe){(0,L.Lm)(oe,function(){return"AppInsightsCore.initialize"},function(){var $e=oe.pluginVersionStringArr;if(Pe){Pe.endpointUrl||(Pe.endpointUrl=ie.YT);var Ve=Pe.propertyStorageOverride;Ve&&(!Ve.getProperty||!Ve.setProperty)&&(0,A._y)("Invalid property storage override passed."),Pe.channels&&(0,A.tO)(Pe.channels,function(_t){_t&&(0,A.tO)(_t,function(ut){if(ut.identifier&&ut.version){var Jt=ut.identifier+"="+ut.version;$e.push(Jt)}})})}oe.getWParam=function(){return typeof document!="undefined"||!!Pe.enableWParam?0:-1},D&&(0,A.tO)(D,function(_t){if(_t&&_t.identifier&&_t.version){var ut=_t.identifier+"="+_t.version;$e.push(ut)}}),oe.pluginVersionString=$e.join(";"),oe.pluginVersionStringArr=$e;try{Xe.initialize(Pe,D,X,fe),oe.pollInternalLogs("InternalLog")}catch(_t){var ht=oe.logger,Ye=(0,Y.eU)(_t);Ye.indexOf("channels")!==-1&&(Ye+=`
 - Channels must be provided through config.channels only!`),(0,W.kP)(ht,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ye)}},function(){return{config:Pe,extensions:D,logger:X,notificationManager:fe}})},oe.track=function(Pe){(0,L.Lm)(oe,function(){return"AppInsightsCore.track"},function(){var D=Pe;if(D){D.timings=D.timings||{},D.timings.trackStart=(0,E.hK)(),(0,E.r7)(D.latency)||(D.latency=1);var X=D.ext=D.ext||{};X.sdk=X.sdk||{},X.sdk.ver=E.vs;var fe=D.baseData=D.baseData||{};fe[ie.o6]=fe[ie.o6]||{};var $e=fe[ie.o6];$e[ie.p8]=$e[ie.p8]||oe.pluginVersionString||ie.qS}Xe.track(D)},function(){return{item:Pe}},!Pe.sync)}}),Ae}return i(ge,"AppInsightsCore"),ge.__ieDyn=1,ge}(z.F);const I=U;var m=y(6900),w=function(ye){(0,C.ne)(ge,ye);function ge(){var Ae=ye.call(this)||this;return(0,O.Z)(ge,Ae,function(oe,Xe){oe.initialize=function(Pe,D,X,fe){Pe&&!Pe.endpointUrl&&(Pe.endpointUrl=ie.YT),oe.getWParam=function(){return E.x9||!!Pe.enableWParam?0:-1};try{Xe.initialize(Pe,D,X,fe)}catch($e){(0,W.kP)(oe.logger,1,514,"Initialization Failed: "+(0,Y.eU)($e)+`
 - Note: Channels must be provided through config.channels only`)}},oe.track=function(Pe){var D=Pe;if(D){var X=D.ext=D.ext||{};X.sdk=X.sdk||{},X.sdk.ver=E.vs}Xe.track(D)}}),Ae}return i(ge,"BaseCore"),ge.__ieDyn=1,ge}(m.A);const N=w;var j=A.mf;function V(ye,ge,Ae){return function(oe){ye[ge]=oe,Ae()}}i(V,"_createPromiseAllOnResolvedFunction");var Q=function(){function ye(ge){var Ae=0,oe=null,Xe=[];(0,O.Z)(ye,this,function($e){$e.then=function(Ve,ht){return new ye(function(Ye,_t){Pe(Ve,ht,Ye,_t)})},$e.catch=function(Ve){return $e.then(null,Ve)}});function Pe($e,Ve,ht,Ye){Xe.push(function(){var _t;try{Ae===1?_t=j($e)?$e(oe):oe:_t=j(Ve)?Ve(oe):oe,_t instanceof ye?_t.then(ht,Ye):Ae===2&&!j(Ve)?Ye(_t):ht(_t)}catch(ut){Ye(ut);return}}),Ae!==0&&D()}i(Pe,"_enqueue");function D(){if(Xe.length>0){var $e=Xe.slice();Xe=[],setTimeout(function(){for(var Ve=0,ht=$e.length;Ve<ht;++Ve)try{$e[Ve]()}catch(Ye){}},0)}}i(D,"_processQueue");function X($e){Ae===0&&(oe=$e,Ae=1,D())}i(X,"_resolve");function fe($e){Ae===0&&(oe=$e,Ae=2,D())}i(fe,"_reject"),i(function(){if(!j(ge))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{ge(X,fe)}catch(Ve){fe(Ve)}},"_initialize")()}return i(ye,"ESPromise"),ye.resolve=function(ge){return ge instanceof ye?ge:ge&&j(ge.then)?new ye(function(Ae,oe){try{ge.then(Ae,oe)}catch(Xe){oe(Xe)}}):new ye(function(Ae){Ae(ge)})},ye.reject=function(ge){return new ye(function(Ae,oe){oe(ge)})},ye.all=function(ge){if(!(!ge||!ge.length))return new ye(function(Ae,oe){try{for(var Xe=[],Pe=0,D=0;D<ge.length;D++){var X=ge[D];X&&j(X.then)?(Pe++,X.then(V(Xe,D,function(){--Pe==0&&Ae(Xe)}),oe)):Xe[D]=X}Pe===0&&setTimeout(function(){Ae(Xe)},0)}catch(fe){oe(fe)}})},ye.race=function(ge){return new ye(function(Ae,oe){if(!(!ge||!ge.length))try{for(var Xe=i(function(D){var X=ge[D];X&&j(X.then)?X.then(Ae,oe):setTimeout(function(){Ae(X)},0)},"_loop_1"),Pe=0;Pe<ge.length;Pe++)Xe(Pe)}catch(D){oe(D)}})},ye}();const te=Q;var me=y(2091),q=6e5,H=0,se=[],Te=[],be=[];function ne(){return new Date().getTime()}i(ne,"_getTime");var F=function(){function ye(ge,Ae){var oe=0,Xe=(ge||"<unnamed>")+"."+H;H++,(0,O.Z)(ye,this,function(X){var fe=null,$e=0;X.scheduleEvent=function(ht,Ye,_t){var ut=Xe+"."+$e;$e++,Ye&&(ut+="-("+Ye+")");var Jt=ut+"{"+oe+"}";oe++;var Zt={evt:null,tm:ne(),id:Jt,isRunning:!1,isAborted:!1};return fe?Zt.evt=Ht(Zt,fe):Zt.evt=wt(Zt),fe=Zt,fe.evt._schId=Jt,Zt.evt;function on(at){for(var Bt=ne(),jt=Bt-q,Ut=at.length,Nt=0;Nt<Ut;){var fn=at[Nt];if(fn&&fn.tm<jt){var Sn=null;fn.abort?(Sn="Aborting ["+fn.id+"] due to Excessive runtime ("+(Bt-fn.tm)+" ms)",fn.abort(Sn)):Sn="Removing ["+fn.id+"] due to Excessive runtime ("+(Bt-fn.tm)+" ms)",D(Sn),at.splice(Nt,1),Ut--}else Nt++}}i(on,"_abortAndRemoveOldEvents");function bn(at,Bt){var jt=!1,Ut=Ve(se,at);if(Ut||(Ut=Ve(be,at),jt=!0),Ut){Ut.to&&(clearTimeout(Ut.to),Ut.to=null);var Nt=ne()-Ut.tm;Bt?jt?D("Timed out event ["+at+"] finally complete -- "+Nt+" ms"):Pe("Promise ["+at+"] Complete -- "+Nt+" ms"):(be.push(Ut),D("Event ["+at+"] Timed out and removed -- "+Nt+" ms"))}else Pe("Failed to remove ["+at+"] from running queue");fe&&fe.id===at&&(fe=null),on(se),on(Te),on(be)}i(bn,"_cleanup");function Qe(at,Bt){return function(jt){return bn(at,!0),Bt&&Bt(jt),jt}}i(Qe,"_removeScheduledEvent");function Et(at,Bt,jt,Ut){Bt.then(function(Nt){return Nt instanceof te?(Pe("Event ["+at+"] returned a promise -- waiting"),Et(at,Nt,jt,Ut),Nt):Qe(at,jt)(Nt)},Qe(at,Ut))}i(Et,"_waitForFinalResult");function xt(at,Bt){var jt=at.id;return new te(function(Ut,Nt){Pe("Event ["+jt+"] Starting -- waited for "+(at.wTm||"--")+" ms"),at.isRunning=!0,at.abort=function(Sn){at.abort=null,at.isAborted=!0,bn(jt,!1),Nt(new Error(Sn))};var fn=Bt(jt);fn instanceof te?(_t&&(at.to=setTimeout(function(){bn(jt,!1),Nt(new Error("Timed out after ["+_t+"] ms"))},_t)),Et(jt,fn,function(Sn){Pe("Event ["+jt+"] Resolving after "+(ne()-at.tm)+" ms"),Ut(Sn)},Nt)):(Pe("Promise ["+jt+"] Auto completed as the start action did not return a promise"),Ut())})}i(xt,"_createScheduledEvent");function wt(at){var Bt=ne();return at.wTm=Bt-at.tm,at.tm=Bt,at.isAborted?te.reject(new Error("["+ut+"] was aborted")):(se.push(at),xt(at,ht))}i(wt,"_startWaitingEvent");function Ht(at,Bt){var jt=new te(function(Ut,Nt){var fn=ne()-Bt.tm,Sn=Bt.id;Pe("["+ut+"] is waiting for ["+Sn+":"+fn+" ms] to complete before starting -- ["+Te.length+"] waiting and ["+se.length+"] running"),at.abort=function(lr){at.abort=null,Ve(Te,ut),at.isAborted=!0,Nt(new Error(lr))},Bt.evt.then(function(lr){Ve(Te,ut),wt(at).then(Ut,Nt)},function(lr){Ve(Te,ut),wt(at).then(Ut,Nt)})});return Te.push(at),jt}i(Ht,"_waitForPreviousEvent")};function Ve(ht,Ye){for(var _t=0;_t<ht.length;_t++)if(ht[_t].id===Ye)return ht.splice(_t,1)[0];return null}i(Ve,"_removeQueuedEvent")});function Pe(X){var fe=(0,me.Rd)();fe&&fe.QUnit&&console&&console.log("ESPromiseScheduler["+Xe+"] "+X)}i(Pe,"_debugLog");function D(X){(0,W.jV)(Ae,"ESPromiseScheduler["+Xe+"] "+X)}i(D,"_warnLog")}return i(ye,"ESPromiseScheduler"),ye.incomplete=function(){return se},ye.waitingToStart=function(){return Te},ye}();const ce=F;var Se=function(){function ye(ge){var Ae=this,oe={},Xe=[],Pe=[];ge&&Pe.push(ge);function D(Ve,ht){var Ye,_t=oe[Ve];if(_t&&(Ye=_t[ht]),!Ye&&Ye!==null){if((0,A.HD)(Ve)&&(0,A.HD)(ht))if(Pe.length>0){for(var ut=0;ut<Pe.length;ut++)if(Pe[ut].handleField(Ve,ht)){Ye={canHandle:!0,fieldHandler:Pe[ut]};break}}else Xe.length===0&&(Ye={canHandle:!0});if(!Ye&&Ye!==null){Ye=null;for(var ut=0;ut<Xe.length;ut++)if(Xe[ut].handleField(Ve,ht)){Ye={canHandle:!0,handler:Xe[ut],fieldHandler:null};break}}_t||(_t=oe[Ve]={}),_t[ht]=Ye}return Ye}i(D,"_getFieldSanitizer"),Ae.addSanitizer=function(Ve){Ve&&(Xe.push(Ve),oe={})},Ae.addFieldSanitizer=function(Ve){Ve&&(Pe.push(Ve),oe={})},Ae.handleField=function(Ve,ht){var Ye=D(Ve,ht);return Ye?Ye.canHandle:!1},Ae.value=function(Ve,ht,Ye,_t){var ut=D(Ve,ht);if(ut&&ut.canHandle){if(!ut||!ut.canHandle)return null;if(ut.handler)return ut.handler.value(Ve,ht,Ye,_t);if(!(0,A.HD)(ht)||(0,A.le)(Ye)||Ye===ie.qS)return null;var Jt=null,Zt=(0,E.Sy)(Ye);if((Zt&8192)==8192){var on=Zt&~8192;if(Jt=Ye,!(0,E.Sn)(Jt.value)||on!==1&&on!==2&&on!==3&&(on&4096)!=4096)return null}else Zt===1||Zt===2||Zt===3||(Zt&4096)==4096?Jt=fe(Ve,ht,Ye):Zt===4&&(Jt=fe(Ve,ht,_t?JSON.stringify(Ye):Ye));if(Jt)return X(ut,Ve,ht,Zt,Jt,_t)}return null},Ae.property=function(Ve,ht,Ye,_t){var ut=D(Ve,ht);if(!ut||!ut.canHandle||!(0,A.HD)(ht)||(0,A.le)(Ye)||!(0,E.Sn)(Ye.value))return null;var Jt=(0,E.Sy)(Ye.value);return Jt===0?null:X(ut,Ve,ht,Jt,Ye,_t)};function X(Ve,ht,Ye,_t,ut,Jt){if(Ve.handler)return Ve.handler.property(ht,Ye,ut,Jt);if(!(0,A.le)(ut.kind)){if((_t&4096)==4096||!(0,E.oS)(ut.kind))return null;ut.value=ut.value.toString()}return $e(Ve.fieldHandler,ht,Ye,_t,ut)}i(X,"_handleProperty");function fe(Ve,ht,Ye){return(0,E.Sn)(Ye)?{value:Ye}:null}i(fe,"_convertToProperty");function $e(Ve,ht,Ye,_t,ut){if(ut&&Ve){var Jt=Ve.getSanitizer(ht,Ye,_t,ut.kind,ut.propertyType);if(Jt)if(_t===4){var Zt={},on=ut.value;(0,A.rW)(on,function(Qe,Et){var xt=ht+"."+Ye;if((0,E.Sn)(Et)){var wt=fe(xt,Qe,Et);wt=$e(Ve,xt,Qe,(0,E.Sy)(Et),wt),wt&&(Zt[Qe]=wt.value)}}),ut.value=Zt}else{var bn={path:ht,name:Ye,type:_t,prop:ut,sanitizer:Ae};ut=Jt.call(Ae,bn)}}return ut}i($e,"_callFieldSanitizer")}return i(ye,"ValueSanitizer"),ye.getFieldType=E.Sy,ye}(),Re=100,J=y(1880),Je=y(4063),He=y(1589),ke=y(5928),k=y(5843),G=y(4869),ee=y(4878),le=y(4392),Fe=y(3242),Ge=y(5883),ve=y(310),we=y(4206)},7984:(Ke,v,y)=>{"use strict";y.d(v,{qS:()=>C,YT:()=>d,p8:()=>K,o6:()=>R});var C="",d="https://browser.events.data.microsoft.com/OneCollector/1.0/",A="pluginVersionString",p=A+"Arr",K="version",R="properties"},3599:(Ke,v,y)=>{"use strict";y.d(v,{Gf:()=>O,vs:()=>W,x9:()=>U,dH:()=>I,Sn:()=>m,jM:()=>w,IZ:()=>N,r7:()=>j,yj:()=>V,Vv:()=>Q,oF:()=>te,d8:()=>me,kT:()=>q,ej:()=>H,Do:()=>se,cm:()=>Te,l7:()=>be,hK:()=>ne,oS:()=>F,JT:()=>Re,if:()=>J,Sy:()=>Je,cQ:()=>He,Tr:()=>ke,mJ:()=>k,ot:()=>G});var C=y(7630),d=y(6708),A=y(3242),p=y(5843),K=y(4392),R=y(4869),c=y(4878),g=y(2091),$=y(7984),B,O="3.2.8",W="1DS-Web-JS-"+O,L="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Y="withCredentials",z="timeout",ie=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4096|2]=6,B[4096|1]=1,B[4096|3]=7,B),E=null,U=Boolean((0,C.Me)()),I=Boolean((0,C.Jj)());function m(ee){return!(ee===$.qS||(0,d.le)(ee))}i(m,"isValueAssigned");function w(ee){if(ee){var le=ee.indexOf("-");if(le>-1)return ee.substring(0,le)}return $.qS}i(w,"getTenantId");function N(){return E===null&&(E=!(0,d.o8)(Uint8Array)&&!Se()&&!(0,C.b$)()),E}i(N,"isUint8ArrayAvailable");function j(ee){return!!(ee&&(0,d.hj)(ee)&&ee>=1&&ee<=4)}i(j,"isLatency");function V(ee,le,Fe){if(!le&&!m(le)||typeof ee!="string")return null;var Ge=typeof le;if(Ge==="string"||Ge==="number"||Ge==="boolean"||(0,d.kJ)(le))le={value:le};else if(Ge==="object"&&!K.CY.call(le,"value"))le={value:Fe?JSON.stringify(le):le};else if((0,d.le)(le.value)||le.value===$.qS||!(0,d.HD)(le.value)&&!(0,d.hj)(le.value)&&!(0,d.jn)(le.value)&&!(0,d.kJ)(le.value))return null;if((0,d.kJ)(le.value)&&!Re(le.value))return null;if(!(0,d.le)(le.kind)){if((0,d.kJ)(le.value)||!F(le.kind))return null;le.value=le.value.toString()}return le}i(V,"sanitizeProperty");function Q(ee,le,Fe){var Ge=-1;if(!(0,d.o8)(ee))if(le>0&&(le===32?Ge=1<<13:le<=13&&(Ge=le<<5)),ce(Fe))Ge===-1&&(Ge=0),Ge|=Fe;else{var ve=ie[Je(ee)]||-1;Ge!==-1&&ve!==-1?Ge|=ve:ve===6&&(Ge=ve)}return Ge}i(Q,"getCommonSchemaMetaData");function te(){(0,A.JP)(null).setEnabled(!1)}i(te,"disableCookies");function me(ee,le,Fe){(0,A.p7)(null)&&(0,A.JP)(null).set(ee,le,Fe*86400,null,"/")}i(me,"setCookie");function q(ee){(0,A.p7)(null)&&(0,A.JP)(null).del(ee)}i(q,"deleteCookie");function H(ee){return(0,A.p7)(null)?se((0,A.JP)(null),ee):$.qS}i(H,"getCookie");function se(ee,le,Fe){Fe===void 0&&(Fe=!0);var Ge;return ee&&(Ge=ee.get(le),Fe&&Ge&&decodeURIComponent&&(Ge=decodeURIComponent(Ge))),Ge||$.qS}i(se,"getCookieValue");function Te(ee){ee===void 0&&(ee="D");var le=(0,p.GW)();return ee==="B"?le="{"+le+"}":ee==="P"?le="("+le+")":ee==="N"&&(le=le.replace(/-/g,$.qS)),le}i(Te,"createGuid");function be(ee,le,Fe,Ge,ve){var we={},ye=!1,ge=0,Ae=arguments.length,oe=Object[K.hB],Xe=arguments;for(oe.toString.call(Xe[0])==="[object Boolean]"&&(ye=Xe[0],ge++);ge<Ae;ge++){var ee=Xe[ge];(0,d.rW)(ee,function(D,X){ye&&X&&(0,d.Kn)(X)?(0,d.kJ)(X)?(we[D]=we[D]||[],(0,d.tO)(X,function(fe,$e){fe&&(0,d.Kn)(fe)?we[D][$e]=be(!0,we[D][$e],fe):we[D][$e]=fe})):we[D]=be(!0,we[D],X):we[D]=X})}return we}i(be,"extend");var ne=p.Jj;function F(ee){return ee===0||ee>0&&ee<=13||ee===32}i(F,"isValueKind");function ce(ee){return ee>=0&&ee<=9}i(ce,"isDataType");function Se(){var ee=(0,C.jW)();if(!(0,d.o8)(ee)&&ee.userAgent){var le=ee.userAgent.toLowerCase();if((le.indexOf("safari")>=0||le.indexOf("firefox")>=0)&&le.indexOf("chrome")<0)return!0}return!1}i(Se,"isSafariOrFirefox");function Re(ee){return ee.length>0}i(Re,"isArrayValid");function J(ee,le){var Fe=ee;Fe.timings=Fe.timings||{},Fe.timings.processTelemetryStart=Fe.timings.processTelemetryStart||{},Fe.timings.processTelemetryStart[le]=ne()}i(J,"setProcessTelemetryTimings");function Je(ee){var le=0;if(ee!=null){var Fe=typeof ee;Fe==="string"?le=1:Fe==="number"?le=2:Fe==="boolean"?le=3:Fe===K.fK&&(le=4,(0,d.kJ)(ee)?(le=4096,ee.length>0&&(le|=Je(ee[0]))):K.CY.call(ee,"value")&&(le=8192|Je(ee.value)))}return le}i(Je,"getFieldValueType");var He={Version:O,FullVersionString:W,strUndefined:K.jA,strObject:K.fK,Undefined:K.jA,arrForEach:d.tO,arrIndexOf:d.UA,arrMap:d.Mr,arrReduce:d.Xz,objKeys:d.FY,toISOString:d.Y6,isReactNative:C.b$,isString:d.HD,isNumber:d.hj,isBoolean:d.jn,isFunction:d.mf,isArray:d.kJ,isObject:d.Kn,strTrim:d.nd,isDocumentObjectAvailable:U,isWindowObjectAvailable:I,isValueAssigned:m,getTenantId:w,isBeaconsSupported:C.MF,isUint8ArrayAvailable:N,isLatency:j,sanitizeProperty:V,getISOString:d.Y6,useXDomainRequest:C.cp,getCommonSchemaMetaData:Q,cookieAvailable:A.p7,disallowsSameSiteNone:A.UY,setCookie:me,deleteCookie:q,getCookie:H,createGuid:Te,extend:be,getTime:ne,isValueKind:F,isArrayValid:Re,objDefineAccessors:d.l_,addPageUnloadEventListener:R.c9,setProcessTelemetryTimings:J,addEventHandler:R.Ib,getFieldValueType:Je,strEndsWith:d.Id,objForEachKey:d.rW},ke={_canUseCookies:void 0,isTypeof:d.Ym,isUndefined:d.o8,isNullOrUndefined:d.le,hasOwnProperty:d.nr,isFunction:d.mf,isObject:d.Kn,isDate:d.J_,isArray:d.kJ,isError:d.VZ,isString:d.HD,isNumber:d.hj,isBoolean:d.jn,toISOString:d.Y6,arrForEach:d.tO,arrIndexOf:d.UA,arrMap:d.Mr,arrReduce:d.Xz,strTrim:d.nd,objCreate:g.pu,objKeys:d.FY,objDefineAccessors:d.l_,addEventHandler:R.Ib,dateNow:d.m6,isIE:C.w1,disableCookies:te,newGuid:p.GW,perfNow:p.Jj,newId:c.pZ,randomValue:c.az,random32:c._l,mwcRandomSeed:c.CN,mwcRandom32:c.F6,generateW3CId:p.DO};function k(){return!!(0,C.a8)("chrome")}i(k,"isChromium");function G(ee,le,Fe,Ge,ve,we){Ge===void 0&&(Ge=!1),ve===void 0&&(ve=!1);function ye(Ae,oe,Xe){try{Ae[oe]=Xe}catch(Pe){}}i(ye,"_wrapSetXhrProp");var ge=new XMLHttpRequest;return Ge&&ye(ge,L,Ge),Fe&&ye(ge,Y,Fe),ge.open(ee,le,!ve),Fe&&ye(ge,Y,Fe),!ve&&we&&ye(ge,z,we),ge}i(G,"openXhr")},9865:(Ke,v,y)=>{"use strict";y.r(v),y.d(v,{BE_PROFILE:()=>Y,NRT_PROFILE:()=>L,PostChannel:()=>An,RT_PROFILE:()=>W});var C=y(1088),d=y(1679),A=y(9288),p=y(4869),K=y(5883),R=y(3599),c=y(6708),g=y(7630),$=y(5928),B=y(5018),O=y(4063),W="REAL_TIME",L="NEAR_REAL_TIME",Y="BEST_EFFORT",z="",ie="POST",E="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",U="drop",I="send",m="requeue",w="rspFail",N="oth",j="no-cache, no-store",V="application/x-json-stream",Q="cache-control",te="content-type",me="kill-tokens",q="kill-duration",H="kill-duration-seconds",se="time-delta-millis",Te="client-version",be="client-id",ne="time-delta-to-apply-millis",F="upload-time",ce="apikey",Se="AuthMsaDeviceTicket",Re="AuthXToken",J="sdk-version",Je="NoResponseBody",He="msfpc",ke="trace",k="user";function G(ft){var gt=(ft.ext||{}).intweb;return gt&&(0,R.Sn)(gt[He])?gt[He]:null}i(G,"_getEventMsfpc");function ee(ft){for(var gt=null,At=0;gt===null&&At<ft.length;At++)gt=G(ft[At]);return gt}i(ee,"_getMsfpc");var le=function(){function ft(gt,At){var rt=At?[].concat(At):[],kt=this,Rt=ee(rt);kt.iKey=function(){return gt},kt.Msfpc=function(){return Rt||z},kt.count=function(){return rt.length},kt.events=function(){return rt},kt.addEvent=function(ot){return ot?(rt.push(ot),Rt||(Rt=G(ot)),!0):!1},kt.split=function(ot,Wt){var Yt;if(ot<rt.length){var ln=rt.length-ot;(0,c.le)(Wt)||(ln=Wt<ln?Wt:ln),Yt=rt.splice(ot,ln),Rt=ee(rt)}return new ft(gt,Yt)}}return i(ft,"EventBatch"),ft.create=function(gt,At){return new ft(gt,At)},ft}(),Fe=function(){function ft(){var gt=!0,At=!0,rt=!0,kt="use-collector-delta",Rt=!1;(0,d.Z)(ft,this,function(ot){ot.allowRequestSending=function(){return gt},ot.firstRequestSent=function(){rt&&(rt=!1,Rt||(gt=!1))},ot.shouldAddClockSkewHeaders=function(){return At},ot.getClockSkewHeaderValue=function(){return kt},ot.setClockSkew=function(Wt){Rt||(Wt?(kt=Wt,At=!0,Rt=!0):At=!1,gt=!0)}})}return i(ft,"ClockSkewManager"),ft.__ieDyn=1,ft}();const Ge=Fe;var ve=1e3,we=function(){function ft(){var gt={};function At(rt){var kt=[];return rt&&(0,c.tO)(rt,function(Rt){kt.push((0,c.nd)(Rt))}),kt}i(At,"_normalizeTenants"),(0,d.Z)(ft,this,function(rt){rt.setKillSwitchTenants=function(kt,Rt){if(kt&&Rt)try{var ot=At(kt.split(","));if(Rt==="this-request-only")return ot;for(var Wt=parseInt(Rt,10)*ve,Yt=0;Yt<ot.length;++Yt)gt[ot[Yt]]=(0,c.m6)()+Wt}catch(ln){return[]}return[]},rt.isTenantKilled=function(kt){var Rt=gt,ot=(0,c.nd)(kt);return Rt[ot]!==void 0&&Rt[ot]>(0,c.m6)()?!0:(delete Rt[ot],!1)}})}return i(ft,"KillSwitch"),ft.__ieDyn=1,ft}();const ye=we;var ge=y(4392),Ae=.8,oe=1.2,Xe=3e3,Pe=6e5;function D(ft){return!(ft>=300&&ft<500&&ft!=408&&ft!=429||ft==501||ft==505)}i(D,"retryPolicyShouldRetryForStatus");function X(ft){var gt=0,At=Xe*Ae,rt=Xe*oe,kt=Math.floor(Math.random()*(rt-At))+At;return gt=Math.pow(2,ft)*kt,Math.min(gt,Pe)}i(X,"retryPolicyGetMillisToBackoffForRetry");var fe=20,$e=3984588,Ve=65e3,ht=2e6,Ye=Math.min(ht,Ve),_t="metadata",ut="f",Jt=/\./,Zt=function(){function ft(gt,At,rt,kt){var Rt="data",ot="baseData",Wt="ext",Yt=!!kt,ln=!0,un=At,xn={};(0,d.Z)(ft,this,function(vn){vn.createPayload=function(yt,zt,$t,dn,It,Xt){return{apiKeys:[],payloadBlob:z,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:yt,isTeardown:zt,isSync:$t,isBeacon:dn,sendType:Xt,sendReason:It}},vn.appendPayload=function(yt,zt,$t){var dn=yt&&zt&&!yt.overflow;return dn&&(0,A.Lm)(gt,function(){return"Serializer:appendPayload"},function(){for(var It=zt.events(),Xt=yt.payloadBlob,cn=yt.numEvents,mn=!1,Kt=[],pn=[],Ln=yt.isBeacon,_n=Ln?Ve:$e,Un=Ln?Ye:ht,Be=0,In=0;Be<It.length;){var Lt=It[Be];if(Lt){if(cn>=$t){yt.overflow=zt.split(Be);break}var mt=vn.getEventBlob(Lt);if(mt&&mt.length<=Un){var On=mt.length,cr=Xt.length;if(cr+On>_n){yt.overflow=zt.split(Be);break}Xt&&(Xt+=`
`),Xt+=mt,In++,In>fe&&(Xt.substr(0,1),In=0),mn=!0,cn++}else mt?Kt.push(Lt):pn.push(Lt),It.splice(Be,1),Be--}Be++}if(Kt&&Kt.length>0&&yt.sizeExceed.push(le.create(zt.iKey(),Kt)),pn&&pn.length>0&&yt.failedEvts.push(le.create(zt.iKey(),pn)),mn){yt.batches.push(zt),yt.payloadBlob=Xt,yt.numEvents=cn;var Hn=zt.iKey();(0,c.UA)(yt.apiKeys,Hn)===-1&&yt.apiKeys.push(Hn)}},function(){return{payload:yt,theBatch:{iKey:zt.iKey(),evts:zt.events()},max:$t}}),dn},vn.getEventBlob=function(yt){try{return(0,A.Lm)(gt,function(){return"Serializer.getEventBlob"},function(){var zt={};zt.name=yt.name,zt.time=yt.time,zt.ver=yt.ver,zt.iKey="o:"+(0,R.jM)(yt.iKey);var $t={},dn=yt[Wt];dn&&(zt[Wt]=$t,(0,c.rW)(dn,function(cn,mn){var Kt=$t[cn]={};rn(mn,Kt,"ext."+cn,!0,null,null,!0)}));var It=zt[Rt]={};It.baseType=yt.baseType;var Xt=It[ot]={};return rn(yt.baseData,Xt,ot,!1,[ot],function(cn,mn,Kt){on($t,cn,mn,Kt)},ln),rn(yt.data,It,Rt,!1,[],function(cn,mn,Kt){on($t,cn,mn,Kt)},ln),JSON.stringify(zt)},function(){return{item:yt}})}catch(zt){return null}};function wn(yt,zt){var $t=xn[yt];return $t===void 0&&(yt.length>=7&&($t=(0,c.xe)(yt,"ext.metadata")||(0,c.xe)(yt,"ext.web")),xn[yt]=$t),$t}i(wn,"_isReservedField");function rn(yt,zt,$t,dn,It,Xt,cn){(0,c.rW)(yt,function(mn,Kt){var pn=null;if(Kt||(0,R.Sn)(Kt)){var Ln=$t,_n=mn,Un=It,Be=zt;if(Yt&&!dn&&Jt.test(mn)){var In=mn.split("."),Lt=In.length;if(Lt>1){Un&&(Un=Un.slice());for(var mt=0;mt<Lt-1;mt++){var On=In[mt];Be=Be[On]=Be[On]||{},Ln+="."+On,Un&&Un.push(On)}_n=In[Lt-1]}}var cr=dn&&wn(Ln,_n);if(!cr&&un&&un.handleField(Ln,_n)?pn=un.value(Ln,_n,Kt,rt):pn=(0,R.yj)(_n,Kt,rt),pn){var Hn=pn.value;if(Be[_n]=Hn,Xt&&Xt(Un,_n,pn),cn&&typeof Hn=="object"&&!(0,c.kJ)(Hn)){var Qn=Un;Qn&&(Qn=Qn.slice(),Qn.push(_n)),rn(Kt,Hn,Ln+"."+_n,dn,Qn,Xt,cn)}}}})}i(rn,"_processPathKeys")})}return i(ft,"Serializer"),ft.__ieDyn=1,ft}();function on(ft,gt,At,rt){if(rt&&ft){var kt=(0,R.Vv)(rt.value,rt.kind,rt.propertyType);if(kt>-1){var Rt=ft[_t];Rt||(Rt=ft[_t]={f:{}});var ot=Rt[ut];if(ot||(ot=Rt[ut]={}),gt)for(var Wt=0;Wt<gt.length;Wt++){var Yt=gt[Wt];ot[Yt]||(ot[Yt]={f:{}});var ln=ot[Yt][ut];ln||(ln=ot[Yt][ut]={}),ot=ln}ot=ot[At]={},(0,c.kJ)(rt.value)?ot.a={t:kt}:ot.t=kt}}}i(on,"_addJSONPropertyMetaData");var bn,Qe="sendAttempt",Et="&"+Je+"=true",xt=(bn={},bn[1]=m,bn[100]=m,bn[200]="sent",bn[8004]=U,bn[8003]=U,bn),wt={},Ht={};function at(ft,gt,At){wt[ft]=gt,At!==!1&&(Ht[gt]=ft)}i(at,"_addCollectorHeaderQsMapping"),at(Se,Se,!1),at(Te,Te),at(be,"Client-Id"),at(ce,ce),at(ne,ne),at(F,F),at(Re,Re);function Bt(ft){try{return ft.responseText}catch(gt){}return z}i(Bt,"_getResponseText");function jt(ft,gt){var At=!1;if(ft&&gt){var rt=(0,c.FY)(ft);if(rt&&rt.length>0)for(var kt=gt.toLowerCase(),Rt=0;Rt<rt.length;Rt++){var ot=rt[Rt];if(ot&&(0,c.nr)(gt,ot)&&ot.toLowerCase()===kt){At=!0;break}}}return At}i(jt,"_hasHeader");function Ut(ft,gt,At,rt){gt&&At&&At.length>0&&(rt&&wt[gt]?(ft.hdrs[wt[gt]]=At,ft.useHdrs=!0):ft.url+="&"+gt+"="+At)}i(Ut,"_addRequestDetails");function Nt(ft,gt){return gt&&((0,c.hj)(gt)?ft=[gt].concat(ft):(0,c.kJ)(gt)&&(ft=gt.concat(ft))),ft}i(Nt,"_prependTransports");var fn=function(){function ft(gt,At,rt,kt,Rt){this._responseHandlers=[];var ot="?cors=true&"+te.toLowerCase()+"="+V,Wt=new ye,Yt=!1,ln=new Ge,un=!1,xn=0,vn,wn,rn,yt,zt=!0,$t=[],dn={},It=[],Xt=null,cn=!1,mn,Kt=!1,pn=!1,Ln,_n,Un,Be,In;(0,d.Z)(ft,this,function(Lt){var mt=!0;Lt.initialize=function(_e,_,x,ue,Me){var dt;Me||(Me={}),ot=_e+ot,pn=(0,c.o8)(Me.avoidOptions)?!0:!Me.avoidOptions,yt=_,mn=_.getCookieMgr(),cn=!yt.config.disableEventTimings;var Ze=!!yt.config.enableCompoundKey;vn=x,wn=vn.diagLog();var he=Me.valueSanitizer,De=Me.stringifyObjects;(0,c.o8)(Me.enableCompoundKey)||(Ze=!!Me.enableCompoundKey),Ln=Me.xhrTimeout,_n=!!Me.disableXhrSync,Un=!!Me.disableFetchKeepAlive,In=Me.addNoResponse!==!1,un=!(0,g.b$)(),Xt=new Zt(yt,he,De,Ze),(0,c.le)(Me.useSendBeacon)||(un=!!Me.useSendBeacon);var Oe=ue,ze=Me.alwaysUseXhrOverride?ue:null,et=Me.alwaysUseXhrOverride?ue:null,it=[3,2];if(!ue){zt=!1;var Dt=(0,g.k$)();Dt&&Dt.protocol&&Dt.protocol.toLowerCase()==="file:"&&(mt=!1);var Ct=[];(0,g.b$)()?(Ct=[2,1],it=[2,1,3]):Ct=[1,2,3],Ct=Nt(Ct,Me.transports),ue=On(Ct,!1),ue||(0,B.jV)(wn,"No available transport to send events"),Oe=On(Ct,!0)}ze||(it=Nt(it,Me.unloadTransports),ze=On(it,!0)),Be=!zt&&(un&&(0,g.MF)()||!Un&&(0,g.JO)(!0)),rn=(dt={},dt[0]=ue,dt[1]=Oe||On([1,2,3],!0),dt[2]=ze||Oe||On([1],!0),dt[3]=et||On([2,3],!0)||Oe||On([1],!0),dt)};function On(_e,_){for(var x=0,ue=null,Me=0;ue==null&&Me<_e.length;)x=_e[Me],x===1?(0,g.cp)()?ue=cr:(0,g.Z3)()&&(ue=Qn):x===2&&(0,g.JO)(_)&&(!_||_&&!Un)?ue=Hn:un&&x===3&&(0,g.MF)()&&(ue=Dr),Me++;return ue?{_transport:x,_isSync:_,sendPOST:ue}:null}i(On,"_getSenderInterface"),Lt._getDbgPlgTargets=function(){return[rn[0],Wt,Xt,rn]};function cr(_e,_,x){var ue=new XDomainRequest;ue.open(ie,_e.urlString),_e.timeout&&(ue.timeout=_e.timeout),ue.onload=function(){var Me=Bt(ue);kn(_,200,{},Me),Cn(Me)},ue.onerror=function(){kn(_,400,{})},ue.ontimeout=function(){kn(_,500,{})},ue.onprogress=function(){},x?ue.send(_e.data):Rt.set(function(){ue.send(_e.data)},0)}i(cr,"_xdrSendPost");function Hn(_e,_,x){var ue,Me=_e.urlString,dt=!1,Ze=!1,he=(ue={body:_e.data,method:ie},ue[E]=!0,ue);x&&(he.keepalive=!0,_e._sendReason===2&&(dt=!0,In&&(Me+=Et))),mt&&(he.credentials="include"),_e.headers&&(0,c.FY)(_e.headers).length>0&&(he.headers=_e.headers),fetch(Me,he).then(function(De){var Oe={},ze=z,et=De.headers;et&&et.forEach(function(it,Dt){Oe[Dt]=it}),De.body&&De.text().then(function(it){ze=it}),Ze||(Ze=!0,kn(_,De.status,Oe,ze),Cn(ze))}).catch(function(De){Ze||(Ze=!0,kn(_,0,{}))}),dt&&!Ze&&(Ze=!0,kn(_,200,{})),!Ze&&_e.timeout>0&&Rt.set(function(){Ze||(Ze=!0,kn(_,500,{}))},_e.timeout)}i(Hn,"_fetchSendPost");function Qn(_e,_,x){var ue=_e.urlString;function Me(De,Oe,ze){if(!De[ze]&&Oe&&Oe.getResponseHeader){var et=Oe.getResponseHeader(ze);et&&(De[ze]=(0,c.nd)(et))}return De}i(Me,"_appendHeader");function dt(De){var Oe={};return De.getAllResponseHeaders?Oe=Pr(De.getAllResponseHeaders()):(Oe=Me(Oe,De,se),Oe=Me(Oe,De,q),Oe=Me(Oe,De,H)),Oe}i(dt,"_getAllResponseHeaders");function Ze(De,Oe){kn(_,De.status,dt(De),Oe)}i(Ze,"xhrComplete"),x&&_e.disableXhrSync&&(x=!1);var he=(0,R.ot)(ie,ue,mt,!0,x,_e.timeout);(0,c.rW)(_e.headers,function(De,Oe){he.setRequestHeader(De,Oe)}),he.onload=function(){var De=Bt(he);Ze(he,De),Cn(De)},he.onerror=function(){Ze(he)},he.ontimeout=function(){Ze(he)},he.send(_e.data)}i(Qn,"_xhrSendPost");function kn(_e,_,x,ue){try{_e(_,x,ue)}catch(Me){(0,B.kP)(wn,2,518,(0,g.eU)(Me))}}i(kn,"_doOnComplete");function Dr(_e,_,x){var ue=_e,Me=200,dt=ue._thePayload,Ze=_e.urlString+(In?Et:z);try{var he=(0,g.jW)();if(!he.sendBeacon(Ze,_e.data))if(dt){var De=[];(0,c.tO)(dt.batches,function(Oe){if(De&&Oe&&Oe.count()>0){for(var ze=Oe.events(),et=0;et<ze.length;et++)if(!he.sendBeacon(Ze,Xt.getEventBlob(ze[et]))){De.push(Oe.split(et));break}}else De.push(Oe.split(0))}),Pn(De,8003,dt.sendType,!0)}else Me=0}catch(Oe){(0,B.jV)(wn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,g.eU)(Oe)),Me=0}finally{kn(_,Me,{},z)}}i(Dr,"_beaconSendPost");function Jn(_e){return _e===2||_e===3}i(Jn,"_isBeaconPayload");function Mn(_e){return Kt&&Jn(_e)&&(_e=2),_e}i(Mn,"_adjustSendType"),Lt.addQueryStringParameter=function(_e,_){for(var x=0;x<$t.length;x++)if($t[x].name===_e){$t[x].value=_;return}$t.push({name:_e,value:_})},Lt.addHeader=function(_e,_){dn[_e]=_},Lt.canSendRequest=function(){return Ir()&&ln.allowRequestSending()},Lt.sendQueuedRequests=function(_e,_){(0,c.o8)(_e)&&(_e=0),Kt&&(_e=Mn(_e),_=2),ir(It,_e,0)&&ar(rr(),0,!1,_e,_||0)},Lt.isCompletelyIdle=function(){return!Yt&&xn===0&&It.length===0},Lt.setUnloading=function(_e){Kt=_e},Lt.addBatch=function(_e){if(_e&&_e.count()>0){if(Wt.isTenantKilled(_e.iKey()))return!1;It.push(_e)}return!0},Lt.teardown=function(){It.length>0&&ar(rr(),0,!0,2,2)},Lt.pause=function(){Yt=!0},Lt.resume=function(){Yt=!1,Lt.sendQueuedRequests(0,4)},Lt.sendSynchronousBatch=function(_e,_,x){_e&&_e.count()>0&&((0,c.le)(_)&&(_=1),Kt&&(_=Mn(_),x=2),ar([_e],0,!1,_,x||0))};function Ir(){return!Yt&&xn<At}i(Ir,"_hasIdleConnection");function rr(){var _e=It;return It=[],_e}i(rr,"_clearQueue");function ir(_e,_,x){var ue=!1;return _e&&_e.length>0&&!Yt&&rn[_]&&Xt&&(ue=_!==0||Ir()&&(x>0||ln.allowRequestSending())),ue}i(ir,"_canSendPayload");function fr(_e){var _={};return _e&&(0,c.tO)(_e,function(x,ue){_[ue]={iKey:x.iKey(),evts:x.events()}}),_}i(fr,"_createDebugBatches");function ar(_e,_,x,ue,Me){if(!(!_e||_e.length===0)){if(Yt){Pn(_e,1,ue);return}ue=Mn(ue);try{var dt=_e,Ze=ue!==0;(0,A.Lm)(yt,function(){return"HttpManager:_sendBatches"},function(he){he&&(_e=_e.slice(0));for(var De=[],Oe=null,ze=(0,R.hK)(),et=rn[ue]||(Ze?rn[1]:rn[0]),it=et&&et._transport,Dt=Be&&(Kt||Jn(ue)||it===3||et._isSync&&it===2);ir(_e,ue,_);){var Ct=_e.shift();Ct&&Ct.count()>0&&(Wt.isTenantKilled(Ct.iKey())?De.push(Ct):(Oe=Oe||Xt.createPayload(_,x,Ze,Dt,Me,ue),Xt.appendPayload(Oe,Ct,gt)?Oe.overflow!==null&&(_e=[Oe.overflow].concat(_e),Oe.overflow=null,or(Oe,ze,(0,R.hK)(),Me),ze=(0,R.hK)(),Oe=null):(or(Oe,ze,(0,R.hK)(),Me),ze=(0,R.hK)(),_e=[Ct].concat(_e),Oe=null)))}Oe&&or(Oe,ze,(0,R.hK)(),Me),_e.length>0&&(It=_e.concat(It)),Pn(De,8004,ue)},function(){return{batches:fr(dt),retryCount:_,isTeardown:x,isSynchronous:Ze,sendReason:Me,useSendBeacon:Jn(ue),sendType:ue}},!Ze)}catch(he){(0,B.kP)(wn,2,48,"Unexpected Exception sending batch: "+(0,g.eU)(he))}}}i(ar,"_sendBatches");function $r(_e,_){var x={url:ot,hdrs:{},useHdrs:!1};_?(x.hdrs=(0,R.l7)(x.hdrs,dn),x.useHdrs=(0,c.FY)(x.hdrs).length>0):(0,c.rW)(dn,function(he,De){Ht[he]?Ut(x,Ht[he],De,!1):(x.hdrs[he]=De,x.useHdrs=!0)}),Ut(x,be,"NO_AUTH",_),Ut(x,Te,R.vs,_);var ue=z;(0,c.tO)(_e.apiKeys,function(he){ue.length>0&&(ue+=","),ue+=he}),Ut(x,ce,ue,_),Ut(x,F,(0,c.m6)().toString(),_);var Me=pr(_e);if((0,R.Sn)(Me)&&(x.url+="&ext.intweb.msfpc="+Me),ln.shouldAddClockSkewHeaders()&&Ut(x,ne,ln.getClockSkewHeaderValue(),_),yt.getWParam){var dt=yt.getWParam();dt>=0&&(x.url+="&w="+dt)}for(var Ze=0;Ze<$t.length;Ze++)x.url+="&"+$t[Ze].name+"="+$t[Ze].value;return x}i($r,"_buildRequestDetails");function sr(_e,_,x){_e[_]=_e[_]||{},_e[_][vn.identifier]=x}i(sr,"_setTimingValue");function or(_e,_,x,ue){if(_e&&_e.payloadBlob&&_e.payloadBlob.length>0){var Me=!!Lt.sendHook,dt=rn[_e.sendType];!Jn(_e.sendType)&&_e.isBeacon&&_e.sendReason===2&&(dt=rn[2]||rn[3]||dt);var Ze=pn;(_e.isBeacon||dt._transport===3)&&(Ze=!1);var he=$r(_e,Ze);Ze=Ze||he.useHdrs;var De=(0,R.hK)();(0,A.Lm)(yt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Oe=0;Oe<_e.batches.length;Oe++)for(var ze=_e.batches[Oe],et=ze.events(),it=0;it<et.length;it++){var Dt=et[it];if(cn){var Ct=Dt.timings=Dt.timings||{};sr(Ct,"sendEventStart",De),sr(Ct,"serializationStart",_),sr(Ct,"serializationCompleted",x)}Dt[Qe]>0?Dt[Qe]++:Dt[Qe]=1}Pn(_e.batches,1e3+(ue||0),_e.sendType,!0);var Mt={data:_e.payloadBlob,urlString:he.url,headers:he.hdrs,_thePayload:_e,_sendReason:ue,timeout:Ln,disableXhrSync:_n,disableFetchKeepAlive:Un};Ze&&(jt(Mt.headers,Q)||(Mt.headers[Q]=j),jt(Mt.headers,te)||(Mt.headers[te]=V));var Bn=null;dt&&(Bn=i(function(Ot){ln.firstRequestSent();var Yn=i(function(Gn,ur){yr(Gn,ur,_e,ue)},"onComplete"),Fn=_e.isTeardown||_e.isSync;try{dt.sendPOST(Ot,Yn,Fn),Lt.sendListener&&Lt.sendListener(Mt,Ot,Fn,_e.isBeacon)}catch(Gn){(0,B.jV)(wn,"Unexpected exception sending payload. Ex:"+(0,g.eU)(Gn)),kn(Yn,0,{})}},"sender")),(0,A.Lm)(yt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Bn)if(_e.sendType===0&&xn++,Me&&!_e.isBeacon&&dt._transport!==3){var Ot={data:Mt.data,urlString:Mt.urlString,headers:(0,R.l7)({},Mt.headers),timeout:Mt.timeout,disableXhrSync:Mt.disableXhrSync,disableFetchKeepAlive:Mt.disableFetchKeepAlive},Yn=!1;(0,A.Lm)(yt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Lt.sendHook(Ot,function(Fn){Yn=!0,!zt&&!Fn._thePayload&&(Fn._thePayload=Fn._thePayload||Mt._thePayload,Fn._sendReason=Fn._sendReason||Mt._sendReason),Bn(Fn)},_e.isSync||_e.isTeardown)}catch(Fn){Yn||Bn(Mt)}})}else Bn(Mt)})},function(){return{thePayload:_e,serializationStart:_,serializationCompleted:x,sendReason:ue}},_e.isSync)}_e.sizeExceed&&_e.sizeExceed.length>0&&Pn(_e.sizeExceed,8003,_e.sendType),_e.failedEvts&&_e.failedEvts.length>0&&Pn(_e.failedEvts,8002,_e.sendType)}i(or,"_doPayloadSend");function Fr(_e,_){cn&&(0,c.tO)(_e,function(x){var ue=x.timings=x.timings||{};sr(ue,"sendEventCompleted",_)})}i(Fr,"_addEventCompletedTimings");function yr(_e,_,x,ue){var Me=9e3,dt=null,Ze=!1,he=!1;try{var De=!0;if(typeof _e!==ge.jA){if(_){ln.setClockSkew(_[se]);var Oe=_[q]||_["kill-duration-seconds"];(0,c.tO)(Wt.setKillSwitchTenants(_[me],Oe),function(et){(0,c.tO)(x.batches,function(it){if(it.iKey()===et){dt=dt||[];var Dt=it.split(0);x.numEvents-=Dt.count(),dt.push(Dt)}})})}if(_e==200||_e==204){Me=200;return}(!D(_e)||x.numEvents<=0)&&(De=!1),Me=9e3+_e%1e3}if(De){Me=100;var ze=x.retryCnt;x.sendType===0&&(ze<rt?(Ze=!0,dr(function(){x.sendType===0&&xn--,ar(x.batches,ze+1,x.isTeardown,Kt?2:x.sendType,5)},Kt,X(ze))):(he=!0,Kt&&(Me=8001)))}}finally{Ze||(ln.setClockSkew(),xr(x,Me,ue,he)),Pn(dt,8004,x.sendType)}}i(yr,"_retryRequestIfNeeded");function xr(_e,_,x,ue){try{ue&&vn._backOffTransmission(),_===200&&(!ue&&!_e.isSync&&vn._clearBackOff(),Or(_e.batches)),Pn(_e.batches,_,_e.sendType,!0)}finally{_e.sendType===0&&(xn--,x!==5&&Lt.sendQueuedRequests(_e.sendType,x))}}i(xr,"_handleRequestFinished");function Or(_e){if(cn){var _=(0,R.hK)();(0,c.tO)(_e,function(x){x&&x.count()>0&&Fr(x.events(),_)})}}i(Or,"_addCompleteTimings");function dr(_e,_,x){_?_e():Rt.set(_e,x)}i(dr,"_doAction");function Pr(_e){var _={};if((0,c.HD)(_e)){var x=(0,c.nd)(_e).split(/[\r\n]+/);(0,c.tO)(x,function(ue){if(ue){var Me=ue.indexOf(": ");if(Me!==-1){var dt=(0,c.nd)(ue.substring(0,Me)).toLowerCase(),Ze=(0,c.nd)(ue.substring(Me+1));_[dt]=Ze}else _[(0,c.nd)(ue)]=1}})}return _}i(Pr,"_convertAllHeadersToMap");function pr(_e){for(var _=0;_<_e.batches.length;_++){var x=_e.batches[_].Msfpc();if(x)return encodeURIComponent(x)}return z}i(pr,"_getMsfpc");function Cn(_e){var _=Lt._responseHandlers;try{for(var x=0;x<_.length;x++)try{_[x](_e)}catch(Me){(0,B.kP)(wn,1,519,"Response handler failed: "+Me)}if(_e){var ue=JSON.parse(_e);(0,R.Sn)(ue.webResult)&&(0,R.Sn)(ue.webResult[He])&&mn.set("MSFPC",ue.webResult[He],365*86400)}}catch(Me){}}i(Cn,"_handleCollectorResponse");function Pn(_e,_,x,ue){if(_e&&_e.length>0&&kt){var Me=kt[gn(_)];if(Me){var dt=x!==0;(0,A.Lm)(yt,function(){return"HttpManager:_sendBatchesNotification"},function(){dr(function(){try{Me.call(kt,_e,_,dt,x)}catch(Ze){(0,B.kP)(wn,1,74,"send request notification failed: "+Ze)}},ue||dt,0)},function(){return{batches:fr(_e),reason:_,isSync:dt,sendSync:ue,sendType:x}},!dt)}}}i(Pn,"_sendBatchesNotification");function gn(_e){var _=xt[_e];return(0,R.Sn)(_)||(_=N,_e>=9e3&&_e<=9999?_=w:_e>=8e3&&_e<=8999?_=U:_e>=1e3&&_e<=1999&&(_=I)),_}i(gn,"_getNotificationAction")})}return i(ft,"HttpManager"),ft.__ieDyn=1,ft}();function Sn(ft,gt){for(var At=[],rt=2;rt<arguments.length;rt++)At[rt-2]=arguments[rt];return setTimeout(ft,gt,At)}i(Sn,"defaultSetTimeout");function lr(ft){clearTimeout(ft)}i(lr,"defaultClearTimeout");function jn(ft,gt){return{set:ft||Sn,clear:gt||lr}}i(jn,"createTimeoutWrapper");var Tn=.25,wr=500,nr=20,Rr=6,_r=2,gr=4,Cr=2,re=1,We="eventsDiscarded",qe="overrideInstrumentationKey",ct="maxEventRetryAttempts",bt="maxUnloadEventRetryAttempts",Tt="addUnloadCb",Rn=function(ft){(0,C.ne)(gt,ft);function gt(){var At=ft.call(this)||this;At.identifier="PostChannel",At.priority=1011,At.version="3.2.8";var rt,kt=!1,Rt=[],ot=null,Wt=!1,Yt=0,ln=500,un=0,xn=1e4,vn={},wn=W,rn=null,yt=null,zt=0,$t=0,dn,It,Xt={},cn,mn,Kt=-1,pn,Ln=!0,_n=!1,Un=Rr,Be=_r,In,Lt;return(0,d.Z)(gt,At,function(mt,On){Ir(),mt._getDbgPlgTargets=function(){return[It]},mt.initialize=function(he,De,Oe){(0,A.Lm)(De,function(){return"PostChannel:initialize"},function(){var ze=De;On.initialize(he,De,Oe);try{var et=!!De[Tt];In=(0,p.jU)((0,K.J)(mt.identifier),De.evtNamespace&&De.evtNamespace());var it=mt._getTelCtx();he.extensionConfig[mt.identifier]=he.extensionConfig[mt.identifier]||{},rt=it.getExtCfg(mt.identifier),Lt=jn(rt.setTimeoutOverride,rt.clearTimeoutOverride),Ln=!rt.disableOptimizeObj&&(0,R.mJ)(),cr(ze),rt.eventsLimitInMem>0&&(xn=rt.eventsLimitInMem),rt.immediateEventLimit>0&&(ln=rt.immediateEventLimit),rt.autoFlushEventsLimit>0&&(cn=rt.autoFlushEventsLimit),(0,c.hj)(rt[ct])&&(Un=rt[ct]),(0,c.hj)(rt[bt])&&(Be=rt[bt]),Ze(),rt.httpXHROverride&&rt.httpXHROverride.sendPOST&&(dn=rt.httpXHROverride),(0,R.Sn)(he.anonCookieName)&&It.addQueryStringParameter("anoncknm",he.anonCookieName),It.sendHook=rt.payloadPreprocessor,It.sendListener=rt.payloadListener;var Dt=rt.overrideEndpointUrl?rt.overrideEndpointUrl:he.endpointUrl;mt._notificationManager=De.getNotifyMgr(),It.initialize(Dt,mt.core,mt,dn,rt);var Ct=he.disablePageUnloadEvents||[];(0,p.c9)(Hn,Ct,In),(0,p.TJ)(Hn,Ct,In),(0,p.nD)(Qn,he.disablePageShowEvents,In)}catch(Mt){throw mt.setInitialized(!1),Mt}},function(){return{coreConfig:he,core:De,extensions:Oe}})},mt.processTelemetry=function(he,De){(0,R.if)(he,mt.identifier),De=mt._getTelCtx(De);var Oe=De.getExtCfg(mt.identifier),ze=!!rt.disableTelemetry;Oe&&(ze=ze||!!Oe.disableTelemetry);var et=he;!ze&&!kt&&(rt[qe]&&(et.iKey=rt[qe]),Oe&&Oe[qe]&&(et.iKey=Oe[qe]),kn(et,!0),_n?fr(2,2):Mn()),mt.processNext(et,De)},mt._doTeardown=function(he,De){fr(2,2),kt=!0,It.teardown(),(0,p.JA)(null,In),(0,p.C9)(null,In),(0,p.Yl)(null,In),Ir()};function cr(he){var De=he.getWParam;he.getWParam=function(){var Oe=0;return rt.ignoreMc1Ms0CookieProcessing&&(Oe=Oe|2),Oe|De()}}i(cr,"_hookWParam");function Hn(he){var De=he||(0,g.Jj)().event;De.type!=="beforeunload"&&(_n=!0,It.setUnloading(_n)),fr(2,2)}i(Hn,"_handleUnloadEvents");function Qn(he){_n=!1,It.setUnloading(_n)}i(Qn,"_handleShowEvents");function kn(he,De){if(he.sendAttempt||(he.sendAttempt=0),he.latency||(he.latency=1),he.ext&&he.ext[ke]&&delete he.ext[ke],he.ext&&he.ext[k]&&he.ext[k].id&&delete he.ext[k].id,Ln&&(R.if,he.ext=(0,c.Ax)(he.ext),he.baseData&&(he.baseData=(0,c.Ax)(he.baseData)),he.data&&(he.data=(0,c.Ax)(he.data))),he.sync){if(zt||Wt)he.latency=3,he.sync=!1;else if(It){Ln&&(he=(0,c.Ax)(he)),It.sendSynchronousBatch(le.create(he.iKey,[he]),he.sync===!0?1:he.sync,3);return}}var Oe=he.latency,ze=un,et=xn;Oe===4&&(ze=Yt,et=ln);var it=!1;if(ze<et)it=!or(he,De);else{var Dt=1,Ct=nr;Oe===4&&(Dt=4,Ct=1),it=!0,Fr(he.iKey,he.latency,Dt,Ct)&&(it=!or(he,De))}it&&gn(We,[he],$.h.QueueFull)}i(kn,"_addEventToQueues"),mt.setEventQueueLimits=function(he,De){xn=he>0?he:1e4,cn=De>0?De:0,Ze();var Oe=un>he;if(!Oe&&mn>0)for(var ze=1;!Oe&&ze<=3;ze++){var et=Xt[ze];et&&et.batches&&(0,c.tO)(et.batches,function(it){it&&it.count()>=mn&&(Oe=!0)})}sr(!0,Oe)},mt.pause=function(){ir(),Wt=!0,It.pause()},mt.resume=function(){Wt=!1,It.resume(),Mn()},mt.addResponseHandler=function(he){It._responseHandlers.push(he)},mt._loadTransmitProfiles=function(he){Pr(),(0,c.rW)(he,function(De,Oe){var ze=Oe.length;if(ze>=2){var et=ze>2?Oe[2]:0;if(Oe.splice(0,ze-2),Oe[1]<0&&(Oe[0]=-1),Oe[1]>0&&Oe[0]>0){var it=Oe[0]/Oe[1];Oe[0]=Math.ceil(it)*Oe[1]}et>=0&&Oe[1]>=0&&et>Oe[1]&&(et=Oe[1]),Oe.push(et),vn[De]=Oe}})},mt.flush=function(he,De,Oe){if(he===void 0&&(he=!0),!Wt)if(Oe=Oe||1,he)ot==null?(ir(),xr(1,0,Oe),ot=rr(function(){ot=null,Or(De,Oe)},0)):Rt.push(De);else{var ze=ir();Dr(1,1,Oe),De!=null&&De(),ze&&Mn()}},mt.setMsaAuthTicket=function(he){It.addHeader(Se,he)},mt.hasEvents=Jn,mt._setTransmitProfile=function(he){wn!==he&&vn[he]!==void 0&&(ir(),wn=he,Mn())};function Dr(he,De,Oe){var ze=xr(he,De,Oe);return It.sendQueuedRequests(De,Oe),ze}i(Dr,"_sendEventsForLatencyAndAbove");function Jn(){return un>0}i(Jn,"_hasEvents");function Mn(){if(Kt>=0&&xr(Kt,0,pn)&&It.sendQueuedRequests(0,pn),Yt>0&&!yt&&!Wt){var he=vn[wn][2];he>=0&&(yt=rr(function(){yt=null,Dr(4,0,1),Mn()},he))}var De=vn[wn][1];!rn&&!ot&&De>=0&&!Wt&&(Jn()?rn=rr(function(){rn=null,Dr($t===0?3:1,0,1),$t++,$t%=2,Mn()},De):$t=0)}i(Mn,"_scheduleTimer"),mt._backOffTransmission=function(){zt<gr&&(zt++,ir(),Mn())},mt._clearBackOff=function(){zt&&(zt=0,ir(),Mn())};function Ir(){rt=null,kt=!1,Rt=[],ot=null,Wt=!1,Yt=0,ln=500,un=0,xn=1e4,vn={},wn=W,rn=null,yt=null,zt=0,$t=0,dn=null,Xt={},cn=void 0,mn=0,Kt=-1,pn=null,Ln=!0,_n=!1,Un=Rr,Be=_r,In=null,Lt=jn(),It=new fn(wr,Cr,re,{requeue:Cn,send:_,sent:x,drop:ue,rspFail:Me,oth:dt},Lt),pr(),ar(),Ze()}i(Ir,"_initDefaults");function rr(he,De){De===0&&zt&&(De=1);var Oe=1e3;return zt&&(Oe=X(zt-1)),Lt.set(he,De*Oe)}i(rr,"_createTimer");function ir(){return rn!==null?(Lt.clear(rn),rn=null,$t=0,!0):!1}i(ir,"_clearScheduledTimer");function fr(he,De){ir(),ot&&(Lt.clear(ot),ot=null),Wt||Dr(1,he,De)}i(fr,"_releaseAllQueues");function ar(){Xt[4]={batches:[],iKeyMap:{}},Xt[3]={batches:[],iKeyMap:{}},Xt[2]={batches:[],iKeyMap:{}},Xt[1]={batches:[],iKeyMap:{}}}i(ar,"_clearQueues");function $r(he,De,Oe){var ze=Xt[De];ze||(De=1,ze=Xt[De]);var et=ze.iKeyMap[he];return!et&&Oe&&(et=le.create(he),ze.batches.push(et),ze.iKeyMap[he]=et),et}i($r,"_getEventBatch");function sr(he,De){It.canSendRequest()&&!zt&&(cn>0&&un>cn&&(De=!0),De&&ot==null&&mt.flush(he,null,20))}i(sr,"_performAutoFlush");function or(he,De){Ln&&(he=(0,c.Ax)(he));var Oe=he.latency,ze=$r(he.iKey,Oe,!0);return ze.addEvent(he)?(Oe!==4?(un++,De&&he.sendAttempt===0&&sr(!he.sync,mn>0&&ze.count()>=mn)):Yt++,!0):!1}i(or,"_addEventToProperQueue");function Fr(he,De,Oe,ze){for(;Oe<=De;){var et=$r(he,De,!0);if(et&&et.count()>0){var it=et.split(0,ze),Dt=it.count();if(Dt>0)return Oe===4?Yt-=Dt:un-=Dt,_e(We,[it],$.h.QueueFull),!0}Oe++}return yr(),!1}i(Fr,"_dropEventWithLatencyOrLess");function yr(){for(var he=0,De=0,Oe=i(function(et){var it=Xt[et];it&&it.batches&&(0,c.tO)(it.batches,function(Dt){et===4?he+=Dt.count():De+=Dt.count()})},"_loop_1"),ze=1;ze<=4;ze++)Oe(ze);un=De,Yt=he}i(yr,"_resetQueueCounts");function xr(he,De,Oe){var ze=!1,et=De===0;return!et||It.canSendRequest()?(0,A.Lm)(mt.core,function(){return"PostChannel._queueBatches"},function(){for(var it=[],Dt=4;Dt>=he;){var Ct=Xt[Dt];Ct&&Ct.batches&&Ct.batches.length>0&&((0,c.tO)(Ct.batches,function(Mt){It.addBatch(Mt)?ze=ze||Mt&&Mt.count()>0:it=it.concat(Mt.events()),Dt===4?Yt-=Mt.count():un-=Mt.count()}),Ct.batches=[],Ct.iKeyMap={}),Dt--}it.length>0&&gn(We,it,$.h.KillSwitch),ze&&Kt>=he&&(Kt=-1,pn=0)},function(){return{latency:he,sendType:De,sendReason:Oe}},!et):(Kt=Kt>=0?Math.min(Kt,he):he,pn=Math.max(pn,Oe)),ze}i(xr,"_queueBatches");function Or(he,De){Dr(1,0,De),yr(),dr(function(){he&&he(),Rt.length>0?ot=rr(function(){ot=null,Or(Rt.shift(),De)},0):(ot=null,Mn())})}i(Or,"_flushImpl");function dr(he){It.isCompletelyIdle()?he():ot=rr(function(){ot=null,dr(he)},Tn)}i(dr,"_waitForIdleManager");function Pr(){ir(),pr(),wn=W,Mn()}i(Pr,"_resetTransmitProfiles");function pr(){vn={},vn[W]=[2,1,0],vn[L]=[6,3,0],vn[Y]=[18,9,0]}i(pr,"_initializeProfiles");function Cn(he,De){var Oe=[],ze=Un;_n&&(ze=Be),(0,c.tO)(he,function(et){et&&et.count()>0&&(0,c.tO)(et.events(),function(it){it&&(it.sync&&(it.latency=4,it.sync=!1),it.sendAttempt<ze?((0,R.if)(it,mt.identifier),kn(it,!1)):Oe.push(it))})}),Oe.length>0&&gn(We,Oe,$.h.NonRetryableStatus),_n&&fr(2,2)}i(Cn,"_requeueEvents");function Pn(he,De){var Oe=mt._notificationManager||{},ze=Oe[he];if(ze)try{ze.apply(Oe,De)}catch(et){(0,B.kP)(mt.diagLog(),1,74,he+" notification failed: "+et)}}i(Pn,"_callNotification");function gn(he,De){for(var Oe=[],ze=2;ze<arguments.length;ze++)Oe[ze-2]=arguments[ze];De&&De.length>0&&Pn(he,[De].concat(Oe))}i(gn,"_notifyEvents");function _e(he,De){for(var Oe=[],ze=2;ze<arguments.length;ze++)Oe[ze-2]=arguments[ze];De&&De.length>0&&(0,c.tO)(De,function(et){et&&et.count()>0&&Pn(he,[et.events()].concat(Oe))})}i(_e,"_notifyBatchEvents");function _(he,De,Oe){he&&he.length>0&&Pn("eventsSendRequest",[De>=1e3&&De<=1999?De-1e3:0,Oe!==!0])}i(_,"_sendingEvent");function x(he,De){_e("eventsSent",he,De),Mn()}i(x,"_eventsSentEvent");function ue(he,De){_e(We,he,De>=8e3&&De<=8999?De-8e3:$.h.Unknown)}i(ue,"_eventsDropped");function Me(he){_e(We,he,$.h.NonRetryableStatus),Mn()}i(Me,"_eventsResponseFail");function dt(he,De){_e(We,he,$.h.Unknown),Mn()}i(dt,"_otherEvent");function Ze(){!rt||!rt.disableAutoBatchFlushLimit?mn=Math.max(wr*(Cr+1),xn/6):mn=0}i(Ze,"_setAutoLimits"),(0,c.l_)(mt,"_setTimeoutOverride",function(){return Lt.set},function(he){Lt=jn(he,Lt.clear)}),(0,c.l_)(mt,"_clearTimeoutOverride",function(){return Lt.clear},function(he){Lt=jn(Lt.set,he)})}),At}return i(gt,"PostChannel"),gt.__ieDyn=1,gt}(O.i);const An=Rn},4873:(Ke,v,y)=>{"use strict";y.d(v,{By:()=>d,cc:()=>p});var C=y(6708);function d(K){var R={};return(0,C.rW)(K,function(c,g){R[c]=g,R[g]=c}),(0,C._A)(R)}i(d,"createEnumStyle");function A(K){var R={};return objForEachKey(K,function(c,g){R[c]=c,R[g]=c}),deepFreeze(R)}i(A,"createEnumMap");function p(K){var R={};return(0,C.rW)(K,function(c,g){R[c]=g[1],R[g[0]]=g[1]}),(0,C._A)(R)}i(p,"createValueMap")},5928:(Ke,v,y)=>{"use strict";y.d(v,{h:()=>d});var C=y(4873),d=(0,C.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(Ke,v,y)=>{"use strict";y.d(v,{X:()=>U,v:()=>I});var C=y(4873),d,A="Failed",p=A+"MonitorAjax",K="Track",R="Start",c="Stop",g="Event",$="AuthContext",B="Exception",O="Local",W="Session",L="Storage",Y="Browser",z="Cannot",ie="Buffer",E="InstrumentationKey",U=(0,C.By)({CRITICAL:1,WARNING:2}),I=(0,C.By)((d={},d[Y+"DoesNotSupport"+O+L]=0,d[Y+z+"Read"+O+L]=1,d[Y+z+"Read"+W+L]=2,d[Y+z+"Write"+O+L]=3,d[Y+z+"Write"+W+L]=4,d[Y+A+"RemovalFrom"+O+L]=5,d[Y+A+"RemovalFrom"+W+L]=6,d[z+"SendEmptyTelemetry"]=7,d.ClientPerformanceMathError=8,d["ErrorParsingAI"+W+"Cookie"]=9,d.ErrorPVCalc=10,d[B+"WhileLoggingError"]=11,d[A+"AddingTelemetryTo"+ie]=12,d[p+"Abort"]=13,d[p+"Dur"]=14,d[p+"Open"]=15,d[p+"RSC"]=16,d[p+"Send"]=17,d[p+"GetCorrelationHeader"]=18,d[A+"ToAddHandlerForOnBeforeUnload"]=19,d[A+"ToSendQueuedTelemetry"]=20,d[A+"ToReportDataLoss"]=21,d["Flush"+A]=22,d.MessageLimitPerPVExceeded=23,d.MissingRequiredFieldSpecification=24,d.NavigationTimingNotSupported=25,d.OnError=26,d[W+"RenewalDateIsZero"]=27,d.SenderNotInitialized=28,d[R+K+g+A]=29,d[c+K+g+A]=30,d[R+K+A]=31,d[c+K+A]=32,d.TelemetrySampledAndNotSent=33,d[K+g+A]=34,d[K+B+A]=35,d[K+"Metric"+A]=36,d[K+"PV"+A]=37,d[K+"PV"+A+"Calc"]=38,d[K+"Trace"+A]=39,d["Transmission"+A]=40,d[A+"ToSet"+L+ie]=41,d[A+"ToRestore"+L+ie]=42,d.InvalidBackendResponse=43,d[A+"ToFixDepricatedValues"]=44,d.InvalidDurationValue=45,d.TelemetryEnvelopeInvalid=46,d.CreateEnvelopeError=47,d[z+"SerializeObject"]=48,d[z+"SerializeObjectNonSerializable"]=49,d.CircularReferenceDetected=50,d["Clear"+$+A]=51,d[B+"Truncated"]=52,d.IllegalCharsInName=53,d.ItemNotInArray=54,d.MaxAjaxPerPVExceeded=55,d.MessageTruncated=56,d.NameTooLong=57,d.SampleRateOutOfRange=58,d["Set"+$+A]=59,d["Set"+$+A+"AccountName"]=60,d.StringValueTooLong=61,d.StartCalledMoreThanOnce=62,d.StopCalledWithoutStart=63,d["TelemetryInitializer"+A]=64,d.TrackArgumentsNotSpecified=65,d.UrlTooLong=66,d[W+L+ie+"Full"]=67,d[z+"AccessCookie"]=68,d.IdTooLong=69,d.InvalidEvent=70,d[p+"SetRequestHeader"]=71,d["Send"+Y+"InfoOnUserInit"]=72,d["Plugin"+B]=73,d["Notification"+B]=74,d.SnippetScriptLoadFailure=99,d["Invalid"+E]=100,d[z+"ParseAiBlobValue"]=101,d.InvalidContentBlob=102,d[K+"PageAction"+g+A]=103,d[A+"AddingCustomDefinedRequestContext"]=104,d["InMemory"+L+ie+"Full"]=105,d[E+"Deprecation"]=106,d))},5121:(Ke,v,y)=>{"use strict";y.d(v,{F:()=>B});var C=y(1088),d=y(1679),A=y(8096),p=y(6900),K=y(5018),R=y(6708),c=y(6041),g=y(1880),$=y(9288),B=function(O){(0,C.ne)(W,O);function W(){var L=O.call(this)||this;return(0,d.Z)(W,L,function(Y,z){Y[A.VL]=function(U,I,m,w){z[A.VL](U,I,m||new K.AQ(U),w||new g.f(U))},Y.track=function(U){(0,$.Lm)(Y[c.kl](),function(){return"AppInsightsCore:track"},function(){U===null&&(E(U),(0,R._y)("Invalid telemetry item")),ie(U),z.track(U)},function(){return{item:U}},!U.sync)};function ie(U){(0,R.le)(U[A.I])&&(E(U),(0,R._y)("telemetry name required"))}i(ie,"_validateTelemetryItem");function E(U){var I=Y[A.tb]();I&&I[c.$F]([U],2)}i(E,"_notifyInvalidEvent")}),L}return i(W,"AppInsightsCore"),W.__ieDyn=1,W}(p.A)},6900:(Ke,v,y)=>{"use strict";y.d(v,{A:()=>be});var C=y(1088),d=y(1679),A=y(2091),p=y(8096),K=y(6708),R=y(6041),c=y(1589),g=y(3833),$=500,B="Channel has invalid priority - ";function O(ne,F,ce){F&&(0,K.kJ)(F)&&F[p.R5]>0&&(F=F.sort(function(Se,Re){return Se[R.yi]-Re[R.yi]}),(0,K.tO)(F,function(Se){Se[R.yi]<$&&(0,K._y)(B+Se[p.pZ])}),ne[p.MW]({queue:(0,K.FL)(F),chain:(0,c.jV)(F,ce[p.TC],ce)}))}i(O,"_addChannelQueue");function W(ne,F){function ce(){return(0,c.CD)(null,F[p.TC],F,null)}i(ce,"_getTelCtx");function Se(k,G,ee,le){var Fe=k?k[p.R5]+1:1;function Ge(){Fe--,Fe===0&&(le&&le(),le=null)}i(Ge,"_runChainOnComplete"),Fe>0&&(0,K.tO)(k,function(ve){if(ve&&ve.queue[p.R5]>0){var we=ve.chain,ye=G[p.zV](we);ye[p.Fc](Ge),ee(ye)}else Fe--}),Ge()}i(Se,"_processChannelQueue");function Re(k,G){var ee=G||{reason:0};return Se(ne,k,function(le){le[p.uL](ee)},function(){k[p.uL](ee)}),!0}i(Re,"_doUpdate");function J(k,G){var ee=G||{reason:0,isAsync:!1};return Se(ne,k,function(le){le[p.uL](ee)},function(){k[p.uL](ee),He=!1}),!0}i(J,"_doTeardown");function Je(k){var G=null;return ne&&ne[p.R5]>0&&(0,K.tO)(ne,function(ee){if(ee&&ee.queue[p.R5]>0&&((0,K.tO)(ee.queue,function(le){if(le[p.pZ]===k)return G=le,-1}),G))return-1}),G}i(Je,"_getChannel");var He=!1,ke={identifier:"ChannelControllerPlugin",priority:$,initialize:function(k,G,ee,le){He=!0,(0,K.tO)(ne,function(Fe){Fe&&Fe.queue[p.R5]>0&&(0,g.bP)((0,c.CD)(Fe.chain,k,G),ee)})},isInitialized:function(){return He},processTelemetry:function(k,G){Se(ne,G||ce(),function(ee){ee[p.uL](k)},function(){G[p.uL](k)})},update:Re,pause:function(){Se(ne,ce(),function(k){k.iterate(function(G){G.pause&&G.pause()})},null)},resume:function(){Se(ne,ce(),function(k){k.iterate(function(G){G.resume&&G.resume()})},null)},teardown:J,getChannel:Je,flush:function(k,G,ee,le){var Fe=1,Ge=!1,ve=null;le=le||5e3;function we(){Fe--,Ge&&Fe===0&&(ve&&(clearTimeout(ve),ve=null),G&&G(Ge),G=null)}return i(we,"doCallback"),Se(ne,ce(),function(ye){ye.iterate(function(ge){if(ge[p.kL]){Fe++;var Ae=!1;ge[p.kL](k,function(){Ae=!0,we()},ee)||Ae||(k&&ve==null?ve=setTimeout(function(){ve=null,we()},le):we())}})},function(){Ge=!0,we()}),!0},_setQueue:function(k){ne=k}};return ke}i(W,"createChannelControllerPlugin");function L(ne,F,ce){var Se=[];if(ne&&(0,K.tO)(ne,function(J){return O(Se,J,ce)}),F){var Re=[];(0,K.tO)(F,function(J){J[R.yi]>$&&Re[p.MW](J)}),O(Se,Re,ce)}return Se}i(L,"createChannelQueues");var Y=y(3242),z=y(5883),ie=y(7158),E=y(5018),U=y(9288),I=y(4063),m=y(7630),w=function(ne){(0,C.ne)(F,ne);function F(){var ce=ne.call(this)||this;ce.identifier="TelemetryInitializerPlugin",ce.priority=199;var Se,Re;J(),(0,d.Z)(F,ce,function(Je,He){Je.addTelemetryInitializer=function(ke){var k={id:Se++,fn:ke};Re[p.MW](k);var G={remove:function(){(0,K.tO)(Re,function(ee,le){if(ee.id===k.id)return Re[p.cb](le,1),-1})}};return G},Je[R.hL]=function(ke,k){for(var G=!1,ee=Re[p.R5],le=0;le<ee;++le){var Fe=Re[le];if(Fe)try{if(Fe.fn[p.ZV](null,[ke])===!1){G=!0;break}}catch(Ge){(0,E.kP)(k[p.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,K.jj)(Ge),{exception:(0,m.eU)(Ge)},!0)}}G||Je[p.uL](ke,k)},Je[p.F3]=function(){J()}});function J(){Se=0,Re=[]}return i(J,"_initDefaults"),ce}return i(F,"TelemetryInitializerPlugin"),F.__ieDyn=1,F}(I.i),N=y(310),j="Plugins must provide initialize method",V="_notificationManager",Q="SDK is still unloading...",te="SDK is not initialized",me={loggingLevelConsole:1};function q(ne,F){return new U.Jk(F)}i(q,"_createPerfManager");function H(ne,F,ce){var Se,Re=[],J={};return(0,K.tO)(ce,function(Je){((0,K.le)(Je)||(0,K.le)(Je[p.VL]))&&(0,K._y)(j);var He=Je[R.yi],ke=Je[p.pZ];Je&&He&&((0,K.le)(J[He])?J[He]=ke:(0,E.jV)(ne,"Two extensions have same priority #"+He+" - "+J[He]+", "+ke)),(!He||He<F)&&Re[p.MW](Je)}),Se={all:ce},Se[R.oV]=Re,Se}i(H,"_validateExtensions");function se(ne,F){var ce=!1;return(0,K.tO)(F,function(Se){if(Se===ne)return ce=!0,-1}),ce}i(se,"_isPluginPresent");function Te(){var ne;return(0,A.pu)((ne={},ne[p.g]=function(F){},ne[p.n7]=function(F){},ne[R.uC]=function(F){},ne[R.$F]=function(F,ce){},ne[R.f_]=function(F,ce){},ne))}i(Te,"_createDummyNotificationManager");var be=function(){function ne(){var F,ce,Se,Re,J,Je,He,ke,k,G,ee,le,Fe,Ge,ve,we,ye,ge,Ae,oe,Xe=0;(0,d.Z)(ne,this,function(Pe){D(),Pe[p.yl]=function(){return ce},Pe[p.VL]=function(Qe,Et,xt,wt){Ge&&(0,K._y)(Q),Pe[p.yl]()&&(0,K._y)("Core should not be initialized more than once"),F=Qe||{},Pe[p.TC]=F,(0,K.le)(Qe[p.p$])&&(0,K._y)("Please provide instrumentation key"),Re=wt,Pe[V]=wt,ut(),Jt(),Zt(),xt&&(Pe[p.eZ]=xt);var Ht=(0,K.qK)(F,R.js,[]);k=[],k[p.MW].apply(k,(0,C.$h)((0,C.$h)([],Et,!1),Ht,!1)),le=(0,K.qK)(F,R.Z,[]),fe(null),(!Fe||Fe[p.R5]===0)&&(0,K._y)("No "+R.Z+" available"),ce=!0,Pe.releaseQueue()},Pe.getTransmissionControls=function(){var Qe=[];return Fe&&(0,K.tO)(Fe,function(Et){Qe[p.MW](Et.queue)}),(0,K.FL)(Qe)},Pe.track=function(Qe){Qe.iKey=Qe.iKey||F[p.p$],Qe[p.Z_]=Qe[p.Z_]||(0,K.Y6)(new Date),Qe.ver=Qe.ver||"4.0",!Ge&&Pe[p.yl]()?X()[p.uL](Qe):Se[p.MW](Qe)},Pe[p.SD]=X,Pe[p.tb]=function(){return Re||(Re=Te(),Pe[V]=Re),Re},Pe[p.g]=function(Qe){Re&&Re[p.g](Qe)},Pe[p.n7]=function(Qe){Re&&Re[p.n7](Qe)},Pe.getCookieMgr=function(){return He||(He=(0,Y.Nz)(F,Pe[p.eZ])),He},Pe.setCookieMgr=function(Qe){He=Qe},Pe[R.kl]=function(){if(!J&&!Je&&(0,K.v4)(F.enablePerfMgr)){var Qe=(0,K.v4)(F[R.DN]);(0,K.mf)(Qe)&&(Je=Qe(Pe,Pe[p.tb]()))}return J||Je||(0,U.j5)()},Pe.setPerfMgr=function(Qe){J=Qe},Pe.eventCnt=function(){return Se[p.R5]},Pe.releaseQueue=function(){if(ce&&Se[p.R5]>0){var Qe=Se;Se=[],(0,K.tO)(Qe,function(Et){X()[p.uL](Et)})}},Pe.pollInternalLogs=function(Qe){we=Qe||null;var Et=(0,K.v4)(F.diagnosticLogInterval);return(!Et||!(Et>0))&&(Et=1e4),Xe&&clearInterval(Xe),Xe=setInterval(function(){Ye()},Et),Xe},Pe[p.LS]=function(){Xe&&(clearInterval(Xe),Xe=0,Ye())},(0,K.Vb)(Pe,function(){return ve},["addTelemetryInitializer"]),Pe.unload=function(Qe,Et,xt){var wt;Qe===void 0&&(Qe=!0),ce||(0,K._y)(te),Ge&&(0,K._y)(Q);var Ht=(wt={reason:50},wt[p.d]=Qe,wt.flushComplete=!1,wt),at=(0,c.Bt)(Ve(),Pe);at[p.Fc](function(){D(),Et&&Et(Ht)},Pe);function Bt(jt){Ht.flushComplete=jt,Ge=!0,ge.run(at,Ht),Pe[p.LS](),at[p.uL](Ht)}i(Bt,"_doUnload"),_t(Qe,Bt,6,xt)||Bt(!1)},Pe[p.TO]=$e,Pe.addPlugin=function(Qe,Et,xt,wt){if(!Qe){wt&&wt(!1),bn(j);return}var Ht=$e(Qe[p.pZ]);if(Ht&&!Et){wt&&wt(!1),bn("Plugin ["+Qe[p.pZ]+"] is already loaded!");return}var at={reason:16};function Bt(Nt){k[p.MW](Qe),at.added=[Qe],fe(at),wt&&wt(!0)}if(i(Bt,"_addPlugin"),Ht){var jt=[Ht.plugin],Ut={reason:2,isAsync:!!xt};ht(jt,Ut,function(Nt){Nt?(at.removed=jt,at.reason|=32,Bt(!0)):wt&&wt(!1)})}else Bt(!1)},Pe.evtNamespace=function(){return ye},Pe[p.kL]=_t,Pe.getTraceCtx=function(Qe){return oe||(oe=(0,g.Yn)()),oe},Pe.setTraceCtx=function(Qe){oe=Qe||null},(0,K.Oi)(Pe,"addUnloadCb",function(){return ge},"add");function D(){ce=!1,F=(0,K.mm)(!0,{},me),Pe[p.TC]=F,Pe[p.eZ]=new E.AQ(F),Pe[p.iC]=[],ve=new w,Se=[],Re=null,J=null,Je=null,He=null,ke=null,G=null,k=[],ee=null,le=null,Fe=null,Ge=!1,we=null,ye=(0,z.J)("AIBaseCore",!0),ge=(0,N.Y)(),oe=null}i(D,"_initDefaults");function X(){return(0,c.CD)(Ve(),F,Pe)}i(X,"_createTelCtx");function fe(Qe){var Et=H(Pe[p.eZ],$,k);G=Et[R.oV],ke=null;var xt=Et.all;if(Fe=(0,K.FL)(L(le,xt,Pe)),ee){var wt=(0,K.UA)(xt,ee);wt!==-1&&xt[p.cb](wt,1),wt=(0,K.UA)(G,ee),wt!==-1&&G[p.cb](wt,1),ee._setQueue(Fe)}else ee=W(Fe,Pe);xt[p.MW](ee),G[p.MW](ee),Pe[p.iC]=(0,g.AA)(xt),ee[p.VL](F,Pe,xt),(0,g.bP)(X(),xt),Pe[p.iC]=(0,K.FL)((0,g.AA)(G||[])).slice(),Qe&&on(Qe)}i(fe,"_initPluginChain");function $e(Qe){var Et,xt=null,wt=null;return(0,K.tO)(Pe[p.iC],function(Ht){if(Ht[p.pZ]===Qe&&Ht!==ee&&Ht!==ve)return wt=Ht,-1}),!wt&&ee&&(wt=ee.getChannel(Qe)),wt&&(xt=(Et={plugin:wt},Et[p.$h]=function(Ht){(0,g.OY)(wt)[R.mE]=!Ht},Et.isEnabled=function(){var Ht=(0,g.OY)(wt);return!Ht[p.fi]&&!Ht[R.mE]},Et.remove=function(Ht,at){var Bt;Ht===void 0&&(Ht=!0);var jt=[wt],Ut=(Bt={reason:1},Bt[p.d]=Ht,Bt);ht(jt,Ut,function(Nt){Nt&&fe({reason:32,removed:jt}),at&&at(Nt)})},Et)),xt}i($e,"_getPlugin");function Ve(){if(!ke){var Qe=(G||[]).slice();(0,K.UA)(Qe,ve)===-1&&Qe[p.MW](ve),ke=(0,c.jV)((0,g.AA)(Qe),F,Pe)}return ke}i(Ve,"_getPluginChain");function ht(Qe,Et,xt){if(Qe&&Qe[p.R5]>0){var wt=(0,c.jV)(Qe,F,Pe),Ht=(0,c.Bt)(wt,Pe);Ht[p.Fc](function(){var at=!1,Bt=[];(0,K.tO)(k,function(Ut,Nt){se(Ut,Qe)?at=!0:Bt[p.MW](Ut)}),k=Bt;var jt=[];le&&((0,K.tO)(le,function(Ut,Nt){var fn=[];(0,K.tO)(Ut,function(Sn){se(Sn,Qe)?at=!0:fn[p.MW](Sn)}),jt[p.MW](fn)}),le=jt),xt&&xt(at)}),Ht[p.uL](Et)}else xt(!1)}i(ht,"_removePlugins");function Ye(){var Qe=Pe[p.eZ]?Pe[p.eZ].queue:[];Qe&&((0,K.tO)(Qe,function(Et){var xt,wt=(xt={},xt[p.I]=we||"InternalMessageId: "+Et[p.Gc],xt.iKey=(0,K.v4)(F[p.p$]),xt.time=(0,K.Y6)(new Date),xt.baseType=E.lQ.dataType,xt.baseData={message:Et[p.gU]},xt);Pe.track(wt)}),Qe[p.R5]=0)}i(Ye,"_flushInternalLogs");function _t(Qe,Et,xt,wt){return ee?ee[p.kL](Qe,Et,xt||6,wt):(Et&&Et(!1),!0)}i(_t,"_flushChannels");function ut(){var Qe=(0,K.v4)(F.disableDbgExt);Qe===!0&&Ae&&(Re[p.n7](Ae),Ae=null),Re&&!Ae&&Qe!==!0&&(Ae=(0,ie.p)(F),Re[p.g](Ae))}i(ut,"_initDebugListener");function Jt(){var Qe=(0,K.v4)(F.enablePerfMgr);!Qe&&Je&&(Je=null),Qe&&(0,K.qK)(F,R.DN,q)}i(Jt,"_initPerfManager");function Zt(){var Qe=(0,K.qK)(F,R.Zh,{});Qe.NotificationManager=Re}i(Zt,"_initExtConfig");function on(Qe){var Et=(0,c.xy)(Ve(),Pe);(!Pe._updateHook||Pe._updateHook(Et,Qe)!==!0)&&Et[p.uL](Qe)}i(on,"_doUpdate");function bn(Qe){var Et=Pe[p.eZ];Et?(0,E.kP)(Et,2,73,Qe):(0,K._y)(Qe)}i(bn,"_logOrThrowError")})}return i(ne,"BaseCore"),ne.__ieDyn=1,ne}()},4063:(Ke,v,y)=>{"use strict";y.d(v,{i:()=>g});var C=y(1679),d=y(8096),A=y(6708),p=y(6041),K=y(1589),R=y(310),c="getPlugin",g=function(){function $(){var B=this,O,W,L,Y,z;U(),(0,C.Z)($,B,function(I){I[d.VL]=function(m,w,N,j){E(m,w,j),O=!0},I[d.fi]=function(m,w){var N,j=I[p.oV];if(!j||m&&j!==m[p.oV]())return;var V,Q=!1,te=m||(0,K.Bt)(null,j,L&&L[c]?L[c]():L),me=w||(N={reason:0},N[d.d]=!1,N);function q(){if(!Q){Q=!0,Y.run(te,w);var H=z;z=[],(0,A.tO)(H,function(se){se.rm()}),V===!0&&te[d.uL](me),U()}}return i(q,"_unloadCallback"),!I[d.F3]||I[d.F3](te,me,q)!==!0?q():V=!0,V},I[d.Tu]=function(m,w){var N=I[p.oV];if(!N||m&&N!==m[p.oV]())return;var j,V=!1,Q=m||(0,K.xy)(null,N,L&&L[c]?L[c]():L),te=w||{reason:0};function me(){V||(V=!0,E(Q.getCfg(),Q.core(),Q[d.W2]()))}return i(me,"_updateCallback"),!I._doUpdate||I._doUpdate(Q,te,me)!==!0?me():j=!0,j},I._addHook=function(m){m&&((0,A.kJ)(m)?z=z.concat(m):z[d.MW](m))},(0,A.Oi)(I,"_addUnloadCb",function(){return Y},"add")}),B[d.mc]=function(I){return ie(I)[d.mc]()},B[d.yl]=function(){return O},B.setInitialized=function(I){O=I},B[d.Jd]=function(I){L=I},B[d.uL]=function(I,m){m?m[d.uL](I):L&&(0,A.mf)(L[p.hL])&&L[p.hL](I,null)},B._getTelCtx=ie;function ie(I){I===void 0&&(I=null);var m=I;if(!m){var w=W||(0,K.CD)(null,{},B[p.oV]);L&&L[c]?m=w[d.zV](null,L[c]):m=w[d.zV](null,L)}return m}i(ie,"_getTelCtx");function E(I,m,w){I&&(0,A.sO)(I,p.Zh,[],null,A.le),!w&&m&&(w=m[d.SD]()[d.W2]());var N=L;L&&L[c]&&(N=L[c]()),B[p.oV]=m,W=(0,K.CD)(w,I,m,N)}i(E,"_setDefaults");function U(){O=!1,B[p.oV]=null,W=null,L=null,z=[],Y=(0,R.Y)()}i(U,"_initDefaults")}return i($,"BaseTelemetryPlugin"),$.__ieDyn=1,$}()},3242:(Ke,v,y)=>{"use strict";y.d(v,{kj:()=>m,JP:()=>Q,Nz:()=>te,p7:()=>me,UY:()=>ne});var C=y(8096),d=y(5018),A=y(7630),p=y(6708),K=y(6041),R="toGMTString",c="toUTCString",g="cookie",$="expires",B="enabled",O="isCookieUseDisabled",W="disableCookiesUsage",L="_ckMgr",Y=null,z=null,ie=null,E=(0,A.Me)(),U={},I={};function m(F,ce){var Se=te[L]||I[L];return Se||(Se=te[L]=te(F,ce),I[L]=Se),Se}i(m,"_gblCookieMgr");function w(F){return F?F.isEnabled():!0}i(w,"_isMgrEnabled");function N(F){var ce=F[C.Lk]=F[C.Lk]||{};if((0,p.sO)(ce,"domain",F.cookieDomain,p.BX,p.le),(0,p.sO)(ce,"path",F.cookiePath||"/",null,p.le),(0,p.le)(ce[B])){var Se=void 0;(0,p.o8)(F[O])||(Se=!F[O]),(0,p.o8)(F[W])||(Se=!F[W]),ce[B]=Se}return ce}i(N,"_createCookieMgrConfig");function j(F,ce){return ce&&F&&(0,p.kJ)(F.ignoreCookies)?F.ignoreCookies[C.ou](ce)!==-1:!1}i(j,"_isIgnoredCookie");function V(F,ce){return ce&&F&&(0,p.kJ)(F.blockedCookies)&&F.blockedCookies[C.ou](ce)!==-1?!0:j(F,ce)}i(V,"_isBlockedCookie");function Q(F,ce){var Se;if(F)Se=F.getCookieMgr();else if(ce){var Re=ce[C.Lk];Re[L]?Se=Re[L]:Se=te(ce)}return Se||(Se=m(ce,(F||{})[C.eZ])),Se}i(Q,"safeGetCookieMgr");function te(F,ce){var Se,Re=N(F||I),J=Re.path||"/",Je=Re.domain,He=Re[B]!==!1,ke=(Se={isEnabled:function(){var k=He&&me(ce),G=I[L];return k&&G&&ke!==G&&(k=w(G)),k}},Se[C.$h]=function(k){He=k!==!1},Se.set=function(k,G,ee,le,Fe){var Ge=!1;if(w(ke)&&!V(Re,k)){var ve={},we=(0,p.nd)(G||K.qS),ye=we[C.ou](";");if(ye!==-1&&(we=(0,p.nd)(G[C.zc](0,ye)),ve=q(G[C.zc](ye+1))),(0,p.sO)(ve,"domain",le||Je,p.fQ,p.o8),!(0,p.le)(ee)){var ge=(0,A.w1)();if((0,p.o8)(ve[$])){var Ae=(0,p.m6)(),oe=Ae+ee*1e3;if(oe>0){var Xe=new Date;Xe.setTime(oe),(0,p.sO)(ve,$,H(Xe,ge?R:c)||H(Xe,ge?R:c)||K.qS,p.fQ)}}ge||(0,p.sO)(ve,"max-age",K.qS+ee,null,p.o8)}var Pe=(0,A.k$)();Pe&&Pe.protocol==="https:"&&((0,p.sO)(ve,"secure",null,null,p.o8),z===null&&(z=!ne(((0,A.jW)()||{})[C.qV])),z&&(0,p.sO)(ve,"SameSite","None",null,p.o8)),(0,p.sO)(ve,"path",Fe||J,null,p.o8);var D=Re.setCookie||be;D(k,se(we,ve)),Ge=!0}return Ge},Se.get=function(k){var G=K.qS;return w(ke)&&!j(Re,k)&&(G=(Re.getCookie||Te)(k)),G},Se.del=function(k,G){var ee=!1;return w(ke)&&(ee=ke.purge(k,G)),ee},Se.purge=function(k,G){var ee,le=!1;if(me(ce)){var Fe=(ee={},ee.path=G||"/",ee[$]="Thu, 01 Jan 1970 00:00:01 GMT",ee);(0,A.w1)()||(Fe["max-age"]="0");var Ge=Re.delCookie||be;Ge(k,se(K.qS,Fe)),le=!0}return le},Se);return ke[L]=ke,ke}i(te,"createCookieMgr");function me(F){if(Y===null){Y=!1;try{var ce=E||{};Y=ce[g]!==void 0}catch(Se){(0,d.kP)(F,2,68,"Cannot access document.cookie - "+(0,p.jj)(Se),{exception:(0,A.eU)(Se)})}}return Y}i(me,"areCookiesSupported");function q(F){var ce={};if(F&&F[C.R5]){var Se=(0,p.nd)(F)[C.w6](";");(0,p.tO)(Se,function(Re){if(Re=(0,p.nd)(Re||K.qS),Re){var J=Re[C.ou]("=");J===-1?ce[Re]=null:ce[(0,p.nd)(Re[C.zc](0,J))]=(0,p.nd)(Re[C.zc](J+1))}})}return ce}i(q,"_extractParts");function H(F,ce){return(0,p.mf)(F[ce])?F[ce]():null}i(H,"_formatDate");function se(F,ce){var Se=F||K.qS;return(0,p.rW)(ce,function(Re,J){Se+="; "+Re+((0,p.le)(J)?K.qS:"="+J)}),Se}i(se,"_formatCookieValue");function Te(F){var ce=K.qS;if(E){var Se=E[g]||K.qS;ie!==Se&&(U=q(Se),ie=Se),ce=(0,p.nd)(U[F]||K.qS)}return ce}i(Te,"_getCookieValue");function be(F,ce){E&&(E[g]=F+"="+ce)}i(be,"_setCookieValue");function ne(F){return(0,p.HD)(F)?!!((0,p._Q)(F,"CPU iPhone OS 12")||(0,p._Q)(F,"iPad; CPU OS 12")||(0,p._Q)(F,"Macintosh; Intel Mac OS X 10_14")&&(0,p._Q)(F,"Version/")&&(0,p._Q)(F,"Safari")||(0,p._Q)(F,"Macintosh; Intel Mac OS X 10_14")&&(0,p.Id)(F,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,p._Q)(F,"Chrome/5")||(0,p._Q)(F,"Chrome/6")||(0,p._Q)(F,"UnrealEngine")&&!(0,p._Q)(F,"Chrome")||(0,p._Q)(F,"UCBrowser/12")||(0,p._Q)(F,"UCBrowser/11")):!1}i(ne,"uaDisallowsSameSiteNone")},5843:(Ke,v,y)=>{"use strict";y.d(v,{GW:()=>W,Jj:()=>L,DO:()=>z,Tr:()=>ie,zB:()=>U,oF:()=>m,vn:()=>w,ej:()=>N,d8:()=>j,kT:()=>V});var C=y(2091),d=y(8096),A=y(3242),p=y(7630),K=y(4869),R=y(6708),c=y(6041),g=y(4878),$=null,B,O=null;function W(){var Q=z();return Q[d.zc](0,8)+"-"+Q[d.zc](8,12)+"-"+Q[d.zc](12,16)+"-"+Q[d.zc](16,20)+"-"+Q[d.zc](20)}i(W,"newGuid");function L(){var Q=(0,p.r)();return Q&&Q.now?Q.now():(0,R.m6)()}i(L,"perfNow");function Y(Q,te){if(Q&&te){var me=Q[_DYN_LENGTH],q=me-te[_DYN_LENGTH];return Q[_DYN_SUBSTRING](q>=0?q:0,me)===te}return!1}i(Y,"strEndsWith");function z(){for(var Q=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],te=c.qS,me,q=0;q<4;q++)me=(0,g._l)(),te+=Q[me&15]+Q[me>>4&15]+Q[me>>8&15]+Q[me>>12&15]+Q[me>>16&15]+Q[me>>20&15]+Q[me>>24&15]+Q[me>>28&15];var H=Q[8+((0,g._l)()&3)|0];return te[d.Jn](0,8)+te[d.Jn](9,4)+"4"+te[d.Jn](13,3)+H+te[d.Jn](16,3)+te[d.Jn](19,12)}i(z,"generateW3CId");var ie={_canUseCookies:void 0,isTypeof:R.Ym,isUndefined:R.o8,isNullOrUndefined:R.le,hasOwnProperty:R.nr,isFunction:R.mf,isObject:R.Kn,isDate:R.J_,isArray:R.kJ,isError:R.VZ,isString:R.HD,isNumber:R.hj,isBoolean:R.jn,toISOString:R.Y6,arrForEach:R.tO,arrIndexOf:R.UA,arrMap:R.Mr,arrReduce:R.Xz,strTrim:R.nd,objCreate:C.pu,objKeys:R.FY,objDefineAccessors:R.l_,addEventHandler:K.Ib,dateNow:R.m6,isIE:p.w1,disableCookies:m,newGuid:W,perfNow:L,newId:g.pZ,randomValue:g.az,random32:g._l,mwcRandomSeed:g.CN,mwcRandom32:g.F6,generateW3CId:z},E=/[xy]/g,U={Attach:K.pZ,AttachEvent:K.pZ,Detach:K.pD,DetachEvent:K.pD};function I(Q,te){var me=(0,A.kj)(Q,te),q=ie._canUseCookies;return $===null&&($=[],B=q,(0,R.l_)(ie,"_canUseCookies",function(){return B},function(H){B=H,(0,R.tO)($,function(se){se[d.$h](H)})})),(0,R.UA)($,me)===-1&&$[d.MW](me),(0,R.jn)(q)&&me[d.$h](q),(0,R.jn)(B)&&me[d.$h](B),me}i(I,"_legacyCookieMgr");function m(){I()[d.$h](!1)}i(m,"disableCookies");function w(Q){return I(null,Q).isEnabled()}i(w,"canUseCookies");function N(Q,te){return I(null,Q).get(te)}i(N,"getCookie");function j(Q,te,me,q){I(null,Q).set(te,me,null,q)}i(j,"setCookie");function V(Q,te){return I(null,Q).del(te)}i(V,"deleteCookie")},5883:(Ke,v,y)=>{"use strict";y.d(v,{J:()=>L,K:()=>Y});var C=y(4392),d=y(8096),A=y(6708),p=y(6041),K=y(4878),R=C.RJ,c="2.8.9",g="."+(0,K.pZ)(6),$=0;function B(z,ie,E){if(R)try{return R(z,ie,{value:E,enumerable:!1,configurable:!0}),!0}catch(U){}return!1}i(B,"_createAccessor");function O(z){return z[d.xv]===1||z[d.xv]===9||!+z[d.xv]}i(O,"_canAcceptData");function W(z,ie){var E=ie[z.id];if(!E){E={};try{O(ie)&&(B(ie,z.id,E)||(ie[z.id]=E))}catch(U){}}return E}i(W,"_getCache");function L(z,ie){return ie===void 0&&(ie=!1),(0,A.Gf)(z+$+++(ie?"."+c:p.qS)+g)}i(L,"createUniqueNamespace");function Y(z){var ie={id:L("_aiData-"+(z||p.qS)+"."+c),accept:function(E){return O(E)},get:function(E,U,I,m){var w=E[ie.id];return w?w[(0,A.Gf)(U)]:(m&&(w=W(ie,E),w[(0,A.Gf)(U)]=I),I)},kill:function(E,U){if(E&&E[U])try{delete E[U]}catch(I){}}};return ie}i(Y,"createElmNodeData")},7158:(Ke,v,y)=>{"use strict";y.d(v,{j:()=>g,p:()=>$});var C=y(8096),d=y(7630),A=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],p=null,K;function R(B,O){return function(){var W=arguments,L=g(O);if(L){var Y=L.listener;Y&&Y[B]&&Y[B][C.ZV](Y,W)}}}i(R,"_listenerProxyFunc");function c(){var B=(0,d.a8)("Microsoft");return B&&(p=B.ApplicationInsights),p}i(c,"_getExtensionNamespace");function g(B){var O=p;return!O&&B.disableDbgExt!==!0&&(O=p||c()),O?O.ChromeDbgExt:null}i(g,"getDebugExt");function $(B){if(!K){K={};for(var O=0;O<A[C.R5];O++)K[A[O]]=R(A[O],B)}return K}i($,"getDebugListener")},5018:(Ke,v,y)=>{"use strict";y.d(v,{lQ:()=>W,vH:()=>L,AQ:()=>Y,kP:()=>ie,jV:()=>E,L4:()=>U});var C=y(1679),d=y(8096),A=y(7158),p=y(7630),K=y(6708),R=y(6041),c="AI (Internal): ",g="AI: ",$="AITR_";function B(I){return I?'"'+I[d.i7](/\"/g,R.qS)+'"':R.qS}i(B,"_sanitizeDiagnosticText");function O(I,m){var w=(0,p.dr)();if(w){var N="log";w[I]&&(N=I),(0,K.mf)(w[N])&&w[N](m)}}i(O,"_logToConsole");var W=function(){function I(m,w,N,j){N===void 0&&(N=!1);var V=this;V[d.Gc]=m,V[d.gU]=(N?g:c)+m;var Q=R.qS;(0,p.nS)()&&(Q=(0,p.xA)().stringify(j));var te=(w?" message:"+B(w):R.qS)+(j?" props:"+B(Q):R.qS);V[d.gU]+=te}return i(I,"_InternalLogMessage"),I.dataType="MessageData",I}();function L(I,m){return(I||{})[d.eZ]||new Y(m)}i(L,"safeGetLogger");var Y=function(){function I(m){this.identifier="DiagnosticLogger",this.queue=[];var w=0,N={},j,V,Q,te;(0,C.Z)(I,this,function(me){H(m||{}),me.consoleLoggingLevel=function(){return j},me.telemetryLoggingLevel=function(){return V},me.maxInternalMessageLimit=function(){return Q},me[d.Fr]=function(){return te},me.throwInternal=function(be,ne,F,ce,Se){Se===void 0&&(Se=!1);var Re=new W(ne,F,Se,ce);if(te)throw(0,p.eU)(Re);var J=be===1?R.ys:R.cL;if((0,K.o8)(Re[d.gU]))Te("throw"+(be===1?"Critical":"Warning"),Re);else{if(Se){var Je=+Re[d.Gc];!N[Je]&&j>=be&&(me[J](Re[d.gU]),N[Je]=!0)}else j>=be&&me[J](Re[d.gU]);q(be,Re)}},me[R.cL]=function(be){O("warn",be),Te("warning",be)},me[R.ys]=function(be){O("error",be),Te("error",be)},me.resetInternalMessageCount=function(){w=0,N={}},me[d.jk]=q;function q(be,ne){if(!se()){var F=!0,ce=$+ne[d.Gc];if(N[ce]?F=!1:N[ce]=!0,F&&(be<=V&&(me.queue[d.MW](ne),w++,Te(be===1?"error":"warn",ne)),w===Q)){var Se="Internal events throttle limit per PageView reached for this app.",Re=new W(23,Se,!1);me.queue[d.MW](Re),be===1?me[R.ys](Se):me[R.cL](Se)}}}i(q,"_logInternalMessage");function H(be){j=(0,K.v4)(be.loggingLevelConsole,0),V=(0,K.v4)(be.loggingLevelTelemetry,1),Q=(0,K.v4)(be.maxMessageLimit,25),te=(0,K.v4)(be[d.Fr],!1)}i(H,"_setDefaultsFromConfig");function se(){return w>=Q}i(se,"_areInternalMessagesThrottled");function Te(be,ne){var F=(0,A.j)(m||{});F&&F[d.mc]&&F[d.mc](be,ne)}i(Te,"_debugExtMsg")})}return i(I,"DiagnosticLogger"),I.__ieDyn=1,I}();function z(I){return I||new Y}i(z,"_getLogger");function ie(I,m,w,N,j,V){V===void 0&&(V=!1),z(I).throwInternal(m,w,N,j,V)}i(ie,"_throwInternal");function E(I,m){z(I)[R.cL](m)}i(E,"_warnToConsole");function U(I,m,w){z(I)[d.jk](m,w)}i(U,"_logInternalMessage")},7630:(Ke,v,y)=>{"use strict";y.d(v,{dI:()=>me,a8:()=>q,Ym:()=>H,Jj:()=>se,Nv:()=>Te,Me:()=>be,d6:()=>ne,jW:()=>F,fE:()=>ce,s1:()=>Se,k$:()=>Re,dr:()=>J,r:()=>Je,nS:()=>He,xA:()=>ke,MX:()=>k,gz:()=>G,b$:()=>ee,w1:()=>le,sA:()=>Fe,eU:()=>Ge,MF:()=>we,JO:()=>ye,cp:()=>ge,Z3:()=>Ae,ed:()=>Xe,pI:()=>Pe});var C=y(4392),d=y(2091),A=y(8096),p=y(6708),K=y(6041),R="window",c="document",g="documentMode",$="navigator",B="history",O="location",W="console",L="performance",Y="JSON",z="crypto",ie="msCrypto",E="ReactNative",U="msie",I="trident/",m="XMLHttpRequest",w=null,N=null,j=!1,V=null,Q=null;function te(D,X){var fe=!1;if(D){try{if(fe=X in D,!fe){var $e=D[C.hB];$e&&(fe=X in $e)}}catch(ht){}if(!fe)try{var Ve=new D;fe=!(0,p.o8)(Ve[X])}catch(ht){}}return fe}i(te,"_hasProperty");function me(D){j=D}i(me,"setEnableEnvMocks");function q(D){var X=(0,d.Rd)();return X&&X[D]?X[D]:D===R&&H()?window:null}i(q,"getGlobalInst");function H(){return Boolean(typeof window===C.fK&&window)}i(H,"hasWindow");function se(){return H()?window:q(R)}i(se,"getWindow");function Te(){return Boolean(typeof document===C.fK&&document)}i(Te,"hasDocument");function be(){return Te()?document:q(c)}i(be,"getDocument");function ne(){return Boolean(typeof navigator===C.fK&&navigator)}i(ne,"hasNavigator");function F(){return ne()?navigator:q($)}i(F,"getNavigator");function ce(){return Boolean(typeof history===C.fK&&history)}i(ce,"hasHistory");function Se(){return ce()?history:q(B)}i(Se,"getHistory");function Re(D){if(D&&j){var X=q("__mockLocation");if(X)return X}return typeof location===C.fK&&location?location:q(O)}i(Re,"getLocation");function J(){return typeof console!==C.jA?console:q(W)}i(J,"getConsole");function Je(){return q(L)}i(Je,"getPerformance");function He(){return Boolean(typeof JSON===C.fK&&JSON||q(Y)!==null)}i(He,"hasJSON");function ke(){return He()?JSON||q(Y):null}i(ke,"getJSON");function k(){return q(z)}i(k,"getCrypto");function G(){return q(ie)}i(G,"getMsCrypto");function ee(){var D=F();return D&&D.product?D.product===E:!1}i(ee,"isReactNative");function le(){var D=F();if(D&&(D[A.qV]!==N||w===null)){N=D[A.qV];var X=(N||K.qS)[A.T1]();w=(0,p._Q)(X,U)||(0,p._Q)(X,I)}return w}i(le,"isIE");function Fe(D){if(D===void 0&&(D=null),!D){var X=F()||{};D=X?(X[A.qV]||K.qS)[A.T1]():K.qS}var fe=(D||K.qS)[A.T1]();if((0,p._Q)(fe,U)){var $e=be()||{};return Math.max(parseInt(fe[A.w6](U)[1]),$e[g]||0)}else if((0,p._Q)(fe,I)){var Ve=parseInt(fe[A.w6](I)[1]);if(Ve)return Ve+4}return null}i(Fe,"getIEVersion");function Ge(D){var X=Object[C.hB].toString[A._S](D),fe=K.qS;return X==="[object Error]"?fe="{ stack: '"+D.stack+"', message: '"+D.message+"', name: '"+D[A.I]+"'":He()&&(fe=ke().stringify(D)),X+fe}i(Ge,"dumpObj");function ve(D){if(!D||!isString(D)){var X=F()||{};D=X?(X[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var fe=(D||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return fe[_DYN_INDEX_OF]("safari")>=0}i(ve,"isSafari");function we(){return Q===null&&(Q=ne()&&Boolean(F().sendBeacon)),Q}i(we,"isBeaconsSupported");function ye(D){var X=!1;try{X=!!q("fetch");var fe=q("Request");X&&D&&fe&&(X=te(fe,"keepalive"))}catch($e){}return X}i(ye,"isFetchSupported");function ge(){return V===null&&(V=typeof XDomainRequest!==C.jA,V&&Ae()&&(V=V&&!te(q(m),"withCredentials"))),V}i(ge,"useXDomainRequest");function Ae(){var D=!1;try{var X=q(m);D=!!X}catch(fe){}return D}i(Ae,"isXhrSupported");function oe(D,X){if(D)for(var fe=0;fe<D[A.R5];fe++){var $e=D[fe];if($e[A.I]&&$e[A.I]===X)return $e}return{}}i(oe,"_getNamedValue");function Xe(D){var X=be();return X&&D?oe(X.querySelectorAll("meta"),D).content:null}i(Xe,"findMetaTag");function Pe(D){var X,fe=Je();if(fe){var $e=fe.getEntriesByType("navigation")||[];X=oe(($e[A.R5]>0?$e[0]:{}).serverTiming,D).description}return X}i(Pe,"findNamedServerTiming")},4869:(Ke,v,y)=>{"use strict";y.d(v,{um:()=>te,jU:()=>be,XO:()=>ne,QY:()=>F,pZ:()=>ce,pD:()=>Se,Ib:()=>Re,C1:()=>J,yw:()=>He,nJ:()=>ke,c9:()=>k,JA:()=>G,TJ:()=>ee,C9:()=>le,nD:()=>Fe,Yl:()=>Ge});var C=y(8096),d=y(5883),A=y(7630),p=y(6708),K=y(6041),R="on",c="attachEvent",g="addEventListener",$="detachEvent",B="removeEventListener",O="events",W="visibilitychange",L="pagehide",Y="pageshow",z="unload",ie="beforeunload",E=(0,d.J)("aiEvtPageHide"),U=(0,d.J)("aiEvtPageShow"),I=/\.[\.]+/g,m=/[\.]+$/,w=1,N=(0,d.K)("events"),j=/^([^.]*)(?:\.(.+)|)/;function V(ve){return ve&&ve[C.i7]?ve[C.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,K.qS):ve}i(V,"_normalizeNamespace");function Q(ve,we){var ye;if(we){var ge=K.qS;(0,p.kJ)(we)?(ge=K.qS,(0,p.tO)(we,function(oe){oe=V(oe),oe&&(oe[0]!=="."&&(oe="."+oe),ge+=oe)})):ge=V(we),ge&&(ge[0]!=="."&&(ge="."+ge),ve=(ve||K.qS)+ge)}var Ae=j.exec(ve||K.qS)||[];return ye={},ye[C.P6]=Ae[1],ye.ns=(Ae[2]||K.qS).replace(I,".").replace(m,K.qS)[C.w6](".").sort().join("."),ye}i(Q,"_getEvtNamespace");function te(ve,we,ye){var ge=[],Ae=N.get(ve,O,{},!1),oe=Q(we,ye);return(0,p.rW)(Ae,function(Xe,Pe){(0,p.tO)(Pe,function(D){var X;(!oe[C.P6]||oe[C.P6]===D.evtName[C.P6])&&(!oe.ns||oe.ns===oe.ns)&&ge[C.MW]((X={},X[C.I]=D.evtName[C.P6]+(D.evtName.ns?"."+D.evtName.ns:K.qS),X.handler=D[C.Kn],X))})}),ge}i(te,"__getRegisteredEvents");function me(ve,we,ye){ye===void 0&&(ye=!0);var ge=N.get(ve,O,{},ye),Ae=ge[we];return Ae||(Ae=ge[we]=[]),Ae}i(me,"_getRegisteredEvents");function q(ve,we,ye,ge){ve&&we&&we[C.P6]&&(ve[B]?ve[B](we[C.P6],ye,ge):ve[$]&&ve[$](R+we[C.P6],ye))}i(q,"_doDetach");function H(ve,we,ye,ge){var Ae=!1;return ve&&we&&we[C.P6]&&ye&&(ve[g]?(ve[g](we[C.P6],ye,ge),Ae=!0):ve[c]&&(ve[c](R+we[C.P6],ye),Ae=!0)),Ae}i(H,"_doAttach");function se(ve,we,ye,ge){for(var Ae=we[C.R5];Ae--;){var oe=we[Ae];oe&&(!ye.ns||ye.ns===oe.evtName.ns)&&(!ge||ge(oe))&&(q(ve,oe.evtName,oe[C.Kn],oe.capture),we[C.cb](Ae,1))}}i(se,"_doUnregister");function Te(ve,we,ye){if(we[C.P6])se(ve,me(ve,we[C.P6]),we,ye);else{var ge=N.get(ve,O,{});(0,p.rW)(ge,function(Ae,oe){se(ve,oe,we,ye)}),(0,p.FY)(ge)[C.R5]===0&&N.kill(ve,O)}}i(Te,"_unregisterEvents");function be(ve,we){var ye;return we?((0,p.kJ)(we)?ye=[ve].concat(we):ye=[ve,we],ye=Q("xx",ye).ns[C.w6](".")):ye=ve,ye}i(be,"mergeEvtNamespace");function ne(ve,we,ye,ge,Ae){var oe;Ae===void 0&&(Ae=!1);var Xe=!1;if(ve)try{var Pe=Q(we,ge);if(Xe=H(ve,Pe,ye,Ae),Xe&&N.accept(ve)){var D=(oe={guid:w++,evtName:Pe},oe[C.Kn]=ye,oe.capture=Ae,oe);me(ve,Pe.type)[C.MW](D)}}catch(X){}return Xe}i(ne,"eventOn");function F(ve,we,ye,ge,Ae){if(Ae===void 0&&(Ae=!1),ve)try{var oe=Q(we,ge),Xe=!1;Te(ve,oe,function(Pe){return oe.ns&&!ye||Pe[C.Kn]===ye?(Xe=!0,!0):!1}),Xe||q(ve,oe,ye,Ae)}catch(Pe){}}i(F,"eventOff");function ce(ve,we,ye,ge){return ge===void 0&&(ge=!1),ne(ve,we,ye,null,ge)}i(ce,"attachEvent");function Se(ve,we,ye,ge){ge===void 0&&(ge=!1),F(ve,we,ye,null,ge)}i(Se,"detachEvent");function Re(ve,we,ye){var ge=!1,Ae=(0,A.Jj)();Ae&&(ge=ne(Ae,ve,we,ye),ge=ne(Ae.body,ve,we,ye)||ge);var oe=(0,A.Me)();return oe&&(ge=ne(oe,ve,we,ye)||ge),ge}i(Re,"addEventHandler");function J(ve,we,ye){var ge=(0,A.Jj)();ge&&(F(ge,ve,we,ye),F(ge.body,ve,we,ye));var Ae=(0,A.Me)();Ae&&F(Ae,ve,we,ye)}i(J,"removeEventHandler");function Je(ve,we,ye,ge){var Ae=!1;return we&&ve&&ve[C.R5]>0&&(0,p.tO)(ve,function(oe){oe&&(!ye||(0,p.UA)(ye,oe)===-1)&&(Ae=Re(oe,we,ge)||Ae)}),Ae}i(Je,"_addEventListeners");function He(ve,we,ye,ge){var Ae=!1;return we&&ve&&(0,p.kJ)(ve)&&(Ae=Je(ve,we,ye,ge),!Ae&&ye&&ye[C.R5]>0&&(Ae=Je(ve,we,null,ge))),Ae}i(He,"addEventListeners");function ke(ve,we,ye){ve&&(0,p.kJ)(ve)&&(0,p.tO)(ve,function(ge){ge&&J(ge,we,ye)})}i(ke,"removeEventListeners");function k(ve,we,ye){return He([ie,z,L],ve,we,ye)}i(k,"addPageUnloadEventListener");function G(ve,we){ke([ie,z,L],ve,we)}i(G,"removePageUnloadEventListener");function ee(ve,we,ye){function ge(Xe){var Pe=(0,A.Me)();ve&&Pe&&Pe.visibilityState==="hidden"&&ve(Xe)}i(ge,"_handlePageVisibility");var Ae=be(E,ye),oe=Je([L],ve,we,Ae);return(!we||(0,p.UA)(we,W)===-1)&&(oe=Je([W],ge,we,Ae)||oe),!oe&&we&&(oe=ee(ve,null,ye)),oe}i(ee,"addPageHideEventListener");function le(ve,we){var ye=be(E,we);ke([L],ve,ye),ke([W],null,ye)}i(le,"removePageHideEventListener");function Fe(ve,we,ye){function ge(Xe){var Pe=(0,A.Me)();ve&&Pe&&Pe.visibilityState==="visible"&&ve(Xe)}i(ge,"_handlePageVisibility");var Ae=be(U,ye),oe=Je([Y],ve,we,Ae);return oe=Je([W],ge,we,Ae)||oe,!oe&&we&&(oe=Fe(ve,null,ye)),oe}i(Fe,"addPageShowEventListener");function Ge(ve,we){var ye=be(U,we);ke([Y],ve,ye),ke([W],null,ye)}i(Ge,"removePageShowEventListener")},6708:(Ke,v,y)=>{"use strict";y.d(v,{Ym:()=>ce,o8:()=>Se,le:()=>J,BX:()=>Je,nr:()=>He,Kn:()=>ke,mf:()=>k,Gf:()=>ee,rW:()=>le,Id:()=>Fe,xe:()=>ve,_Q:()=>ye,J_:()=>ge,kJ:()=>Ae,VZ:()=>Xe,HD:()=>Pe,hj:()=>D,jn:()=>X,Y6:()=>Ve,tO:()=>Ye,UA:()=>_t,Mr:()=>ut,Xz:()=>Jt,nd:()=>Zt,FY:()=>Qe,l_:()=>Et,_A:()=>wt,FL:()=>Ht,Xi:()=>at,m6:()=>Bt,jj:()=>jt,sO:()=>Ut,qK:()=>Nt,v4:()=>fn,F:()=>Sn,fQ:()=>lr,_y:()=>jn,cf:()=>wr,Oi:()=>nr,Vb:()=>Rr,hl:()=>_r,Ax:()=>gr,mm:()=>Cr});var C=y(4392),d=y(2091),A=y(8096),p=y(6041),K="toISOString",R="endsWith",c="startsWith",g="indexOf",$="map",B="reduce",O="trim",W="toString",L="__proto__",Y="constructor",z=C.RJ,ie=C.Pw.freeze,E=C.Pw.seal,U=C.Pw.keys,I=String[C.hB],m=I[O],w=I[R],N=I[c],j=Date[C.hB],V=j[K],Q=Array.isArray,te=C.V4[W],me=C.CY[W],q=me[A._S](C.Pw),H=/-([a-z])/g,se=/([^\w\d_$])/g,Te=/^(\d+[\w\d_$])/,be=Object.getPrototypeOf;function ne(re){if(re){if(be)return be(re);var We=re[L]||re[C.hB]||re[Y];if(We)return We}return null}i(ne,"_getObjProto");function F(re){return te[_DYN_CALL](re)}i(F,"objToString");function ce(re,We){return typeof re===We}i(ce,"isTypeof");function Se(re){return re===void 0||typeof re===C.jA}i(Se,"isUndefined");function Re(re){return!Se(re)}i(Re,"isNotUndefined");function J(re){return re===null||Se(re)}i(J,"isNullOrUndefined");function Je(re){return!J(re)}i(Je,"isNotNullOrUndefined");function He(re,We){return!!(re&&C.CY[A._S](re,We))}i(He,"hasOwnProperty");function ke(re){return!!(re&&typeof re===C.fK)}i(ke,"isObject");function k(re){return!!(re&&typeof re===C.cb)}i(k,"isFunction");function G(re){return re&&k(re.then)}i(G,"isPromiseLike");function ee(re){var We=re;return We&&Pe(We)&&(We=We[A.i7](H,function(qe,ct){return ct.toUpperCase()}),We=We[A.i7](se,"_"),We=We[A.i7](Te,function(qe,ct){return"_"+ct})),We}i(ee,"normalizeJsName");function le(re,We){if(re)for(var qe in re)C.CY[A._S](re,qe)&&We[A._S](re,qe,re[qe])}i(le,"objForEachKey");function Fe(re,We){var qe=!1;return re&&We&&!(qe=re===We)&&(qe=w?re[R](We):Ge(re,We)),qe}i(Fe,"strEndsWith");function Ge(re,We){var qe=!1,ct=We?We[A.R5]:0,bt=re?re[A.R5]:0;if(ct&&bt&&bt>=ct&&!(qe=re===We)){for(var Tt=bt-1,Rn=ct-1;Rn>=0;Rn--){if(re[Tt]!=We[Rn])return!1;Tt--}qe=!0}return qe}i(Ge,"_strEndsWithPoly");function ve(re,We){var qe=!1;return re&&We&&!(qe=re===We)&&(qe=N?re[c](We):we(re,We)),qe}i(ve,"strStartsWith");function we(re,We){var qe=!1,ct=We?We[A.R5]:0;if(re&&ct&&re[A.R5]>=ct&&!(qe=re===We)){for(var bt=0;bt<ct;bt++)if(re[bt]!==We[bt])return!1;qe=!0}return qe}i(we,"_strStartsWithPoly");function ye(re,We){return re&&We?re[A.ou](We)!==-1:!1}i(ye,"strContains");function ge(re){return!!(re&&te[A._S](re)==="[object Date]")}i(ge,"isDate");var Ae=Q||oe;function oe(re){return!!(re&&te[A._S](re)==="[object Array]")}i(oe,"_isArrayPoly");function Xe(re){return!!(re&&te[A._S](re)==="[object Error]")}i(Xe,"isError");function Pe(re){return typeof re=="string"}i(Pe,"isString");function D(re){return typeof re=="number"}i(D,"isNumber");function X(re){return typeof re=="boolean"}i(X,"isBoolean");function fe(re){return typeof re=="symbol"}i(fe,"isSymbol");function $e(re){var We=!1;if(re&&typeof re=="object"){var qe=be?be(re):ne(re);qe?(qe[Y]&&C.CY[A._S](qe,Y)&&(qe=qe[Y]),We=typeof qe===C.cb&&me[A._S](qe)===q):We=!0}return We}i($e,"isPlainObject");function Ve(re){if(re)return V?re[K]():ht(re)}i(Ve,"toISOString");function ht(re){if(re&&re.getUTCFullYear){var We=i(function(qe){var ct=String(qe);return ct[A.R5]===1&&(ct="0"+ct),ct},"pad");return re.getUTCFullYear()+"-"+We(re.getUTCMonth()+1)+"-"+We(re.getUTCDate())+"T"+We(re.getUTCHours())+":"+We(re.getUTCMinutes())+":"+We(re.getUTCSeconds())+"."+String((re.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}i(ht,"_toISOStringPoly");function Ye(re,We,qe){var ct=re[A.R5];try{for(var bt=0;bt<ct&&!(bt in re&&We[A._S](qe||re,re[bt],bt,re)===-1);bt++);}catch(Tt){}}i(Ye,"arrForEach");function _t(re,We,qe){if(re){if(re[g])return re[g](We,qe);var ct=re[A.R5],bt=qe||0;try{for(var Tt=Math.max(bt>=0?bt:ct-Math.abs(bt),0);Tt<ct;Tt++)if(Tt in re&&re[Tt]===We)return Tt}catch(Rn){}}return-1}i(_t,"arrIndexOf");function ut(re,We,qe){var ct;if(re){if(re[$])return re[$](We,qe);var bt=re[A.R5],Tt=qe||re;ct=new Array(bt);try{for(var Rn=0;Rn<bt;Rn++)Rn in re&&(ct[Rn]=We[A._S](Tt,re[Rn],re))}catch(An){}}return ct}i(ut,"arrMap");function Jt(re,We,qe){var ct;if(re){if(re[B])return re[B](We,qe);var bt=re[A.R5],Tt=0;if(arguments[A.R5]>=3)ct=arguments[2];else{for(;Tt<bt&&!(Tt in re);)Tt++;ct=re[Tt++]}for(;Tt<bt;)Tt in re&&(ct=We(ct,re[Tt],Tt,re)),Tt++}return ct}i(Jt,"arrReduce");function Zt(re){return re&&(re=m&&re[O]?re[O]():re[A.i7]?re[A.i7](/^\s+|(?=\s)\s+$/g,p.qS):re),re}i(Zt,"strTrim");var on=!{toString:null}.propertyIsEnumerable("toString"),bn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Qe(re){var We=typeof re;if(We!==C.cb&&(We!==C.fK||re===null)&&(0,d.ZU)("objKeys called on non-object"),!on&&U)return U(re);var qe=[];for(var ct in re)re&&C.CY[A._S](re,ct)&&qe[A.MW](ct);if(on)for(var bt=bn[A.R5],Tt=0;Tt<bt;Tt++)re&&C.CY[A._S](re,bn[Tt])&&qe[A.MW](bn[Tt]);return qe}i(Qe,"objKeys");function Et(re,We,qe,ct){if(z)try{var bt={enumerable:!0,configurable:!0};return qe&&(bt.get=qe),ct&&(bt.set=ct),z(re,We,bt),!0}catch(Tt){}return!1}i(Et,"objDefineAccessors");function xt(re){return re}i(xt,"_doNothing");function wt(re){return ie&&le(re,function(We,qe){(Ae(qe)||ke(qe))&&ie(qe)}),Ht(re)}i(wt,"deepFreeze");var Ht=ie||xt,at=E||xt;function Bt(){var re=Date;return re.now?re.now():new re().getTime()}i(Bt,"dateNow");function jt(re){return Xe(re)?re[A.I]:p.qS}i(jt,"getExceptionName");function Ut(re,We,qe,ct,bt){var Tt=qe;return re&&(Tt=re[We],Tt!==qe&&(!bt||bt(Tt))&&(!ct||ct(qe))&&(Tt=qe,re[We]=Tt)),Tt}i(Ut,"setValue");function Nt(re,We,qe){var ct;return re?(ct=re[We],!ct&&J(ct)&&(ct=Se(qe)?{}:qe,re[We]=ct)):ct=Se(qe)?{}:qe,ct}i(Nt,"getSetValue");function fn(re,We){return J(re)?We:re}i(fn,"getCfgValue");function Sn(re){return!re}i(Sn,"isNotTruthy");function lr(re){return!!re}i(lr,"isTruthy");function jn(re){throw new Error(re)}i(jn,"throwError");function Tn(re,We){var qe=null,ct=null;return k(re)?qe=re:ct=re,function(){var bt=arguments;if(qe&&(ct=qe()),ct)return ct[We][A.ZV](ct,bt)}}i(Tn,"_createProxyFunction");function wr(re,We,qe){if(re&&We&&ke(re)&&ke(We)){var ct=i(function(Tt){if(Pe(Tt)){var Rn=We[Tt];k(Rn)?(!qe||qe(Tt,!0,We,re))&&(re[Tt]=Tn(We,Tt)):(!qe||qe(Tt,!1,We,re))&&(He(re,Tt)&&delete re[Tt],Et(re,Tt,function(){return We[Tt]},function(An){We[Tt]=An})||(re[Tt]=Rn))}},"_loop_1");for(var bt in We)ct(bt)}return re}i(wr,"proxyAssign");function nr(re,We,qe,ct,bt){re&&We&&qe&&(bt!==!1||Se(re[We]))&&(re[We]=Tn(qe,ct))}i(nr,"proxyFunctionAs");function Rr(re,We,qe,ct){return re&&We&&ke(re)&&Ae(qe)&&Ye(qe,function(bt){Pe(bt)&&nr(re,bt,We,bt,ct)}),re}i(Rr,"proxyFunctions");function _r(re){return function(){function We(){var qe=this;re&&le(re,function(ct,bt){qe[ct]=bt})}return i(We,"class_1"),We}()}i(_r,"createClassFromInterface");function gr(re){return re&&C.rl&&(re=(0,C.Pw)((0,C.rl)({},re))),re}i(gr,"optimizeObject");function Cr(re,We,qe,ct,bt,Tt){var Rn=arguments,An=Rn[0]||{},ft=Rn[A.R5],gt=!1,At=1;for(ft>0&&X(An)&&(gt=An,An=Rn[At]||{},At++),ke(An)||(An={});At<ft;At++){var rt=Rn[At],kt=Ae(rt),Rt=ke(rt);for(var ot in rt){var Wt=kt&&ot in rt||Rt&&C.CY[A._S](rt,ot);if(!!Wt){var Yt=rt[ot],ln=void 0;if(gt&&Yt&&((ln=Ae(Yt))||$e(Yt))){var un=An[ot];ln?Ae(un)||(un=[]):$e(un)||(un={}),Yt=Cr(gt,un,Yt)}Yt!==void 0&&(An[ot]=Yt)}}}return An}i(Cr,"objExtend")},6041:(Ke,v,y)=>{"use strict";y.d(v,{qS:()=>C,Z:()=>d,oV:()=>A,DN:()=>p,mE:()=>K,Zh:()=>R,js:()=>c,hL:()=>g,yi:()=>$,uC:()=>B,$F:()=>O,f_:()=>W,C$:()=>L,ys:()=>Y,cL:()=>z,kl:()=>ie});var C="",d="channels",A="core",p="createPerfMgr",K="disabled",R="extensionConfig",c="extensions",g="processTelemetry",$="priority",B="eventsSent",O="eventsDiscarded",W="eventsSendRequest",L="perfEvent",Y="errorToConsole",z="warnToConsole",ie="getPerfMgr"},1880:(Ke,v,y)=>{"use strict";y.d(v,{f:()=>R});var C=y(1679),d=y(8096),A=y(6708),p=y(6041);function K(c,g,$,B){(0,A.tO)(c,function(O){if(O&&O[g])if($)setTimeout(function(){return B(O)},0);else try{B(O)}catch(W){}})}i(K,"_runListeners");var R=function(){function c(g){this.listeners=[];var $=!!(g||{}).perfEvtsSendAll;(0,C.Z)(c,this,function(B){B[d.g]=function(O){B.listeners[d.MW](O)},B[d.n7]=function(O){for(var W=(0,A.UA)(B[d.dE],O);W>-1;)B.listeners[d.cb](W,1),W=(0,A.UA)(B[d.dE],O)},B[p.uC]=function(O){K(B[d.dE],p.uC,!0,function(W){W[p.uC](O)})},B[p.$F]=function(O,W){K(B[d.dE],p.$F,!0,function(L){L[p.$F](O,W)})},B[p.f_]=function(O,W){K(B[d.dE],p.f_,W,function(L){L[p.f_](O,W)})},B[p.C$]=function(O){O&&($||!O[d.PL]())&&K(B[d.dE],p.C$,!1,function(W){O[d.d]?setTimeout(function(){return W[p.C$](O)},0):W[p.C$](O)})}})}return i(c,"NotificationManager"),c.__ieDyn=1,c}()},9288:(Ke,v,y)=>{"use strict";y.d(v,{zn:()=>$,Jk:()=>B,Lm:()=>W,j5:()=>Y});var C=y(1679),d=y(8096),A=y(6708),p=y(6041),K="ctx",R="ParentContextKey",c="ChildrenContextKey",g=null,$=function(){function z(ie,E,U){var I=this,m=!1;if(I.start=(0,A.m6)(),I[d.I]=ie,I[d.d]=U,I[d.PL]=function(){return!1},(0,A.mf)(E)){var w;m=(0,A.l_)(I,"payload",function(){return!w&&(0,A.mf)(E)&&(w=E(),E=null),w})}I[d.T]=function(N){return N?N===z[R]||N===z[c]?I[N]:(I[K]||{})[N]:null},I[d.wu]=function(N,j){if(N)if(N===z[R])I[N]||(I[d.PL]=function(){return!0}),I[N]=j;else if(N===z[c])I[N]=j;else{var V=I[K]=I[K]||{};V[N]=j}},I[d.Km]=function(){var N=0,j=I[d.T](z[c]);if((0,A.kJ)(j))for(var V=0;V<j[d.R5];V++){var Q=j[V];Q&&(N+=Q[d.Z_])}I[d.Z_]=(0,A.m6)()-I.start,I.exTime=I[d.Z_]-N,I[d.Km]=function(){},!m&&(0,A.mf)(E)&&(I.payload=E())}}return i(z,"PerfEvent"),z.ParentContextKey="parent",z.ChildrenContextKey="childEvts",z}(),B=function(){function z(ie){this.ctx={},(0,C.Z)(z,this,function(E){E.create=function(U,I,m){return new $(U,I,m)},E.fire=function(U){U&&(U[d.Km](),ie&&(0,A.mf)(ie[p.C$])&&ie[p.C$](U))},E[d.wu]=function(U,I){if(U){var m=E[K]=E[K]||{};m[U]=I}},E[d.T]=function(U){return(E[K]||{})[U]}})}return i(z,"PerfManager"),z.__ieDyn=1,z}(),O="CoreUtils.doPerf";function W(z,ie,E,U,I){if(z){var m=z;if(m[p.kl]&&(m=m[p.kl]()),m){var w=void 0,N=m[d.T](O);try{if(w=m.create(ie(),U,I),w){if(N&&w[d.wu]&&(w[d.wu]($[R],N),N[d.T]&&N[d.wu])){var j=N[d.T]($[c]);j||(j=[],N[d.wu]($[c],j)),j[d.MW](w)}return m[d.wu](O,w),E(w)}}catch(V){w&&w[d.wu]&&w[d.wu]("exception",V)}finally{w&&m.fire(w),m[d.wu](O,N)}}}return E()}i(W,"doPerf");function L(z){g=z}i(L,"setGblPerfMgr");function Y(){return g}i(Y,"getGblPerfMgr")},1589:(Ke,v,y)=>{"use strict";y.d(v,{CD:()=>Y,Bt:()=>z,xy:()=>ie,jV:()=>E,Vi:()=>I});var C=y(8096),d=y(5018),A=y(7630),p=y(6708),K=y(6041),R=y(9288),c=y(3833),g="TelemetryPluginChain",$="_hasRun",B="_getTelCtx",O=0;function W(m,w,N){for(;m;){if(m[C.TO]()===N)return m;m=m[C.W2]()}return E([N],w[C.TC]||{},w)}i(W,"_getNextProxyStart");function L(m,w,N,j){var V=null,Q=[];j!==null&&(V=j?W(m,N,j):m);var te={_next:q,ctx:{core:function(){return N},diagLog:function(){return(0,d.vH)(N,w)},getCfg:function(){return w},getExtCfg:H,getConfig:se,hasNext:function(){return!!V},getNext:function(){return V},setNext:function(be){V=be},iterate:Te,onComplete:me}};function me(be,ne){for(var F=[],ce=2;ce<arguments.length;ce++)F[ce-2]=arguments[ce];be&&Q[C.MW]({func:be,self:(0,p.o8)(ne)?te.ctx:ne,args:F})}i(me,"_addOnComplete");function q(){var be=V;if(V=be?be[C.W2]():null,!be){var ne=Q;ne&&ne[C.R5]>0&&((0,p.tO)(ne,function(F){try{F.func[C._S](F.self,F.args)}catch(ce){(0,d.kP)(N[C.eZ],2,73,"Unexpected Exception during onComplete - "+(0,A.eU)(ce))}}),Q=[])}return be}i(q,"_moveNext");function H(be,ne,F){ne===void 0&&(ne={}),F===void 0&&(F=0);var ce;if(w){var Se=w[K.Zh];Se&&be&&(ce=Se[be])}if(!ce)ce=ne;else if((0,p.Kn)(ne)&&F!==0){var Re=(0,p.mm)(!0,ne,ce);w&&F===2&&(0,p.rW)(ne,function(J){if((0,p.le)(Re[J])){var Je=w[J];(0,p.le)(Je)||(Re[J]=Je)}}),ce=Re}return ce}i(H,"_getExtCfg");function se(be,ne,F){F===void 0&&(F=!1);var ce,Se=H(be,null);return Se&&!(0,p.le)(Se[ne])?ce=Se[ne]:w&&!(0,p.le)(w[ne])&&(ce=w[ne]),(0,p.le)(ce)?F:ce}i(se,"_getConfig");function Te(be){for(var ne;ne=te._next();){var F=ne[C.TO]();F&&be(F)}}return i(Te,"_iterateChain"),te}i(L,"_createInternalContext");function Y(m,w,N,j){var V=L(m,w,N,j),Q=V.ctx;function te(q){var H=V._next();return H&&H[K.hL](q,Q),!H}i(te,"_processNext");function me(q,H){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=E(q,w,N,H)),Y(q||Q[C.W2](),w,N,H)}return i(me,"_createNew"),Q[C.uL]=te,Q[C.zV]=me,Q}i(Y,"createProcessTelemetryContext");function z(m,w,N){var j=w[C.TC]||{},V=L(m,j,w,N),Q=V.ctx;function te(q){var H=V._next();return H&&H.unload(Q,q),!H}i(te,"_processNext");function me(q,H){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=E(q,j,w,H)),z(q||Q[C.W2](),w,H)}return i(me,"_createNew"),Q[C.uL]=te,Q[C.zV]=me,Q}i(z,"createProcessTelemetryUnloadContext");function ie(m,w,N){var j=w[C.TC]||{},V=L(m,j,w,N),Q=V.ctx;function te(q){return Q.iterate(function(H){(0,p.mf)(H[C.Tu])&&H[C.Tu](Q,q)})}i(te,"_processNext");function me(q,H){return q===void 0&&(q=null),(0,p.kJ)(q)&&(q=E(q,j,w,H)),ie(q||Q[C.W2](),w,H)}return i(me,"_createNew"),Q[C.uL]=te,Q[C.zV]=me,Q}i(ie,"createProcessTelemetryUpdateContext");function E(m,w,N,j){var V=null,Q=!j;if((0,p.kJ)(m)&&m[C.R5]>0){var te=null;(0,p.tO)(m,function(me){if(!Q&&j===me&&(Q=!0),Q&&me&&(0,p.mf)(me[K.hL])){var q=U(me,w,N);V||(V=q),te&&te._setNext(q),te=q}})}return j&&!V?E([j],w,N):V}i(E,"createTelemetryProxyChain");function U(m,w,N){var j=null,V=(0,p.mf)(m[K.hL]),Q=(0,p.mf)(m[C.Jd]),te;m?te=m[C.pZ]+"-"+m[K.yi]+"-"+O++:te="Unknown-0-"+O++;var me={getPlugin:function(){return m},getNext:function(){return j},processTelemetry:se,unload:Te,update:be,_id:te,_setNext:function(ne){j=ne}};function q(){var ne;return m&&(0,p.mf)(m[B])&&(ne=m[B]()),ne||(ne=Y(me,w,N)),ne}i(q,"_getTelCtx");function H(ne,F,ce,Se,Re){var J=!1,Je=m?m[C.pZ]:g,He=ne[$];return He||(He=ne[$]={}),ne.setNext(j),m&&(0,R.Lm)(ne[K.oV](),function(){return Je+":"+ce},function(){He[te]=!0;try{var ke=j?j._id:K.qS;ke&&(He[ke]=!1),J=F(ne)}catch(G){var k=j?He[j._id]:!0;k&&(J=!0),(!j||!k)&&(0,d.kP)(ne[C.mc](),1,73,"Plugin ["+Je+"] failed during "+ce+" - "+(0,A.eU)(G)+", run flags: "+(0,A.eU)(He))}},Se,Re),J}i(H,"_processChain");function se(ne,F){F=F||q();function ce(Se){if(!m||!V)return!1;var Re=(0,c.OY)(m);return Re[C.fi]||Re[K.mE]?!1:(Q&&m[C.Jd](j),m[K.hL](ne,Se),!0)}i(ce,"_callProcessTelemetry"),H(F,ce,"processTelemetry",function(){return{item:ne}},!ne.sync)||F[C.uL](ne)}i(se,"_processTelemetry");function Te(ne,F){function ce(){var Se=!1;if(m){var Re=(0,c.OY)(m),J=m[K.oV]||Re[K.oV];m&&(!J||J===ne.core())&&!Re[C.fi]&&(Re[K.oV]=null,Re[C.fi]=!0,Re[C.yl]=!1,m[C.fi]&&m[C.fi](ne,F)===!0&&(Se=!0))}return Se}i(ce,"_callTeardown"),H(ne,ce,"unload",function(){},F[C.d])||ne[C.uL](F)}i(Te,"_unloadPlugin");function be(ne,F){function ce(){var Se=!1;if(m){var Re=(0,c.OY)(m),J=m[K.oV]||Re[K.oV];m&&(!J||J===ne.core())&&!Re[C.fi]&&m[C.Tu]&&m[C.Tu](ne,F)===!0&&(Se=!0)}return Se}i(ce,"_callUpdate"),H(ne,ce,"update",function(){},!1)||ne[C.uL](F)}return i(be,"_updatePlugin"),(0,p.FL)(me)}i(U,"createTelemetryPluginProxy");var I=function(){function m(w,N,j,V){var Q=this,te=Y(w,N,j,V);(0,p.Vb)(Q,te,(0,p.FY)(te))}return i(m,"ProcessTelemetryContext"),m}()},4878:(Ke,v,y)=>{"use strict";y.d(v,{az:()=>W,_l:()=>L,CN:()=>Y,F6:()=>z,pZ:()=>ie});var C=y(8096),d=y(7630),A=y(6708),p=y(6041),K=4294967296,R=4294967295,c=!1,g=123456789,$=987654321;function B(E){E<0&&(E>>>=0),g=123456789+E&R,$=987654321-E&R,c=!0}i(B,"_mwcSeed");function O(){try{var E=(0,A.m6)()&2147483647;B((Math.random()*K^E)+E)}catch(U){}}i(O,"_autoSeedMwc");function W(E){return E>0?Math.floor(L()/R*(E+1))>>>0:0}i(W,"randomValue");function L(E){var U=0,I=(0,d.MX)()||(0,d.gz)();return I&&I.getRandomValues&&(U=I.getRandomValues(new Uint32Array(1))[0]&R),U===0&&(0,d.w1)()&&(c||O(),U=z()&R),U===0&&(U=Math.floor(K*Math.random()|0)),E||(U>>>=0),U}i(L,"random32");function Y(E){E?B(E):O()}i(Y,"mwcRandomSeed");function z(E){$=36969*($&65535)+($>>16)&R,g=18e3*(g&65535)+(g>>16)&R;var U=($<<16)+(g&65535)>>>0&R|0;return E||(U>>>=0),U}i(z,"mwcRandom32");function ie(E){E===void 0&&(E=22);for(var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=L()>>>0,m=0,w=p.qS;w[C.R5]<E;)m++,w+=U.charAt(I&63),I>>>=6,m===5&&(I=(L()<<2&4294967295|I&3)>>>0,m=0);return w}i(ie,"newId")},3833:(Ke,v,y)=>{"use strict";y.d(v,{OY:()=>c,bP:()=>g,AA:()=>$,Yn:()=>O});var C=y(8096),d=y(5883),A=y(6708),p=y(6041),K=y(4206),R=(0,d.K)("plugin");function c(W){return R.get(W,"state",{},!0)}i(c,"_getPluginState");function g(W,L){for(var Y=[],z=null,ie=W[C.W2](),E;ie;){var U=ie[C.TO]();if(U){z&&(0,A.mf)(z[C.Jd])&&(0,A.mf)(U[p.hL])&&z[C.Jd](U);var I=!1;(0,A.mf)(U[C.yl])?I=U[C.yl]():(E=c(U),I=E[C.yl]),I||Y[C.MW](U),z=U,ie=ie[C.W2]()}}(0,A.tO)(Y,function(m){var w=W[p.oV]();m[C.VL](W.getCfg(),w,L,W[C.W2]()),E=c(m),!m[p.oV]&&!E[p.oV]&&(E[p.oV]=w),E[C.yl]=!0,delete E[C.fi]})}i(g,"initializePlugins");function $(W){return W.sort(function(L,Y){var z=0;if(Y){var ie=(0,A.mf)(Y[p.hL]);(0,A.mf)(L[p.hL])?z=ie?L[p.yi]-Y[p.yi]:1:ie&&(z=-1)}else z=L?1:-1;return z})}i($,"sortPlugins");function B(W,L,Y,z){var ie=0;function E(){for(;ie<W[_DYN_LENGTH];){var U=W[ie++];if(U){var I=U._doUnload||U[_DYN__DO_TEARDOWN];if(isFunction(I)&&I[_DYN_CALL](U,L,Y,E)===!0)return!0}}}return i(E,"_doUnload"),E()}i(B,"unloadComponents");function O(W){var L={};return{getName:function(){return L[C.I]},setName:function(Y){W&&W.setName(Y),L[C.I]=Y},getTraceId:function(){return L[C.nY]},setTraceId:function(Y){W&&W.setTraceId(Y),(0,K.jN)(Y)&&(L[C.nY]=Y)},getSpanId:function(){return L[C._d]},setSpanId:function(Y){W&&W.setSpanId(Y),(0,K.Lc)(Y)&&(L[C._d]=Y)},getTraceFlags:function(){return L[C.T0]},setTraceFlags:function(Y){W&&W.setTraceFlags(Y),L[C.T0]=Y}}}i(O,"createDistributedTraceContext")},310:(Ke,v,y)=>{"use strict";y.d(v,{Y:()=>K});var C=y(8096),d=y(5018),A=y(7630),p=y(6708);function K(){var R=[];function c($){$&&R[C.MW]($)}i(c,"_addHandler");function g($,B){(0,p.tO)(R,function(O){try{O($,B)}catch(W){(0,d.kP)($[C.mc](),2,73,"Unexpected error calling unload handler - "+(0,A.eU)(W))}}),R=[]}return i(g,"_runHandlers"),{add:c,run:g}}i(K,"createUnloadHandlerContainer")},4206:(Ke,v,y)=>{"use strict";y.d(v,{SU:()=>Y,j_:()=>z,jN:()=>ie,Lc:()=>E,J6:()=>U,Pn:()=>I,aR:()=>m,lq:()=>w});var C=y(8096),d=y(5843),A=y(7630),p=y(6708),K=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,R="00",c="ff",g="00000000000000000000000000000000",$="0000000000000000",B=1;function O(N,j,V){return N&&N[C.R5]===j&&N!==V?!!N.match(/^[\da-f]*$/):!1}i(O,"_isValid");function W(N,j,V){return O(N,j)?N:V}i(W,"_formatValue");function L(N){(isNaN(N)||N<0||N>255)&&(N=1);for(var j=N.toString(16);j[C.R5]<2;)j="0"+j;return j}i(L,"_formatFlags");function Y(N,j,V,Q){var te;return te={},te[C.PA]=O(Q,2,c)?Q:R,te[C.nY]=ie(N)?N:(0,d.DO)(),te.spanId=E(j)?j:(0,d.DO)()[C.Jn](0,16),te.traceFlags=V>=0&&V<=255?V:1,te}i(Y,"createTraceParent");function z(N){var j;if(!N||((0,p.kJ)(N)&&(N=N[0]||""),!N||!(0,p.HD)(N)||N[C.R5]>8192))return null;var V=K.exec((0,p.nd)(N));return!V||V[1]===c||V[2]===g||V[3]===$?null:(j={},j[C.PA]=V[1],j[C.nY]=V[2],j[C._d]=V[3],j[C.T0]=parseInt(V[4],16),j)}i(z,"parseTraceParent");function ie(N){return O(N,32,g)}i(ie,"isValidTraceId");function E(N){return O(N,16,$)}i(E,"isValidSpanId");function U(N){return!(!N||!O(N[C.PA],2,c)||!O(N[C.nY],32,g)||!O(N[C._d],16,$)||!O(L(N[C.T0]),2))}i(U,"isValidTraceParent");function I(N){return U(N)?(N[C.T0]&B)===B:!1}i(I,"isSampledFlag");function m(N){if(N){var j=L(N[C.T0]);O(j,2)||(j="01");var V=N[C.PA]||R;return V!=="00"&&V!=="ff"&&(V=R),"".concat(V,"-").concat(W(N.traceId,32,g),"-").concat(W(N.spanId,16,$),"-").concat(j)}return""}i(m,"formatTraceParent");function w(){var N="traceparent",j=z((0,A.ed)(N));return j||(j=z((0,A.pI)(N))),j}i(w,"findW3cTraceParent")},8096:(Ke,v,y)=>{"use strict";y.d(v,{VL:()=>C,I:()=>d,tb:()=>A,pZ:()=>p,MW:()=>K,yl:()=>R,TC:()=>c,p$:()=>g,eZ:()=>$,R5:()=>B,Z_:()=>O,uL:()=>W,SD:()=>L,g:()=>Y,n7:()=>z,LS:()=>ie,Fc:()=>E,TO:()=>U,kL:()=>I,iC:()=>m,cb:()=>w,fi:()=>N,Gc:()=>j,gU:()=>V,d:()=>Q,F3:()=>te,Tu:()=>me,W2:()=>q,mc:()=>H,Jd:()=>se,zV:()=>Te,Lk:()=>be,ou:()=>ne,zc:()=>F,qV:()=>ce,w6:()=>Se,$h:()=>Re,Jn:()=>J,xv:()=>Je,ZV:()=>He,i7:()=>ke,Fr:()=>k,jk:()=>G,T1:()=>ee,_S:()=>le,P6:()=>Fe,Kn:()=>Ge,dE:()=>ve,PL:()=>we,T:()=>ye,wu:()=>ge,Km:()=>Ae,nY:()=>oe,_d:()=>Xe,T0:()=>Pe,PA:()=>D});var C="initialize",d="name",A="getNotifyMgr",p="identifier",K="push",R="isInitialized",c="config",g="instrumentationKey",$="logger",B="length",O="time",W="processNext",L="getProcessTelContext",Y="addNotificationListener",z="removeNotificationListener",ie="stopPollingInternalLogs",E="onComplete",U="getPlugin",I="flush",m="_extensions",w="splice",N="teardown",j="messageId",V="message",Q="isAsync",te="_doTeardown",me="update",q="getNext",H="diagLog",se="setNextPlugin",Te="createNew",be="cookieCfg",ne="indexOf",F="substring",ce="userAgent",Se="split",Re="setEnabled",J="substr",Je="nodeType",He="apply",ke="replace",k="enableDebugExceptions",G="logInternalMessage",ee="toLowerCase",le="call",Fe="type",Ge="handler",ve="listeners",we="isChildEvt",ye="getCtx",ge="setCtx",Ae="complete",oe="traceId",Xe="spanId",Pe="traceFlags",D="version"},4392:(Ke,v,y)=>{"use strict";y.d(v,{cb:()=>C,fK:()=>d,jA:()=>A,hB:()=>p,bO:()=>K,Pw:()=>c,V4:()=>g,rl:()=>$,yu:()=>B,RJ:()=>O,CY:()=>W});var C="function",d="object",A="undefined",p="prototype",K="hasOwnProperty",R="default",c=Object,g=c[p],$=c.assign,B=c.create,O=c.defineProperty,W=g[K]},2091:(Ke,v,y)=>{"use strict";y.d(v,{Rd:()=>A,ZU:()=>p,pu:()=>K});var C=y(4392),d=null;function A(R){R===void 0&&(R=!0);var c=R===!1?null:d;return c||(typeof globalThis!==C.jA&&(c=globalThis),!c&&typeof self!==C.jA&&(c=self),!c&&typeof window!==C.jA&&(c=window),!c&&typeof y.g!==C.jA&&(c=y.g),d=c),c}i(A,"getGlobal");function p(R){throw new TypeError(R)}i(p,"throwTypeError");function K(R){var c=C.yu;if(c)return c(R);if(R==null)return{};var g=typeof R;g!==C.fK&&g!==C.cb&&p("Object prototype may only be an Object:"+R);function $(){}return i($,"tmpFunc"),$[C.hB]=R,new $}i(K,"objCreateFn")},1088:(Ke,v,y)=>{"use strict";y.d(v,{uc:()=>W,ne:()=>Y,$h:()=>V});var C=y(4392),d=y(2091),A=((0,d.Rd)()||{}).Symbol,p=((0,d.Rd)()||{}).Reflect,K=!!A,R=!!p,c="decorate",g="metadata",$="getOwnPropertySymbols",B="iterator",O=i(function(q){for(var H,se=1,Te=arguments.length;se<Te;se++){H=arguments[se];for(var be in H)C.V4[C.bO].call(H,be)&&(q[be]=H[be])}return q},"__objAssignFnImpl"),W=C.rl||O,L=i(function(q,H){return L=C.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,Te){se.__proto__=Te}||function(se,Te){for(var be in Te)Te[C.bO](be)&&(se[be]=Te[be])},L(q,H)},"extendStaticsFn");function Y(q,H){typeof H!==C.cb&&H!==null&&(0,d.ZU)("Class extends value "+String(H)+" is not a constructor or null"),L(q,H);function se(){this.constructor=q}i(se,"__"),q[C.hB]=H===null?(0,d.pu)(H):(se[C.hB]=H[C.hB],new se)}i(Y,"__extendsFn");function z(q,H){var se={};for(var Te in q)ObjHasOwnProperty.call(q,Te)&&H.indexOf(Te)<0&&(se[Te]=q[Te]);if(q!=null&&typeof ObjClass[$]===strShimFunction)for(var be=0,ne=ObjClass[$](q);be<ne.length;be++)H.indexOf(ne[be])<0&&ObjProto.propertyIsEnumerable.call(q,ne[be])&&(se[ne[be]]=q[ne[be]]);return se}i(z,"__restFn");function ie(q,H,se,Te){var be=arguments.length,ne=be<3?H:Te===null?Te=ObjClass.getOwnPropertyDescriptor(H,se):Te,F;if(R&&typeof p[c]===strShimFunction)ne=p[c](q,H,se,Te);else for(var ce=q.length-1;ce>=0;ce--)(F=q[ce])&&(ne=(be<3?F(ne):be>3?F(H,se,ne):F(H,se))||ne);return be>3&&ne&&ObjDefineProperty(H,se,ne),ne}i(ie,"__decorateFn");function E(q,H){return function(se,Te){H(se,Te,q)}}i(E,"__paramFn");function U(q,H){if(R&&p[g]===strShimFunction)return p[g](q,H)}i(U,"__metadataFn");function I(q,H){for(var se in q)se!==strDefault&&!ObjHasOwnProperty.call(H,se)&&m(H,q,se)}i(I,"__exportStarFn");function m(q,H,se,Te){Te===void 0&&(Te=se),ObjCreate?ObjDefineProperty(q,Te,{enumerable:!0,get:function(){return H[se]}}):q[Te]=H[se]}i(m,"__createBindingFn");function w(q){var H=typeof A===strShimFunction&&A[B],se=H&&q[H],Te=0;if(se)return se.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&Te>=q.length&&(q=void 0),{value:q&&q[Te++],done:!q}}};throwTypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}i(w,"__valuesFn");function N(q,H){var se=typeof A===strShimFunction&&q[A[B]];if(!se)return q;var Te=se.call(q),be,ne=[],F;try{for(;(H===void 0||H-- >0)&&!(be=Te.next()).done;)ne.push(be.value)}catch(ce){F={error:ce}}finally{try{be&&!be.done&&(se=Te.return)&&se.call(Te)}finally{if(F)throw F.error}}return ne}i(N,"__readFn");function j(){for(var q=arguments,H=0,se=0,Te=q.length;se<Te;se++)H+=q[se].length;for(var be=Array(H),ne=0,se=0;se<Te;se++)for(var F=q[se],ce=0,Se=F.length;ce<Se;ce++,ne++)be[ne]=F[ce];return be}i(j,"__spreadArraysFn");function V(q,H){for(var se=0,Te=H.length,be=q.length;se<Te;se++,be++)q[be]=H[se];return q}i(V,"__spreadArrayFn");function Q(q,H){return ObjDefineProperty?ObjDefineProperty(q,"raw",{value:H}):q.raw=H,q}i(Q,"__makeTemplateObjectFn");function te(q){if(q&&q.__esModule)return q;var H={};if(q!=null)for(var se in q)se!==strDefault&&Object.prototype.hasOwnProperty.call(q,se)&&m(H,q,se);return ObjCreate?ObjDefineProperty(H,strDefault,{enumerable:!0,value:q}):H[strDefault]=q,H}i(te,"__importStarFn");function me(q){return q&&q.__esModule?q:{strDefault:q}}i(me,"__importDefaultFn")},5783:(Ke,v,y)=>{"use strict";y.r(v),y.d(v,{AppInsightsCore:()=>Zi.F,ApplicationInsights:()=>Ci,CoreUtils:()=>Wt.Tr,Sender:()=>Mi,SeverityLevel:()=>ta,_InternalMessageId:()=>ea.v,arrForEach:()=>D.tO,isNullOrUndefined:()=>D.le,proxyFunctions:()=>D.Vb,throwError:()=>D._y});var C=y(1679),d=y(1088),A="AppInsightsPropertiesPlugin",p="AppInsightsChannelPlugin",K="ApplicationInsightsAnalytics",R="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",c="sampleRate",g="ProcessLegacy",$="http.method",B="https://dc.services.visualstudio.com",O="/v2/track",W="not_specified",L="iKey",Y="split",z="length",ie="toLowerCase",E="ingestionendpoint",U="toString",I="removeItem",m="name",w="message",N="count",j="preTriggerDate",V="disabled",Q="date",te="getUTCDate",me="maxTimesPerMonth",q="stringify",H="pathname",se="correlationHeaderExcludePatterns",Te="indexOf",be="extensionConfig",ne="exceptions",F="parsedStack",ce="properties",Se="measurements",Re="sizeInBytes",J="typeName",Je="severityLevel",He="problemGroup",ke="isManual",k="CreateFromInterface",G="hasFullStack",ee="level",le="method",Fe="assembly",Ge="fileName",ve="line",we="duration",ye="receivedResponse",ge="substring",Ae="sanitizeKeyAndAddUniqueness",oe="sanitizeException",Xe="sanitizeProperties",Pe="sanitizeMeasurements",D=y(6708),X=y(5018),fe=y(7630),$e;function Ve(S,f,T){var M=f[z],de=ht(S,f);if(de[z]!==M){for(var Ee=0,Ne=de;T[Ne]!==void 0;)Ee++,Ne=de[ge](0,150-3)+Et(Ee);de=Ne}return de}i(Ve,"dataSanitizeKeyAndAddUniqueness");function ht(S,f){var T;return f&&(f=(0,D.nd)(f[U]()),f[z]>150&&(T=f[ge](0,150),(0,X.kP)(S,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:f},!0))),T||f}i(ht,"dataSanitizeKey");function Ye(S,f,T){T===void 0&&(T=1024);var M;return f&&(T=T||1024,f=(0,D.nd)(f),f.toString()[z]>T&&(M=f[U]()[ge](0,T),(0,X.kP)(S,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:f},!0))),M||f}i(Ye,"dataSanitizeString");function _t(S,f){return Qe(S,f,2048,66)}i(_t,"dataSanitizeUrl");function ut(S,f){var T;return f&&f[z]>32768&&(T=f[ge](0,32768),(0,X.kP)(S,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:f},!0)),T||f}i(ut,"dataSanitizeMessage");function Jt(S,f){var T;if(f){var M=""+f;M[z]>32768&&(T=M[ge](0,32768),(0,X.kP)(S,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:f},!0))}return T||f}i(Jt,"dataSanitizeException");function Zt(S,f){if(f){var T={};(0,D.rW)(f,function(M,de){if((0,D.Kn)(de)&&(0,fe.nS)())try{de=(0,fe.xA)()[q](de)}catch(Ee){(0,X.kP)(S,2,49,"custom property is not valid",{exception:Ee},!0)}de=Ye(S,de,8192),M=Ve(S,M,T),T[M]=de}),f=T}return f}i(Zt,"dataSanitizeProperties");function on(S,f){if(f){var T={};(0,D.rW)(f,function(M,de){M=Ve(S,M,T),T[M]=de}),f=T}return f}i(on,"dataSanitizeMeasurements");function bn(S,f){return f&&Qe(S,f,128,69)[U]()}i(bn,"dataSanitizeId");function Qe(S,f,T,M){var de;return f&&(f=(0,D.nd)(f),f[z]>T&&(de=f[ge](0,T),(0,X.kP)(S,2,M,"input is too long, it has been truncated to "+T+" characters.",{data:f},!0))),de||f}i(Qe,"dataSanitizeInput");function Et(S){var f="00"+S;return f.substr(f[z]-3)}i(Et,"dsPadNumber");var xt=($e={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},$e[Ae]=Ve,$e.sanitizeKey=ht,$e.sanitizeString=Ye,$e.sanitizeUrl=_t,$e.sanitizeMessage=ut,$e[oe]=Jt,$e[Xe]=Zt,$e[Pe]=on,$e.sanitizeId=bn,$e.sanitizeInput=Qe,$e.padNumber=Et,$e.trim=D.nd,$e),wt=function(){function S(f,T,M,de){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee[m]=Ye(f,T)||W,Ee[ce]=Zt(f,M),Ee[Se]=on(f,de)}return i(S,"Event"),S.envelopeType="Microsoft.ApplicationInsights.{0}.Event",S.dataType="EventData",S}(),Ht=function(){function S(f,T,M,de,Ee){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ne=this;Ne.ver=2,T=T||W,Ne[w]=ut(f,T),Ne[ce]=Zt(f,de),Ne[Se]=on(f,Ee),M&&(Ne[Je]=M)}return i(S,"Trace"),S.envelopeType="Microsoft.ApplicationInsights.{0}.Message",S.dataType="MessageData",S}(),at="";function Bt(S,f){return f===void 0&&(f=!1),S==null?f:S.toString()[ie]()==="true"}i(Bt,"stringToBoolOrDefault");function jt(S){(isNaN(S)||S<0)&&(S=0),S=Math.round(S);var f=at+S%1e3,T=at+Math.floor(S/1e3)%60,M=at+Math.floor(S/(1e3*60))%60,de=at+Math.floor(S/(1e3*60*60))%24,Ee=Math.floor(S/(1e3*60*60*24));return f=f[z]===1?"00"+f:f[z]===2?"0"+f:f,T=T[z]<2?"0"+T:T,M=M[z]<2?"0"+M:M,de=de[z]<2?"0"+de:de,(Ee>0?Ee+".":at)+de+":"+M+":"+T+"."+f}i(jt,"msToTimeSpan");function Ut(S,f){var T=null;return(0,D.tO)(S,function(M){if(M.identifier===f)return T=M,-1}),T}i(Ut,"getExtensionByName");function Nt(S,f,T,M,de){return!de&&(0,D.HD)(S)&&(S==="Script error."||S==="Script error")}i(Nt,"isCrossOriginError");var fn=function(){function S(f,T,M,de,Ee,Ne,Ue){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var nt=this;nt.ver=2,nt.id=bn(f,Ue),nt.url=_t(f,M),nt[m]=Ye(f,T)||W,isNaN(de)||(nt[we]=jt(de)),nt[ce]=Zt(f,Ee),nt[Se]=on(f,Ne)}return i(S,"PageView"),S.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",S.dataType="PageviewData",S}(),Sn=function(){function S(f,T,M,de,Ee,Ne,Ue){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var nt=this;nt.ver=2,nt.url=_t(f,M),nt[m]=Ye(f,T)||W,nt[ce]=Zt(f,Ee),nt[Se]=on(f,Ne),Ue&&(nt.domProcessing=Ue.domProcessing,nt[we]=Ue[we],nt.networkConnect=Ue.networkConnect,nt.perfTotal=Ue.perfTotal,nt[ye]=Ue[ye],nt.sentRequest=Ue.sentRequest)}return i(S,"PageViewPerformance"),S.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",S.dataType="PageviewPerformanceData",S}(),lr="<no_method>",jn="error",Tn="stack",wr="stackDetails",nr="errorSrc",Rr="message",_r="description";function gr(S,f){var T=S;return T&&!(0,D.HD)(T)&&(JSON&&JSON[q]?(T=JSON[q](S),f&&(!T||T==="{}")&&((0,D.mf)(S[U])?T=S[U]():T=""+S)):T=""+S+" - (Missing JSON.stringify)"),T||""}i(gr,"_stringify");function Cr(S,f){var T=S;return S&&(T&&!(0,D.HD)(T)&&(T=S[Rr]||S[_r]||T),T&&!(0,D.HD)(T)&&(T=gr(T,!0)),S.filename&&(T=T+" @"+(S.filename||"")+":"+(S.lineno||"?")+":"+(S.colno||"?"))),f&&f!=="String"&&f!=="Object"&&f!=="Error"&&(T||"")[Te](f)===-1&&(T=f+": "+T),T||""}i(Cr,"_formatMessage");function re(S){try{if((0,D.Kn)(S))return"hasFullStack"in S&&"typeName"in S}catch(f){}return!1}i(re,"_isExceptionDetailsInternal");function We(S){try{if((0,D.Kn)(S))return"ver"in S&&"exceptions"in S&&"properties"in S}catch(f){}return!1}i(We,"_isExceptionInternal");function qe(S){return S&&S.src&&(0,D.HD)(S.src)&&S.obj&&(0,D.kJ)(S.obj)}i(qe,"_isStackDetails");function ct(S){var f=S||"";(0,D.HD)(f)||((0,D.HD)(f[Tn])?f=f[Tn]:f=""+f);var T=f[Y](`
`);return{src:f,obj:T}}i(ct,"_convertStackObj");function bt(S){for(var f=[],T=S[Y](`
`),M=0;M<T[z];M++){var de=T[M];T[M+1]&&(de+="@"+T[M+1],M++),f.push(de)}return{src:S,obj:f}}i(bt,"_getOperaStack");function Tt(S){var f=null;if(S)try{if(S[Tn])f=ct(S[Tn]);else if(S[jn]&&S[jn][Tn])f=ct(S[jn][Tn]);else if(S.exception&&S.exception[Tn])f=ct(S.exception[Tn]);else if(qe(S))f=S;else if(qe(S[wr]))f=S[wr];else if(window&&window.opera&&S[Rr])f=bt(S[w]);else if(S.reason&&S.reason[Tn])f=ct(S.reason[Tn]);else if((0,D.HD)(S))f=ct(S);else{var T=S[Rr]||S[_r]||"";(0,D.HD)(S[nr])&&(T&&(T+=`
`),T+=" from "+S[nr]),T&&(f=ct(T))}}catch(M){f=ct(M)}return f||{src:"",obj:null}}i(Tt,"_getStackFromErrorObj");function Rn(S){var f="";return S&&(S.obj?(0,D.tO)(S.obj,function(T){f+=T+`
`}):f=S.src||""),f}i(Rn,"_formatStackTrace");function An(S){var f,T=S.obj;if(T&&T[z]>0){f=[];var M=0,de=0;(0,D.tO)(T,function(en){var tn=en[U]();if(kt.regex.test(tn)){var Le=new kt(tn,M++);de+=Le[Re],f.push(Le)}});var Ee=32*1024;if(de>Ee)for(var Ne=0,Ue=f[z]-1,nt=0,lt=Ne,pt=Ue;Ne<Ue;){var Pt=f[Ne][Re],Gt=f[Ue][Re];if(nt+=Pt+Gt,nt>Ee){var Ft=pt-lt+1;f.splice(lt,Ft);break}lt=Ne,pt=Ue,Ne++,Ue--}}return f}i(An,"_parseStack");function ft(S){var f="";if(S&&(f=S.typeName||S[m]||"",!f))try{var T=/function (.{1,200})\(/,M=T.exec(S.constructor[U]());f=M&&M[z]>1?M[1]:""}catch(de){}return f}i(ft,"_getErrorType");function gt(S){if(S)try{if(!(0,D.HD)(S)){var f=ft(S),T=gr(S,!1);return(!T||T==="{}")&&(S[jn]&&(S=S[jn],f=ft(S)),T=gr(S,!0)),T[Te](f)!==0&&f!=="String"?f+":"+T:T}}catch(M){}return""+(S||"")}i(gt,"_formatErrorCode");var At=function(){function S(f,T,M,de,Ee,Ne){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Ue=this;Ue.ver=2,We(T)?(Ue[ne]=T[ne]||[],Ue[ce]=T[ce],Ue[Se]=T[Se],T[Je]&&(Ue[Je]=T[Je]),T.id&&(Ue.id=T.id),T[He]&&(Ue[He]=T[He]),(0,D.le)(T[ke])||(Ue[ke]=T[ke])):(M||(M={}),Ue[ne]=[new rt(f,T,M)],Ue[ce]=Zt(f,M),Ue[Se]=on(f,de),Ee&&(Ue[Je]=Ee),Ne&&(Ue.id=Ne))}return i(S,"Exception"),S.CreateAutoException=function(f,T,M,de,Ee,Ne,Ue,nt){var lt,pt=ft(Ee||Ne||f);return lt={},lt[w]=Cr(f,pt),lt.url=T,lt.lineNumber=M,lt.columnNumber=de,lt.error=gt(Ee||Ne||f),lt.evt=gt(Ne||f),lt[J]=pt,lt.stackDetails=Tt(Ue||Ee||Ne),lt.errorSrc=nt,lt},S.CreateFromInterface=function(f,T,M,de){var Ee=T[ne]&&(0,D.Mr)(T[ne],function(Ue){return rt[k](f,Ue)}),Ne=new S(f,(0,d.uc)((0,d.uc)({},T),{exceptions:Ee}),M,de);return Ne},S.prototype.toInterface=function(){var f,T=this,M=T.exceptions,de=T.properties,Ee=T.measurements,Ne=T.severityLevel,Ue=T.problemGroup,nt=T.id,lt=T.isManual,pt=M instanceof Array&&(0,D.Mr)(M,function(Pt){return Pt.toInterface()})||void 0;return f={ver:"4.0"},f[ne]=pt,f.severityLevel=Ne,f.properties=de,f.measurements=Ee,f.problemGroup=Ue,f.id=nt,f.isManual=lt,f},S.CreateSimpleException=function(f,T,M,de,Ee,Ne){var Ue;return{exceptions:[(Ue={},Ue[G]=!0,Ue.message=f,Ue.stack=Ee,Ue.typeName=T,Ue)]}},S.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",S.dataType="ExceptionData",S.formatError=gt,S}(),rt=function(){function S(f,T,M){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var de=this;if(re(T))de[J]=T[J],de[w]=T[w],de[Tn]=T[Tn],de[F]=T[F]||[],de[G]=T[G];else{var Ee=T,Ne=Ee&&Ee.evt;(0,D.VZ)(Ee)||(Ee=Ee[jn]||Ne||Ee),de[J]=Ye(f,ft(Ee))||W,de[w]=ut(f,Cr(T||Ee,de[J]))||W;var Ue=T[wr]||Tt(T);de[F]=An(Ue),de[Tn]=Jt(f,Rn(Ue)),de.hasFullStack=(0,D.kJ)(de.parsedStack)&&de.parsedStack[z]>0,M&&(M[J]=M[J]||de[J])}}return i(S,"_ExceptionDetails"),S.prototype.toInterface=function(){var f,T=this,M=T[F]instanceof Array&&(0,D.Mr)(T[F],function(Ee){return Ee.toInterface()}),de=(f={id:T.id,outerId:T.outerId,typeName:T[J],message:T[w],hasFullStack:T[G],stack:T[Tn]},f[F]=M||void 0,f);return de},S.CreateFromInterface=function(f,T){var M=T[F]instanceof Array&&(0,D.Mr)(T[F],function(Ee){return kt[k](Ee)})||T[F],de=new S(f,(0,d.uc)((0,d.uc)({},T),{parsedStack:M}));return de},S}(),kt=function(){function S(f,T){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var M=this;if(M[Re]=0,typeof f=="string"){var de=f;M[ee]=T,M[le]=lr,M[Fe]=(0,D.nd)(de),M[Ge]="",M[ve]=0;var Ee=de.match(S.regex);Ee&&Ee[z]>=5&&(M[le]=(0,D.nd)(Ee[2])||M[le],M[Ge]=(0,D.nd)(Ee[4]),M[ve]=parseInt(Ee[5])||0)}else M[ee]=f[ee],M[le]=f[le],M[Fe]=f[Fe],M[Ge]=f[Ge],M[ve]=f[ve],M[Re]=0;M.sizeInBytes+=M.method[z],M.sizeInBytes+=M.fileName[z],M.sizeInBytes+=M.assembly[z],M[Re]+=S.baseSize,M.sizeInBytes+=M.level.toString()[z],M.sizeInBytes+=M.line.toString()[z]}return i(S,"_StackFrame"),S.CreateFromInterface=function(f){return new S(f,null)},S.prototype.toInterface=function(){var f=this;return{level:f[ee],method:f[le],assembly:f[Fe],fileName:f[Ge],line:f[ve]}},S.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,S.baseSize=58,S}(),Rt=function(){function S(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return i(S,"DataPoint"),S}(),ot=function(){function S(f,T,M,de,Ee,Ne,Ue,nt,lt){this.aiDataContract={ver:1,metrics:1,properties:0};var pt=this;pt.ver=2;var Pt=new Rt;Pt[N]=de>0?de:void 0,Pt.max=isNaN(Ne)||Ne===null?void 0:Ne,Pt.min=isNaN(Ee)||Ee===null?void 0:Ee,Pt[m]=Ye(f,T)||W,Pt.value=M,Pt.stdDev=isNaN(Ue)||Ue===null?void 0:Ue,pt.metrics=[Pt],pt[ce]=Zt(f,nt),pt[Se]=on(f,lt)}return i(S,"Metric"),S.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",S.dataType="MetricData",S}(),Wt=y(5843),Yt=y(3242),ln=y(4878),un=y(4869);function xn(S){var f=null;if((0,D.mf)(Event))f=new Event(S);else{var T=(0,fe.Me)();T&&T.createEvent&&(f=T.createEvent("Event"),f.initEvent(S,!0,!0))}return f}i(xn,"createDomEvent");var vn=y(4873),wn=(0,vn.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),rn=y(2091),yt=(0,vn.By)({LocalStorage:0,SessionStorage:1}),zt=(0,vn.By)({AI:0,AI_AND_W3C:1,W3C:2}),$t=void 0,dn=void 0;function It(){return pn()?Xt(yt.LocalStorage):null}i(It,"_getLocalStorageObject");function Xt(S){try{if((0,D.le)((0,rn.Rd)()))return null;var f=new Date()[U](),T=(0,fe.a8)(S===yt.LocalStorage?"localStorage":"sessionStorage");T.setItem(f,f);var M=T.getItem(f)!==f;if(T[I](f),!M)return T}catch(de){}return null}i(Xt,"_getVerifiedStorageObject");function cn(){return Be()?Xt(yt.SessionStorage):null}i(cn,"_getSessionStorageObject");function mn(){$t=!1,dn=!1}i(mn,"utlDisableStorage");function Kt(){$t=pn(!0),dn=Be(!0)}i(Kt,"utlEnableStorage");function pn(S){return(S||$t===void 0)&&($t=!!Xt(yt.LocalStorage)),$t}i(pn,"utlCanUseLocalStorage");function Ln(S,f){var T=It();if(T!==null)try{return T.getItem(f)}catch(M){$t=!1,(0,X.kP)(S,2,1,"Browser failed read of local storage. "+(0,D.jj)(M),{exception:(0,fe.eU)(M)})}return null}i(Ln,"utlGetLocalStorage");function _n(S,f,T){var M=It();if(M!==null)try{return M.setItem(f,T),!0}catch(de){$t=!1,(0,X.kP)(S,2,3,"Browser failed write to local storage. "+(0,D.jj)(de),{exception:(0,fe.eU)(de)})}return!1}i(_n,"utlSetLocalStorage");function Un(S,f){var T=It();if(T!==null)try{return T[I](f),!0}catch(M){$t=!1,(0,X.kP)(S,2,5,"Browser failed removal of local storage item. "+(0,D.jj)(M),{exception:(0,fe.eU)(M)})}return!1}i(Un,"utlRemoveStorage");function Be(S){return(S||dn===void 0)&&(dn=!!Xt(yt.SessionStorage)),dn}i(Be,"utlCanUseSessionStorage");function In(){var S=[];return Be()&&(0,D.rW)((0,fe.a8)("sessionStorage"),function(f){S.push(f)}),S}i(In,"utlGetSessionStorageKeys");function Lt(S,f){var T=cn();if(T!==null)try{return T.getItem(f)}catch(M){dn=!1,(0,X.kP)(S,2,2,"Browser failed read of session storage. "+(0,D.jj)(M),{exception:(0,fe.eU)(M)})}return null}i(Lt,"utlGetSessionStorage");function mt(S,f,T){var M=cn();if(M!==null)try{return M.setItem(f,T),!0}catch(de){dn=!1,(0,X.kP)(S,2,4,"Browser failed write to session storage. "+(0,D.jj)(de),{exception:(0,fe.eU)(de)})}return!1}i(mt,"utlSetSessionStorage");function On(S,f){var T=cn();if(T!==null)try{return T[I](f),!0}catch(M){dn=!1,(0,X.kP)(S,2,6,"Browser failed removal of session storage item. "+(0,D.jj)(M),{exception:(0,fe.eU)(M)})}return!1}i(On,"utlRemoveSessionStorage");var cr=(0,fe.Me)()||{},Hn=0,Qn=[null,null,null,null,null];function kn(S){var f=Hn,T=Qn,M=T[f];return cr.createElement?T[f]||(M=T[f]=cr.createElement("a")):M={host:Ir(S,!0)},M.href=S,f++,f>=T[z]&&(f=0),Hn=f,M}i(kn,"urlParseUrl");function Dr(S){var f,T=kn(S);return T&&(f=T.href),f}i(Dr,"urlGetAbsoluteUrl");function Jn(S){var f,T=kn(S);return T&&(f=T[H]),f}i(Jn,"urlGetPathName");function Mn(S,f){return S?S.toUpperCase()+" "+f:f}i(Mn,"urlGetCompleteUrl");function Ir(S,f){var T=rr(S,f)||"";if(T){var M=T.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(M!=null&&M[z]>3&&(0,D.HD)(M[2])&&M[2][z]>0)return M[2]+(M[3]||"")}return T}i(Ir,"urlParseHost");function rr(S,f){var T=null;if(S){var M=S.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(M!=null&&M[z]>2&&(0,D.HD)(M[2])&&M[2][z]>0&&(T=M[2]||"",f&&M[z]>2)){var de=(M[1]||"")[ie](),Ee=M[3]||"";(de==="http"&&Ee===":80"||de==="https"&&Ee===":443")&&(Ee=""),T+=Ee}}return T}i(rr,"urlParseFullHost");var ir=[B+O,"https://breeze.aimon.applicationinsights.io"+O,"https://dc-int.services.visualstudio.com"+O];function fr(S){return(0,D.UA)(ir,S[ie]())!==-1}i(fr,"isInternalApplicationInsightsEndpoint");var ar={NotSpecified:W,createDomEvent:xn,disableStorage:mn,isInternalApplicationInsightsEndpoint:fr,canUseLocalStorage:pn,getStorage:Ln,setStorage:_n,removeStorage:Un,canUseSessionStorage:Be,getSessionStorageKeys:In,getSessionStorage:Lt,setSessionStorage:mt,removeSessionStorage:On,disableCookies:Wt.oF,canUseCookies:Wt.vn,disallowsSameSiteNone:Yt.UY,setCookie:Wt.d8,stringToBoolOrDefault:Bt,getCookie:Wt.ej,deleteCookie:Wt.kT,trim:D.nd,newId:ln.pZ,random32:function(){return(0,ln._l)(!0)},generateW3CId:Wt.DO,isArray:D.kJ,isError:D.VZ,isDate:D.J_,toISOStringForIE8:D.Y6,getIEVersion:fe.sA,msToTimeSpan:jt,isCrossOriginError:Nt,dump:fe.eU,getExceptionName:D.jj,addEventHandler:un.pZ,IsBeaconApiSupported:fe.MF,getExtension:Ut},$r={parseUrl:kn,getAbsoluteUrl:Dr,getPathName:Jn,getCompleteUrl:Mn,parseHost:Ir,parseFullHost:rr},sr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(S,f,T){if(!f||S&&S.disableCorrelationHeaders)return!1;if(S&&S[se]){for(var M=0;M<S.correlationHeaderExcludePatterns[z];M++)if(S[se][M].test(f))return!1}var de=kn(f).host[ie]();if(de&&(de[Te](":443")!==-1||de[Te](":80")!==-1)&&(de=(rr(f,!0)||"")[ie]()),(!S||!S.enableCorsCorrelation)&&de&&de!==T)return!1;var Ee=S&&S.correlationHeaderDomains;if(Ee){var Ne;if((0,D.tO)(Ee,function(lt){var pt=new RegExp(lt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ne=Ne||pt.test(de)}),!Ne)return!1}var Ue=S&&S.correlationHeaderExcludedDomains;if(!Ue||Ue[z]===0)return!0;for(var M=0;M<Ue[z];M++){var nt=new RegExp(Ue[M].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(nt.test(de))return!1}return de&&de[z]>0},getCorrelationContext:function(S){if(S){var f=sr.getCorrelationContextValue(S,wn[1]);if(f&&f!==sr.correlationIdPrefix)return f}},getCorrelationContextValue:function(S,f){if(S)for(var T=S[Y](","),M=0;M<T[z];++M){var de=T[M][Y]("=");if(de[z]===2&&de[0]===f)return de[1]}}};function or(S,f,T,M){var de,Ee=M,Ne=M;if(f&&f[z]>0){var Ue=kn(f);if(de=Ue.host,!Ee)if(Ue[H]!=null){var nt=Ue.pathname[z]===0?"/":Ue[H];nt.charAt(0)!=="/"&&(nt="/"+nt),Ne=Ue[H],Ee=Ye(S,T?T+" "+nt:nt)}else Ee=Ye(S,f)}else de=M,Ee=M;return{target:de,name:Ee,data:Ne}}i(or,"AjaxHelperParseDependencyPath");function Fr(){var S=(0,fe.r)();if(S&&S.now&&S.timing){var f=S.now()+S.timing.navigationStart;if(f>0)return f}return(0,D.m6)()}i(Fr,"dateTimeUtilsNow");function yr(S,f){var T=null;return S!==0&&f!==0&&!(0,D.le)(S)&&!(0,D.le)(f)&&(T=f-S),T}i(yr,"dateTimeUtilsDuration");var xr={Now:Fr,GetDuration:yr};function Or(S,f){var T=S||{};return{getName:function(){return T[_DYN_NAME]},setName:function(M){f&&f.setName(M),T[_DYN_NAME]=M},getTraceId:function(){return T.traceID},setTraceId:function(M){f&&f.setTraceId(M),isValidTraceId(M)&&(T.traceID=M)},getSpanId:function(){return T.parentID},setSpanId:function(M){f&&f.setSpanId(M),isValidSpanId(M)&&(T.parentID=M)},getTraceFlags:function(){return T.traceFlags},setTraceFlags:function(M){f&&f.setTraceFlags(M),T.traceFlags=M}}}i(Or,"createDistributedTraceContextFromTrace");var dr=function(){function S(f,T,M,de,Ee,Ne,Ue,nt,lt,pt,Pt,Gt){lt===void 0&&(lt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ft=this;Ft.ver=2,Ft.id=T,Ft[we]=jt(Ee),Ft.success=Ne,Ft.resultCode=Ue+"",Ft.type=Ye(f,lt);var en=or(f,M,nt,de);Ft.data=_t(f,de)||en.data,Ft.target=Ye(f,en.target),pt&&(Ft.target="".concat(Ft.target," | ").concat(pt)),Ft[m]=Ye(f,en[m]),Ft[ce]=Zt(f,Pt),Ft[Se]=on(f,Gt)}return i(S,"RemoteDependencyData"),S.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",S.dataType="RemoteDependencyData",S}(),Pr=y(5883),pr=y(4063);function Cn(S){var f="ai."+S+".";return function(T){return f+T}}i(Cn,"_aiNameFunc");var Pn=Cn("application"),gn=Cn("device"),_e=Cn("location"),_=Cn("operation"),x=Cn("session"),ue=Cn("user"),Me=Cn("cloud"),dt=Cn("internal"),Ze=function(S){(0,d.ne)(f,S);function f(){return S.call(this)||this}return i(f,"ContextTagKeys"),f}((0,D.hl)({applicationVersion:Pn("ver"),applicationBuild:Pn("build"),applicationTypeId:Pn("typeId"),applicationId:Pn("applicationId"),applicationLayer:Pn("layer"),deviceId:gn("id"),deviceIp:gn("ip"),deviceLanguage:gn("language"),deviceLocale:gn("locale"),deviceModel:gn("model"),deviceFriendlyName:gn("friendlyName"),deviceNetwork:gn("network"),deviceNetworkName:gn("networkName"),deviceOEMName:gn("oemName"),deviceOS:gn("os"),deviceOSVersion:gn("osVersion"),deviceRoleInstance:gn("roleInstance"),deviceRoleName:gn("roleName"),deviceScreenResolution:gn("screenResolution"),deviceType:gn("type"),deviceMachineName:gn("machineName"),deviceVMName:gn("vmName"),deviceBrowser:gn("browser"),deviceBrowserVersion:gn("browserVersion"),locationIp:_e("ip"),locationCountry:_e("country"),locationProvince:_e("province"),locationCity:_e("city"),operationId:_("id"),operationName:_("name"),operationParentId:_("parentId"),operationRootId:_("rootId"),operationSyntheticSource:_("syntheticSource"),operationCorrelationVector:_("correlationVector"),sessionId:x("id"),sessionIsFirst:x("isFirst"),sessionIsNew:x("isNew"),userAccountAcquisitionDate:ue("accountAcquisitionDate"),userAccountId:ue("accountId"),userAgent:ue("userAgent"),userId:ue("id"),userStoreRegion:ue("storeRegion"),userAuthUserId:ue("authUserId"),userAnonymousUserAcquisitionDate:ue("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ue("authUserAcquisitionDate"),cloudName:Me("name"),cloudRole:Me("role"),cloudRoleVer:Me("roleVer"),cloudRoleInstance:Me("roleInstance"),cloudEnvironment:Me("environment"),cloudLocation:Me("location"),cloudDeploymentUnit:Me("deploymentUnit"),internalNodeName:dt("nodeName"),internalSdkVersion:dt("sdkVersion"),internalAgentVersion:dt("agentVersion"),internalSnippet:dt("snippet"),internalSdkSrc:dt("sdkSrc")})),he={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},De=new Ze,Oe=function(){function S(f,T,M){var de=this,Ee=this;Ee.ver=1,Ee.sampleRate=100,Ee.tags={},Ee[m]=Ye(f,M)||W,Ee.data=T,Ee.time=(0,D.Y6)(new Date),Ee.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return de.sampleRate===100?4:1},tags:1,data:1}}return i(S,"Envelope"),S}(),ze=function(){function S(f,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=f,this.baseData=T}return i(S,"Data"),S}(),et="duration",it="tags",Dt="deviceType",Ct="data",Mt="name",Bn="traceID",Ot="length",Yn="stringify",Fn="measurements",Gn="dataType",ur="envelopeType",Wr="toString",ti="onLine",Xr="enqueue",zr="count",er="push",oi="emitLineDelimitedJson",Yr="clear",Ur="batchPayloads",Tr="markAsSent",Hr="clearSent",ni="BUFFER_KEY",Gr="SENT_BUFFER_KEY",Kr="MAX_BUFFER_SIZE",Nr="namePrefix",Vr="maxBatchSizeInBytes",Lr="triggerSend",tr="diagLog",Ti="onunloadDisableBeacon",Er="isBeaconApiDisabled",Qr="_sender",Dn="_senderConfig",hr="_buffer",Ai="enableSessionStorageBuffer",ui="samplingPercentage",ri="instrumentationKey",Mr="endpointUrl",li="customHeaders",Jr="disableXhr",ii="onunloadDisableFetch",ci="disableTelemetry",fi="baseType",di="sampleRate",Hi="convertUndefined",ki="_xhrReadyStateChange",qn="_onError",Zr="_onPartialSuccess",qr="_onSuccess",hi="itemsAccepted",Bi="itemsReceived",ai="isRetryDisabled",vi="setRequestHeader",bi="maxBatchInterval",$i="eventsSendRequest",Ri="disableInstrumentationKeyValidation",Ii="getSamplingScore",kr="getHashCodeScore",mr="baseType",Nn="baseData",Zn="properties",Wi="true";function $n(S,f,T){return(0,D.sO)(S,f,T,D.fQ)}i($n,"_setValueIf");function zi(S,f,T){var M=T[it]=T[it]||{},de=f.ext=f.ext||{},Ee=f[it]=f[it]||[],Ne=de.user;Ne&&($n(M,De.userAuthUserId,Ne.authId),$n(M,De.userId,Ne.id||Ne.localId));var Ue=de.app;Ue&&$n(M,De.sessionId,Ue.sesId);var nt=de.device;nt&&($n(M,De.deviceId,nt.id||nt.localId),$n(M,De[Dt],nt.deviceClass),$n(M,De.deviceIp,nt.ip),$n(M,De.deviceModel,nt.model),$n(M,De[Dt],nt[Dt]));var lt=f.ext.web;if(lt){$n(M,De.deviceLanguage,lt.browserLang),$n(M,De.deviceBrowserVersion,lt.browserVer),$n(M,De.deviceBrowser,lt.browser);var pt=T[Ct]=T[Ct]||{},Pt=pt[Nn]=pt[Nn]||{},Gt=Pt[Zn]=Pt[Zn]||{};$n(Gt,"domain",lt.domain),$n(Gt,"isManual",lt.isManual?Wi:null),$n(Gt,"screenRes",lt.screenRes),$n(Gt,"userConsent",lt.userConsent?Wi:null)}var Ft=de.os;Ft&&$n(M,De.deviceOS,Ft[Mt]);var en=de.trace;en&&($n(M,De.operationParentId,en.parentID),$n(M,De.operationName,Ye(S,en[Mt])),$n(M,De.operationId,en[Bn]));for(var tn={},Le=Ee[Ot]-1;Le>=0;Le--){var n=Ee[Le];(0,D.rW)(n,function(t,r){tn[t]=r}),Ee.splice(Le,1)}(0,D.rW)(Ee,function(t,r){tn[t]=r});var e=(0,d.uc)((0,d.uc)({},M),tn);e[De.internalSdkVersion]||(e[De.internalSdkVersion]="javascript:".concat(gi.Version)),T[it]=(0,D.Ax)(e)}i(zi,"_extractPartAExtensions");function Br(S,f,T){(0,D.le)(S)||(0,D.rW)(S,function(M,de){(0,D.hj)(de)?T[M]=de:(0,D.HD)(de)?f[M]=de:(0,fe.nS)()&&(f[M]=(0,fe.xA)()[Yn](de))})}i(Br,"_extractPropsAndMeasurements");function jr(S,f){(0,D.le)(S)||(0,D.rW)(S,function(T,M){S[T]=M||f})}i(jr,"_convertPropsUndefinedToCustomDefinedValue");function vr(S,f,T,M){var de=new Oe(S,M,f);$n(de,"sampleRate",T[c]),(T[Nn]||{}).startTime&&(de.time=(0,D.Y6)(T[Nn].startTime)),de.iKey=T.iKey;var Ee=T.iKey.replace(/-/g,"");return de[Mt]=de[Mt].replace("{0}",Ee),zi(S,T,de),T[it]=T[it]||[],(0,D.Ax)(de)}i(vr,"_createEnvelope");function Sr(S,f){(0,D.le)(f[Nn])&&(0,X.kP)(S,1,46,"telemetryItem.baseData cannot be null.")}i(Sr,"EnvelopeCreatorInit");var gi={Version:"2.8.9"};function pi(S,f,T){Sr(S,f);var M=f[Nn][Fn]||{},de=f[Nn][Zn]||{};Br(f[Ct],de,M),(0,D.le)(T)||jr(de,T);var Ee=f[Nn];if((0,D.le)(Ee))return(0,X.jV)(S,"Invalid input for dependency data"),null;var Ne=Ee[Zn]&&Ee[Zn][$]?Ee[Zn][$]:"GET",Ue=new dr(S,Ee.id,Ee.target,Ee[Mt],Ee[et],Ee.success,Ee.responseCode,Ne,Ee.type,Ee.correlationContext,de,M),nt=new ze(dr[Gn],Ue);return vr(S,dr[ur],f,nt)}i(pi,"DependencyEnvelopeCreator");function Oi(S,f,T){Sr(S,f);var M={},de={};f[mr]!==wt[Gn]&&(M.baseTypeSource=f[mr]),f[mr]===wt[Gn]?(M=f[Nn][Zn]||{},de=f[Nn][Fn]||{}):f[Nn]&&Br(f[Nn],M,de),Br(f[Ct],M,de),(0,D.le)(T)||jr(M,T);var Ee=f[Nn][Mt],Ne=new wt(S,Ee,M,de),Ue=new ze(wt[Gn],Ne);return vr(S,wt[ur],f,Ue)}i(Oi,"EventEnvelopeCreator");function mi(S,f,T){Sr(S,f);var M=f[Nn][Fn]||{},de=f[Nn][Zn]||{};Br(f[Ct],de,M),(0,D.le)(T)||jr(de,T);var Ee=f[Nn],Ne=At.CreateFromInterface(S,Ee,de,M),Ue=new ze(At[Gn],Ne);return vr(S,At[ur],f,Ue)}i(mi,"ExceptionEnvelopeCreator");function Ki(S,f,T){Sr(S,f);var M=f[Nn],de=M[Zn]||{},Ee=M[Fn]||{};Br(f[Ct],de,Ee),(0,D.le)(T)||jr(de,T);var Ne=new ot(S,M[Mt],M.average,M.sampleCount,M.min,M.max,M.stdDev,de,Ee),Ue=new ze(ot[Gn],Ne);return vr(S,ot[ur],f,Ue)}i(Ki,"MetricEnvelopeCreator");function ji(S,f,T){Sr(S,f);var M,de=f[Nn];!(0,D.le)(de)&&!(0,D.le)(de[Zn])&&!(0,D.le)(de[Zn][et])?(M=de[Zn][et],delete de[Zn][et]):!(0,D.le)(f[Ct])&&!(0,D.le)(f[Ct][et])&&(M=f[Ct][et],delete f[Ct][et]);var Ee=f[Nn],Ne;((f.ext||{}).trace||{})[Bn]&&(Ne=f.ext.trace[Bn]);var Ue=Ee.id||Ne,nt=Ee[Mt],lt=Ee.uri,pt=Ee[Zn]||{},Pt=Ee[Fn]||{};if((0,D.le)(Ee.refUri)||(pt.refUri=Ee.refUri),(0,D.le)(Ee.pageType)||(pt.pageType=Ee.pageType),(0,D.le)(Ee.isLoggedIn)||(pt.isLoggedIn=Ee.isLoggedIn[Wr]()),!(0,D.le)(Ee[Zn])){var Gt=Ee[Zn];(0,D.rW)(Gt,function(tn,Le){pt[tn]=Le})}Br(f[Ct],pt,Pt),(0,D.le)(T)||jr(pt,T);var Ft=new fn(S,nt,lt,M,pt,Pt,Ue),en=new ze(fn[Gn],Ft);return vr(S,fn[ur],f,en)}i(ji,"PageViewEnvelopeCreator");function Yi(S,f,T){Sr(S,f);var M=f[Nn],de=M[Mt],Ee=M.uri||M.url,Ne=M[Zn]||{},Ue=M[Fn]||{};Br(f[Ct],Ne,Ue),(0,D.le)(T)||jr(Ne,T);var nt=new Sn(S,de,Ee,void 0,Ne,Ue,M),lt=new ze(Sn[Gn],nt);return vr(S,Sn[ur],f,lt)}i(Yi,"PageViewPerformanceEnvelopeCreator");function _i(S,f,T){Sr(S,f);var M=f[Nn].message,de=f[Nn].severityLevel,Ee=f[Nn][Zn]||{},Ne=f[Nn][Fn]||{};Br(f[Ct],Ee,Ne),(0,D.le)(T)||jr(Ee,T);var Ue=new Ht(S,M,de,Ee,Ne),nt=new ze(Ht[Gn],Ue);return vr(S,Ht[ur],f,nt)}i(_i,"TraceEnvelopeCreator");function yi(S,f){(0,un.QY)(S,null,null,f)}i(yi,"_disableEvents");function Gi(S){var f=(0,fe.Me)(),T=(0,fe.jW)(),M=!1,de=!0,Ee=(0,un.jU)((0,Pr.J)("OfflineListener"),S);try{if(Ue((0,fe.Jj)())&&(M=!0),f){var Ne=f.body||f;Ne.ononline&&Ue(Ne)&&(M=!0)}M&&T&&!(0,D.le)(T[ti])&&(de=T[ti])}catch(Gt){M=!1}function Ue(Gt){var Ft=!1;return Gt&&(Ft=(0,un.XO)(Gt,"online",nt,Ee),Ft&&(0,un.XO)(Gt,"offline",lt,Ee)),Ft}i(Ue,"_enableEvents");function nt(){de=!0}i(nt,"_setOnline");function lt(){de=!1}i(lt,"_setOffline");function pt(){var Gt=!0;return M?Gt=de:T&&!(0,D.le)(T[ti])&&(Gt=T[ti]),Gt}i(pt,"_isOnline");function Pt(){var Gt=(0,fe.Jj)();if(Gt&&M){if(yi(Gt,Ee),f){var Ft=f.body||f;(0,D.o8)(Ft.ononline)||yi(Ft,Ee)}M=!1}}return i(Pt,"_unload"),{isOnline:pt,isListening:function(){return M},unload:Pt}}i(Gi,"createOfflineListener");var Pi=function(){function S(f,T){var M=[],de=!1;this._get=function(){return M},this._set=function(Ee){return M=Ee,M},(0,C.Z)(S,this,function(Ee){Ee[Xr]=function(Ne){if(Ee[zr]()>=T.eventsLimitInMem()){de||((0,X.kP)(f,2,105,"Maximum in-memory buffer size reached: "+Ee[zr](),!0),de=!0);return}M[er](Ne)},Ee[zr]=function(){return M[Ot]},Ee.size=function(){for(var Ne=M[Ot],Ue=0;Ue<M[Ot];Ue++)Ne+=M[Ue][Ot];return T[oi]()||(Ne+=2),Ne},Ee[Yr]=function(){M=[],de=!1},Ee.getItems=function(){return M.slice(0)},Ee[Ur]=function(Ne){if(Ne&&Ne[Ot]>0){var Ue=T[oi]()?Ne.join(`
`):"["+Ne.join(",")+"]";return Ue}return null}})}return i(S,"BaseSendBuffer"),S.__ieDyn=1,S}(),Ei=function(S){(0,d.ne)(f,S);function f(T,M){var de=S.call(this,T,M)||this;return(0,C.Z)(f,de,function(Ee,Ne){Ee[Tr]=function(Ue){Ne[Yr]()},Ee[Hr]=function(Ue){}}),de}return i(f,"ArraySendBuffer"),f.__ieDyn=1,f}(Pi),Vi=function(S){(0,d.ne)(f,S);function f(T,M){var de=S.call(this,T,M)||this,Ee=!1;return(0,C.Z)(f,de,function(Ne,Ue){var nt=Gt(f[ni]),lt=Gt(f[Gr]),pt=Ne._set(nt.concat(lt));pt[Ot]>f[Kr]&&(pt[Ot]=f[Kr]),Ft(f[Gr],[]),Ft(f[ni],pt),Ne[Xr]=function(en){if(Ne[zr]()>=f[Kr]){Ee||((0,X.kP)(T,2,67,"Maximum buffer size reached: "+Ne[zr](),!0),Ee=!0);return}Ue[Xr](en),Ft(f[ni],Ne._get())},Ne[Yr]=function(){Ue[Yr](),Ft(f[ni],Ne._get()),Ft(f[Gr],[]),Ee=!1},Ne[Tr]=function(en){Ft(f[ni],Ne._set(Pt(en,Ne._get())));var tn=Gt(f[Gr]);tn instanceof Array&&en instanceof Array&&(tn=tn.concat(en),tn[Ot]>f[Kr]&&((0,X.kP)(T,1,67,"Sent buffer reached its maximum size: "+tn[Ot],!0),tn[Ot]=f[Kr]),Ft(f[Gr],tn))},Ne[Hr]=function(en){var tn=Gt(f[Gr]);tn=Pt(en,tn),Ft(f[Gr],tn)};function Pt(en,tn){var Le=[];return(0,D.tO)(tn,function(n){!(0,D.mf)(n)&&(0,D.UA)(en,n)===-1&&Le[er](n)}),Le}i(Pt,"_removePayloadsFromBuffer");function Gt(en){var tn=en;try{tn=M[Nr]&&M[Nr]()?M[Nr]()+"_"+tn:tn;var Le=Lt(T,tn);if(Le){var n=(0,fe.xA)().parse(Le);if((0,D.HD)(n)&&(n=(0,fe.xA)().parse(n)),n&&(0,D.kJ)(n))return n}}catch(e){(0,X.kP)(T,1,42," storage key: "+tn+", "+(0,D.jj)(e),{exception:(0,fe.eU)(e)})}return[]}i(Gt,"_getBuffer");function Ft(en,tn){var Le=en;try{Le=M[Nr]&&M[Nr]()?M[Nr]()+"_"+Le:Le;var n=JSON[Yn](tn);mt(T,Le,n)}catch(e){mt(T,Le,JSON[Yn]([])),(0,X.kP)(T,2,41," storage key: "+Le+", "+(0,D.jj)(e)+". Buffer cleared",{exception:(0,fe.eU)(e)})}}i(Ft,"_setBuffer")}),de}return i(f,"SessionStorageSendBuffer"),f.BUFFER_KEY="AI_buffer",f.SENT_BUFFER_KEY="AI_sentBuffer",f.MAX_BUFFER_SIZE=2e3,f}(Pi),Qi=function(){function S(f){(0,C.Z)(S,this,function(T){T.serialize=function(Ne){var Ue=M(Ne,"root");try{return(0,fe.xA)()[Yn](Ue)}catch(nt){(0,X.kP)(f,1,48,nt&&(0,D.mf)(nt[Wr])?nt[Wr]():"Error serializing object",null,!0)}};function M(Ne,Ue){var nt="__aiCircularRefCheck",lt={};if(!Ne)return(0,X.kP)(f,1,48,"cannot serialize object because it is null or undefined",{name:Ue},!0),lt;if(Ne[nt])return(0,X.kP)(f,2,50,"Circular reference detected while serializing object",{name:Ue},!0),lt;if(!Ne.aiDataContract){if(Ue==="measurements")lt=Ee(Ne,"number",Ue);else if(Ue==="properties")lt=Ee(Ne,"string",Ue);else if(Ue==="tags")lt=Ee(Ne,"string",Ue);else if((0,D.kJ)(Ne))lt=de(Ne,Ue);else{(0,X.kP)(f,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:Ue},!0);try{(0,fe.xA)()[Yn](Ne),lt=Ne}catch(pt){(0,X.kP)(f,1,48,pt&&(0,D.mf)(pt[Wr])?pt[Wr]():"Error serializing object",null,!0)}}return lt}return Ne[nt]=!0,(0,D.rW)(Ne.aiDataContract,function(pt,Pt){var Gt=(0,D.mf)(Pt)?Pt()&1:Pt&1,Ft=(0,D.mf)(Pt)?Pt()&4:Pt&4,en=Pt&2,tn=Ne[pt]!==void 0,Le=(0,D.Kn)(Ne[pt])&&Ne[pt]!==null;if(Gt&&!tn&&!en)(0,X.kP)(f,1,24,"Missing required field specification. The field is required but not present on source",{field:pt,name:Ue});else if(!Ft){var n=void 0;Le?en?n=de(Ne[pt],pt):n=M(Ne[pt],pt):n=Ne[pt],n!==void 0&&(lt[pt]=n)}}),delete Ne[nt],lt}i(M,"_serializeObject");function de(Ne,Ue){var nt;if(Ne)if(!(0,D.kJ)(Ne))(0,X.kP)(f,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:Ue},!0);else{nt=[];for(var lt=0;lt<Ne[Ot];lt++){var pt=Ne[lt],Pt=M(pt,Ue+"["+lt+"]");nt[er](Pt)}}return nt}i(de,"_serializeArray");function Ee(Ne,Ue,nt){var lt;return Ne&&(lt={},(0,D.rW)(Ne,function(pt,Pt){if(Ue==="string")Pt===void 0?lt[pt]="undefined":Pt===null?lt[pt]="null":Pt[Wr]?lt[pt]=Pt[Wr]():lt[pt]="invalid field: toString() is not defined.";else if(Ue==="number")if(Pt===void 0)lt[pt]="undefined";else if(Pt===null)lt[pt]="null";else{var Gt=parseFloat(Pt);isNaN(Gt)?lt[pt]="NaN":lt[pt]=Gt}else lt[pt]="invalid field: "+nt+" is of unknown type.",(0,X.kP)(f,1,lt[pt],null,!0)})),lt}i(Ee,"_serializeStringMap")})}return i(S,"Serializer"),S.__ieDyn=1,S}(),ei=8,Ji=function(){function S(){}return i(S,"HashCodeScoreGenerator"),S.prototype.getHashCodeScore=function(f){var T=this.getHashCode(f)/S.INT_MAX_VALUE;return T*100},S.prototype.getHashCode=function(f){if(f==="")return 0;for(;f[Ot]<ei;)f=f.concat(f);for(var T=5381,M=0;M<f[Ot];++M)T=(T<<5)+T+f.charCodeAt(M),T=T&T;return Math.abs(T)},S.INT_MAX_VALUE=2147483647,S}(),Ni=function(){function S(){var f=this,T=new Ji,M=new Ze;f[Ii]=function(de){var Ee=0;return de[it]&&de[it][M.userId]?Ee=T.getHashCodeScore(de[it][M.userId]):de.ext&&de.ext.user&&de.ext.user.id?Ee=T[kr](de.ext.user.id):de[it]&&de[it][M.operationId]?Ee=T.getHashCodeScore(de[it][M.operationId]):de.ext&&de.ext.telemetryTrace&&de.ext.telemetryTrace[Bn]?Ee=T.getHashCodeScore(de.ext.telemetryTrace[Bn]):Ee=Math.random()*100,Ee}}return i(S,"SamplingScoreGenerator"),S}(),si=function(){function S(f,T){this.INT_MAX_VALUE=2147483647;var M=T||(0,X.vH)(null);(f>100||f<0)&&(M.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:f},!0),f=100),this[di]=f,this.samplingScoreGenerator=new Ni}return i(S,"Sample"),S.prototype.isSampledIn=function(f){var T=this[di],M=!1;return T==null||T>=100||f.baseType===ot[Gn]?!0:(M=this.samplingScoreGenerator[Ii](f)<T,M)},S}(),Ar,Li=65e3;function Si(S){try{return S.responseText}catch(f){}return null}i(Si,"_getResponseText");function Xi(){var S,f,T;return S={endpointUrl:function(){return B+O}},S[oi]=function(){return!1},S[bi]=function(){return 15e3},S[Vr]=function(){return 102400},S[ci]=function(){return!1},S[Ai]=function(){return!0},S[ai]=function(){return!1},S[Er]=function(){return!0},S[Jr]=function(){return!1},S[ii]=function(){return!1},S[Ti]=function(){return!1},S[ri]=function(){return f},S[Nr]=function(){return f},S[ui]=function(){return 100},S[li]=function(){return T},S[Hi]=function(){return f},S.eventsLimitInMem=function(){return 1e4},S}i(Xi,"_getDefaultAppInsightsChannelConfig");var qi=(Ar={},Ar[wt.dataType]=Oi,Ar[Ht.dataType]=_i,Ar[fn.dataType]=ji,Ar[Sn.dataType]=Yi,Ar[At.dataType]=mi,Ar[ot.dataType]=Ki,Ar[dr.dataType]=pi,Ar),Mi=function(S){(0,d.ne)(f,S);function f(){var T=S.call(this)||this;T.priority=1001,T.identifier=p,T._senderConfig=Xi();var M,de,Ee,Ne,Ue,nt,lt,pt,Pt=0,Gt,Ft,en,tn;return(0,C.Z)(f,T,function(Le,n){yn(),Le.pause=function(){Ce(),Ne=!0},Le.resume=function(){Ne&&(Ne=!1,de=null,Le._buffer.size()>Le._senderConfig[Vr]()&&Le[Lr](!0,null,10),Ie())},Le.flush=function(pe,je,tt){if(pe===void 0&&(pe=!0),!Ne){Ce();try{Le[Lr](pe,null,tt||1)}catch(St){(0,X.kP)(Le[tr](),1,22,"flush failed, telemetry will not be collected: "+(0,D.jj)(St),{exception:(0,fe.eU)(St)})}}},Le.onunloadFlush=function(){if(!Ne)if((Le._senderConfig[Ti]()===!1||Le[Dn][Er]()===!1)&&(0,fe.MF)())try{Le[Lr](!0,a,2)}catch(pe){(0,X.kP)(Le[tr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,D.jj)(pe),{exception:(0,fe.eU)(pe)})}else Le.flush()},Le.addHeader=function(pe,je){pt[pe]=je},Le.initialize=function(pe,je,tt,St){Le.isInitialized()&&(0,X.kP)(Le[tr](),1,28,"Sender is already initialized"),n.initialize(pe,je,tt,St);var Qt=Le._getTelCtx(),an=Le.identifier;nt=new Qi(je.logger),M=0,de=null,Ee=0,Le[Qr]=null,lt=0;var qt=Le[tr]();tn=(0,un.jU)((0,Pr.J)("Sender"),je.evtNamespace&&je.evtNamespace()),en=Gi(tn);var Vn=Xi();(0,D.rW)(Vn,function(zn,br){Le[Dn][zn]=function(){var Xn=Qt.getConfig(an,zn,br());return!Xn&&zn==="endpointUrl"&&(Xn=br()),Xn}}),Le._buffer=Le[Dn][Ai]()&&Be()?new Vi(qt,Le[Dn]):new Ei(qt,Le[Dn]),Le._sample=new si(Le[Dn][ui](),qt),hn(pe)||(0,X.kP)(qt,1,100,"Invalid Instrumentation key "+pe[ri]),!fr(Le._senderConfig.endpointUrl())&&Le._senderConfig.customHeaders()&&Le._senderConfig.customHeaders()[Ot]>0&&(0,D.tO)(Le[Dn][li](),function(zn){T.addHeader(zn.header,zn.value)});var Wn=Le[Dn],Kn=null;!Wn[Jr]()&&(0,fe.cp)()?Kn=vt:!Wn[Jr]()&&(0,fe.Z3)()&&(Kn=u),!Kn&&(0,fe.JO)()&&(Kn=h),Gt=Kn||u,!Wn[Er]()&&(0,fe.MF)()&&(Kn=o),Le[Qr]=Kn||u,!Wn[ii]()&&(0,fe.JO)(!0)?Ft=l:(0,fe.MF)()?Ft=o:!Wn[Jr]()&&(0,fe.cp)()?Ft=vt:!Wn[Jr]()&&(0,fe.Z3)()?Ft=u:Ft=Gt},Le.processTelemetry=function(pe,je){je=Le._getTelCtx(je);var tt=je[tr]();try{if(Le[Dn][ci]())return;if(!pe){(0,X.kP)(tt,1,7,"Cannot send empty telemetry");return}if(pe.baseData&&!pe[fi]){(0,X.kP)(tt,1,70,"Cannot send telemetry without baseData and baseType");return}if(pe[fi]||(pe[fi]="EventData"),!Le[Qr]){(0,X.kP)(tt,1,28,"Sender was not initialized");return}if(e(pe))pe[c]=Le._sample[di];else{(0,X.kP)(tt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Le._sample[di]});return}var St=Le[Dn][Hi]()||void 0,Qt=pe.iKey||Le[Dn][ri](),an=f.constructEnvelope(pe,Qt,tt,St);if(!an){(0,X.kP)(tt,1,47,"Unable to create an AppInsights envelope");return}var qt=!1;if(pe[it]&&pe[it][g]&&((0,D.tO)(pe[it][g],function(zn){try{zn&&zn(an)===!1&&(qt=!0,(0,X.jV)(tt,"Telemetry processor check returns false"))}catch(br){(0,X.kP)(tt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,D.jj)(br),{exception:(0,fe.eU)(br)},!0)}}),delete pe[it][g]),qt)return;var Vn=nt.serialize(an),Wn=Le[hr],Kn=Wn.size();Kn+Vn[Ot]>Le[Dn][Vr]()&&Le[Lr](!0,null,10),Wn[Xr](Vn),Ie()}catch(zn){(0,X.kP)(tt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,D.jj)(zn),{exception:(0,fe.eU)(zn)})}Le.processNext(pe,je)},Le[ki]=function(pe,je,tt){pe.readyState===4&&t(pe.status,je,pe.responseURL,tt,st(pe),Si(pe)||pe.response)},Le[Lr]=function(pe,je,tt){if(pe===void 0&&(pe=!0),!Ne)try{var St=Le[hr];if(Le[Dn][ci]())St[Yr]();else{if(St[zr]()>0){var Qt=St.getItems();sn(tt||0,pe),je?je.call(T,Qt,pe):Le[Qr](Qt,pe)}Ee=+new Date}Ce()}catch(qt){var an=(0,fe.sA)();(!an||an>9)&&(0,X.kP)(Le[tr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,D.jj)(qt),{exception:(0,fe.eU)(qt)})}},Le._doTeardown=function(pe,je){Le.onunloadFlush(),en.unload(),yn()},Le[qn]=function(pe,je,tt){(0,X.kP)(Le[tr](),2,26,"Failed to send telemetry.",{message:je}),Le._buffer[Hr](pe)},Le[Zr]=function(pe,je){for(var tt=[],St=[],Qt=je.errors.reverse(),an=0,qt=Qt;an<qt.length;an++){var Vn=qt[an],Wn=pe.splice(Vn.index,1)[0];xe(Vn.statusCode)?St[er](Wn):tt[er](Wn)}pe[Ot]>0&&Le[qr](pe,je[hi]),tt[Ot]>0&&Le[qn](tt,st(null,["partial success",je[hi],"of",je.itemsReceived].join(" "))),St[Ot]>0&&(P(St),(0,X.kP)(Le[tr](),2,40,"Partial success. Delivered: "+pe[Ot]+", Failed: "+tt[Ot]+". Will retry to send "+St[Ot]+" our of "+je[Bi]+" items"))},Le[qr]=function(pe,je){Le._buffer[Hr](pe)},Le._xdrOnLoad=function(pe,je){var tt=Si(pe);if(pe&&(tt+""=="200"||tt===""))M=0,Le[qr](je,0);else{var St=Z(tt);St&&St.itemsReceived&&St.itemsReceived>St[hi]&&!Le[Dn][ai]()?Le[Zr](je,St):Le[qn](je,Vt(pe))}};function e(pe){return Le._sample.isSampledIn(pe)}i(e,"_isSampledIn");function t(pe,je,tt,St,Qt,an){var qt=null;if(Le._appId||(qt=Z(an),qt&&qt.appId&&(Le._appId=qt.appId)),(pe<200||pe>=300)&&pe!==0){if((pe===301||pe===307||pe===308)&&!r(tt)){Le[qn](je,Qt);return}!Le[Dn][ai]()&&xe(pe)?(P(je),(0,X.kP)(Le[tr](),2,40,". Response code "+pe+". Will retry to send "+je[Ot]+" items.")):Le[qn](je,Qt)}else if(en&&!en.isOnline()){if(!Le[Dn][ai]()){var Vn=10;P(je,Vn),(0,X.kP)(Le[tr](),2,40,". Offline - Response Code: ".concat(pe,". Offline status: ").concat(!en.isOnline(),". Will retry to send ").concat(je.length," items."))}}else r(tt),pe===206?(qt||(qt=Z(an)),qt&&!Le[Dn][ai]()?Le[Zr](je,qt):Le[qn](je,Qt)):(M=0,Le[qr](je,St))}i(t,"_checkResponsStatus");function r(pe){return lt>=10?!1:!(0,D.le)(pe)&&pe!==""&&pe!==Le[Dn][Mr]()?(Le[Dn][Mr]=function(){return pe},++lt,!0):!1}i(r,"_checkAndUpdateEndPointUrl");function a(pe,je){Ft?Ft(pe,!1):o(pe,je)}i(a,"_doUnloadSend");function s(pe){var je=(0,fe.jW)(),tt=Le[hr],St=Le[Dn][Mr](),Qt=Le._buffer[Ur](pe),an=new Blob([Qt],{type:"text/plain;charset=UTF-8"}),qt=je.sendBeacon(St,an);return qt&&(tt[Tr](pe),Le._onSuccess(pe,pe[Ot])),qt}i(s,"_doBeaconSend");function o(pe,je){if((0,D.kJ)(pe)&&pe[Ot]>0&&!s(pe)){for(var tt=[],St=0;St<pe[Ot];St++){var Qt=pe[St];s([Qt])||tt[er](Qt)}tt[Ot]>0&&(Gt&&Gt(tt,!0),(0,X.kP)(Le[tr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}i(o,"_beaconSender");function u(pe,je){var tt=new XMLHttpRequest,St=Le[Dn][Mr]();try{tt[R]=!0}catch(an){}tt.open("POST",St,je),tt[vi]("Content-type","application/json"),fr(St)&&tt[vi](wn[6],wn[7]),(0,D.tO)((0,D.FY)(pt),function(an){tt[vi](an,pt[an])}),tt.onreadystatechange=function(){return Le._xhrReadyStateChange(tt,pe,pe[Ot])},tt.onerror=function(an){return Le[qn](pe,st(tt),an)};var Qt=Le._buffer[Ur](pe);tt.send(Qt),Le._buffer[Tr](pe)}i(u,"_xhrSender");function l(pe,je){if((0,D.kJ)(pe)){for(var tt=pe[Ot],St=0;St<pe[Ot];St++)tt+=pe[St][Ot];Pt+tt<=Li?b(pe,!1):(0,fe.MF)()?o(pe,je):(Gt&&Gt(pe,!0),(0,X.kP)(Le[tr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}i(l,"_fetchKeepAliveSender");function h(pe,je){b(pe,!0)}i(h,"_fetchSender");function b(pe,je){var tt,St=Le[Dn][Mr](),Qt=Le._buffer[Ur](pe),an=new Blob([Qt],{type:"application/json"}),qt=new Headers,Vn=Qt[Ot],Wn=!1,Kn=!1;fr(St)&&qt.append(wn[6],wn[7]),(0,D.tO)((0,D.FY)(pt),function(Xn){qt.append(Xn,pt[Xn])});var zn=(tt={method:"POST",headers:qt,body:an},tt[R]=!0,tt);je||(zn.keepalive=!0,Wn=!0,Pt+=Vn);var br=new Request(St,zn);try{br[R]=!0}catch(Xn){}Le._buffer[Tr](pe);try{fetch(br).then(function(Xn){je||(Pt-=Vn,Vn=0),Kn||(Kn=!0,Xn.ok?Xn.text().then(function(na){t(Xn.status,pe,Xn.url,pe[Ot],Xn.statusText,na)}):Le[qn](pe,Xn.statusText))}).catch(function(Xn){je||(Pt-=Vn,Vn=0),Kn||(Kn=!0,Le[qn](pe,Xn.message))})}catch(Xn){Kn||Le[qn](pe,(0,fe.eU)(Xn))}Wn&&!Kn&&(Kn=!0,Le._onSuccess(pe,pe[Ot]))}i(b,"_doFetchSender");function Z(pe){try{if(pe&&pe!==""){var je=(0,fe.xA)().parse(pe);if(je&&je.itemsReceived&&je.itemsReceived>=je[hi]&&je.itemsReceived-je.itemsAccepted===je.errors[Ot])return je}}catch(tt){(0,X.kP)(Le[tr](),1,43,"Cannot parse the response. "+(0,D.jj)(tt),{response:pe})}return null}i(Z,"_parseResponse");function P(pe,je){if(je===void 0&&(je=1),!(!pe||pe[Ot]===0)){var tt=Le[hr];tt[Hr](pe),M++;for(var St=0,Qt=pe;St<Qt.length;St++){var an=Qt[St];tt[Xr](an)}ae(je),Ie()}}i(P,"_resendPayload");function ae(pe){var je=10,tt;if(M<=1)tt=je;else{var St=(Math.pow(2,M)-1)/2,Qt=Math.floor(Math.random()*St*je)+1;Qt=pe*Qt,tt=Math.max(Math.min(Qt,3600),je)}var an=(0,D.m6)()+tt*1e3;de=an}i(ae,"_setRetryTime");function Ie(){if(!Ue&&!Ne){var pe=de?Math.max(0,de-(0,D.m6)()):0,je=Math.max(Le[Dn][bi](),pe);Ue=setTimeout(function(){Ue=null,Le[Lr](!0,null,1)},je)}}i(Ie,"_setupTimer");function Ce(){clearTimeout(Ue),Ue=null,de=null}i(Ce,"_clearScheduledTimer");function xe(pe){return pe===401||pe===403||pe===408||pe===429||pe===500||pe===502||pe===503||pe===504}i(xe,"_isRetriable");function st(pe,je){return pe?"XMLHttpRequest,Status:"+pe.status+",Response:"+Si(pe)||0||0:je}i(st,"_formatErrorMessageXhr");function vt(pe,je){var tt=Le[hr],St=(0,fe.Jj)(),Qt=new XDomainRequest;Qt.onload=function(){return Le._xdrOnLoad(Qt,pe)},Qt.onerror=function(Wn){return Le[qn](pe,Vt(Qt),Wn)};var an=St&&St.location&&St.location.protocol||"";if(Le[Dn][Mr]().lastIndexOf(an,0)!==0){(0,X.kP)(Le[tr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),tt[Yr]();return}var qt=Le[Dn][Mr]().replace(/^(https?:)/,"");Qt.open("POST",qt);var Vn=tt[Ur](pe);Qt.send(Vn),tt[Tr](pe)}i(vt,"_xdrSender");function Vt(pe,je){return pe?"XDomainRequest,Response:"+Si(pe)||0:je}i(Vt,"_formatErrorMessageXdr");function nn(){var pe="getNotifyMgr";return Le.core[pe]?Le.core[pe]():Le.core._notificationManager}i(nn,"_getNotifyMgr");function sn(pe,je){var tt=nn();if(tt&&tt[$i])try{tt[$i](pe,je)}catch(St){(0,X.kP)(Le[tr](),1,74,"send request notification failed: "+(0,D.jj)(St),{exception:(0,fe.eU)(St)})}}i(sn,"_notifySendRequest");function hn(pe){var je=(0,D.le)(pe[Ri])?!1:pe[Ri];if(je)return!0;var tt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",St=new RegExp(tt);return St.test(pe[ri])}i(hn,"_validateInstrumentationKey");function yn(){Le[Qr]=null,Le[hr]=null,Le._appId=null,Le._sample=null,pt={},en=null,M=0,de=null,Ee=null,Ne=!1,Ue=null,nt=null,lt=0,Pt=0,Gt=null,Ft=null,tn=null}i(yn,"_initDefaults")}),T}return i(f,"Sender"),f.constructEnvelope=function(T,M,de,Ee){var Ne;M!==T.iKey&&!(0,D.le)(M)?Ne=(0,d.uc)((0,d.uc)({},T),{iKey:M}):Ne=T;var Ue=qi[Ne.baseType]||Oi;return Ue(de,Ne,Ee)},f}(pr.i),Zi=y(5121),Fi="initialize",wi="diagnosticLogInterval",ea=y(7310),ta=(0,vn.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Ci=function(){function S(f){var T=new Zi.F;((0,D.le)(f)||(0,D.le)(f.instrumentationKey))&&(0,D._y)("Invalid input configuration"),(0,C.Z)(S,this,function(M){M.config=f,de(),M[Fi]=de,M.getSKUDefaults=function(){M.config[wi]=M.config[wi]&&M.config[wi]>0?M.config[wi]:1e4},M.getSKUDefaults(),(0,D.Vb)(M,T,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function de(){var Ee=[],Ne=new Mi;Ee.push(Ne),T[Fi](M.config,Ee),Ne[Fi](M.config,T,Ee),T.pollInternalLogs()}i(de,"_initialize")})}return i(S,"ApplicationInsights"),S.__ieDyn=1,S}()},1679:(Ke,v,y)=>{"use strict";y.d(v,{Z:()=>ke});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var C,d="undefined",A="constructor",p="prototype",K="function",R="_dynInstFuncs",c="_isDynProxy",g="_dynClass",$="_dynCls$",B="_dynInstChk",O=B,W="_dfOpts",L="_unknown_",Y="__proto__",z="_dyn"+Y,ie="__dynProto$Gbl",E="_dynInstProto",U="useBaseInst",I="setInstFuncs",m=Object,w=m.getPrototypeOf,N=m.getOwnPropertyNames;function j(){var k;return typeof globalThis!==d&&(k=globalThis),!k&&typeof self!==d&&(k=self),!k&&typeof window!==d&&(k=window),!k&&typeof y.g!==d&&(k=y.g),k||{}}i(j,"_getGlobal");var V=j(),Q=V[ie]||(V[ie]={o:(C={},C[I]=!0,C[U]=!0,C),n:1e3});function te(k,G){return k&&m[p].hasOwnProperty.call(k,G)}i(te,"_hasOwnProperty");function me(k){return k&&(k===m[p]||k===Array[p])}i(me,"_isObjectOrArrayPrototype");function q(k){return me(k)||k===Function[p]}i(q,"_isObjectArrayOrFunctionPrototype");function H(k){var G;if(k){if(w)return w(k);var ee=k[Y]||k[p]||(k[A]?k[A][p]:null);G=k[z]||ee,te(k,z)||(delete k[E],G=k[z]=k[E]||k[z],k[E]=ee)}return G}i(H,"_getObjProto");function se(k,G){var ee=[];if(N)ee=N(k);else for(var le in k)typeof le=="string"&&te(k,le)&&ee.push(le);if(ee&&ee.length>0)for(var Fe=0;Fe<ee.length;Fe++)G(ee[Fe])}i(se,"_forEachProp");function Te(k,G,ee){return G!==A&&typeof k[G]===K&&(ee||te(k,G))}i(Te,"_isDynamicCandidate");function be(k){throw new TypeError("DynamicProto: "+k)}i(be,"_throwTypeError");function ne(k){var G={};return se(k,function(ee){!G[ee]&&Te(k,ee,!1)&&(G[ee]=k[ee])}),G}i(ne,"_getInstanceFuncs");function F(k,G){for(var ee=k.length-1;ee>=0;ee--)if(k[ee]===G)return!0;return!1}i(F,"_hasVisited");function ce(k,G,ee,le){function Fe(ye,ge,Ae){var oe=ge[Ae];if(oe[c]&&le){var Xe=ye[R]||{};Xe[O]!==!1&&(oe=(Xe[ge[g]]||{})[Ae]||oe)}return function(){return oe.apply(ye,arguments)}}i(Fe,"_instFuncProxy");var Ge={};se(ee,function(ye){Ge[ye]=Fe(G,ee,ye)});for(var ve=H(k),we=[];ve&&!q(ve)&&!F(we,ve);)se(ve,function(ye){!Ge[ye]&&Te(ve,ye,!w)&&(Ge[ye]=Fe(G,ve,ye))}),we.push(ve),ve=H(ve);return Ge}i(ce,"_getBaseFuncs");function Se(k,G,ee,le){var Fe=null;if(k&&te(ee,g)){var Ge=k[R]||{};if(Fe=(Ge[ee[g]]||{})[G],Fe||be("Missing ["+G+"] "+K),!Fe[B]&&Ge[O]!==!1){for(var ve=!te(k,G),we=H(k),ye=[];ve&&we&&!q(we)&&!F(ye,we);){var ge=we[G];if(ge){ve=ge===le;break}ye.push(we),we=H(we)}try{ve&&(k[G]=Fe),Fe[B]=1}catch(Ae){Ge[O]=!1}}}return Fe}i(Se,"_getInstFunc");function Re(k,G,ee){var le=G[k];return le===ee&&(le=H(G)[k]),typeof le!==K&&be("["+k+"] is not a "+K),le}i(Re,"_getProtoFunc");function J(k,G,ee,le,Fe){function Ge(ye,ge){var Ae=i(function(){var oe=Se(this,ge,ye,Ae)||Re(ge,ye,Ae);return oe.apply(this,arguments)},"dynProtoProxy");return Ae[c]=1,Ae}if(i(Ge,"_createDynamicPrototype"),!me(k)){var ve=ee[R]=ee[R]||{},we=ve[G]=ve[G]||{};ve[O]!==!1&&(ve[O]=!!Fe),se(ee,function(ye){Te(ee,ye,!1)&&ee[ye]!==le[ye]&&(we[ye]=ee[ye],delete ee[ye],(!te(k,ye)||k[ye]&&!k[ye][c])&&(k[ye]=Ge(k,ye)))})}}i(J,"_populatePrototype");function Je(k,G){if(w){for(var ee=[],le=H(G);le&&!q(le)&&!F(ee,le);){if(le===k)return!0;ee.push(le),le=H(le)}return!1}return!0}i(Je,"_checkPrototype");function He(k,G){return te(k,p)?k.name||G||L:((k||{})[A]||{}).name||G||L}i(He,"_getObjName");function ke(k,G,ee,le){te(k,p)||be("theClass is an invalid class definition.");var Fe=k[p];Je(Fe,G)||be("["+He(k)+"] not in hierarchy of ["+He(G)+"]");var Ge=null;te(Fe,g)?Ge=Fe[g]:(Ge=$+He(k,"_")+"$"+Q.n,Q.n++,Fe[g]=Ge);var ve=ke[W],we=!!ve[U];we&&le&&le[U]!==void 0&&(we=!!le[U]);var ye=ne(G),ge=ce(Fe,G,ye,we);ee(G,ge);var Ae=!!w&&!!ve[I];Ae&&le&&(Ae=!!le[I]),J(Fe,Ge,G,ye,Ae!==!1)}i(ke,"dynamicProto"),ke[W]=Q.o},6232:(Ke,v,y)=>{"use strict";const C=y(8641),d=y(8692),A=y(1474),p=y(5870),K=i((R,c={})=>{let g=[];if(Array.isArray(R))for(let $ of R){let B=K.create($,c);Array.isArray(B)?g.push(...B):g.push(B)}else g=[].concat(K.create(R,c));return c&&c.expand===!0&&c.nodupes===!0&&(g=[...new Set(g)]),g},"braces");K.parse=(R,c={})=>p(R,c),K.stringify=(R,c={})=>C(typeof R=="string"?K.parse(R,c):R,c),K.compile=(R,c={})=>(typeof R=="string"&&(R=K.parse(R,c)),d(R,c)),K.expand=(R,c={})=>{typeof R=="string"&&(R=K.parse(R,c));let g=A(R,c);return c.noempty===!0&&(g=g.filter(Boolean)),c.nodupes===!0&&(g=[...new Set(g)]),g},K.create=(R,c={})=>R===""||R.length<3?[R]:c.expand!==!0?K.compile(R,c):K.expand(R,c),Ke.exports=K},8692:(Ke,v,y)=>{"use strict";const C=y(1516),d=y(3596),A=i((p,K={})=>{let R=i((c,g={})=>{let $=d.isInvalidBrace(g),B=c.invalid===!0&&K.escapeInvalid===!0,O=$===!0||B===!0,W=K.escapeInvalid===!0?"\\":"",L="";if(c.isOpen===!0||c.isClose===!0)return W+c.value;if(c.type==="open")return O?W+c.value:"(";if(c.type==="close")return O?W+c.value:")";if(c.type==="comma")return c.prev.type==="comma"?"":O?c.value:"|";if(c.value)return c.value;if(c.nodes&&c.ranges>0){let Y=d.reduce(c.nodes),z=C(...Y,{...K,wrap:!1,toRegex:!0});if(z.length!==0)return Y.length>1&&z.length>1?`(${z})`:z}if(c.nodes)for(let Y of c.nodes)L+=R(Y,c);return L},"walk");return R(p)},"compile");Ke.exports=A},7007:Ke=>{"use strict";Ke.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(Ke,v,y)=>{"use strict";const C=y(1516),d=y(8641),A=y(3596),p=i((R="",c="",g=!1)=>{let $=[];if(R=[].concat(R),c=[].concat(c),!c.length)return R;if(!R.length)return g?A.flatten(c).map(B=>`{${B}}`):c;for(let B of R)if(Array.isArray(B))for(let O of B)$.push(p(O,c,g));else for(let O of c)g===!0&&typeof O=="string"&&(O=`{${O}}`),$.push(Array.isArray(O)?p(B,O,g):B+O);return A.flatten($)},"append"),K=i((R,c={})=>{let g=c.rangeLimit===void 0?1e3:c.rangeLimit,$=i((B,O={})=>{B.queue=[];let W=O,L=O.queue;for(;W.type!=="brace"&&W.type!=="root"&&W.parent;)W=W.parent,L=W.queue;if(B.invalid||B.dollar){L.push(p(L.pop(),d(B,c)));return}if(B.type==="brace"&&B.invalid!==!0&&B.nodes.length===2){L.push(p(L.pop(),["{}"]));return}if(B.nodes&&B.ranges>0){let E=A.reduce(B.nodes);if(A.exceedsLimit(...E,c.step,g))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let U=C(...E,c);U.length===0&&(U=d(B,c)),L.push(p(L.pop(),U)),B.nodes=[];return}let Y=A.encloseBrace(B),z=B.queue,ie=B;for(;ie.type!=="brace"&&ie.type!=="root"&&ie.parent;)ie=ie.parent,z=ie.queue;for(let E=0;E<B.nodes.length;E++){let U=B.nodes[E];if(U.type==="comma"&&B.type==="brace"){E===1&&z.push(""),z.push("");continue}if(U.type==="close"){L.push(p(L.pop(),z,Y));continue}if(U.value&&U.type!=="open"){z.push(p(z.pop(),U.value));continue}U.nodes&&$(U,B)}return z},"walk");return A.flatten($(R))},"expand");Ke.exports=K},5870:(Ke,v,y)=>{"use strict";const C=y(8641),{MAX_LENGTH:d,CHAR_BACKSLASH:A,CHAR_BACKTICK:p,CHAR_COMMA:K,CHAR_DOT:R,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:g,CHAR_LEFT_CURLY_BRACE:$,CHAR_RIGHT_CURLY_BRACE:B,CHAR_LEFT_SQUARE_BRACKET:O,CHAR_RIGHT_SQUARE_BRACKET:W,CHAR_DOUBLE_QUOTE:L,CHAR_SINGLE_QUOTE:Y,CHAR_NO_BREAK_SPACE:z,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ie}=y(7007),E=i((U,I={})=>{if(typeof U!="string")throw new TypeError("Expected a string");let m=I||{},w=typeof m.maxLength=="number"?Math.min(d,m.maxLength):d;if(U.length>w)throw new SyntaxError(`Input length (${U.length}), exceeds max characters (${w})`);let N={type:"root",input:U,nodes:[]},j=[N],V=N,Q=N,te=0,me=U.length,q=0,H=0,se,Te={};const be=i(()=>U[q++],"advance"),ne=i(F=>{if(F.type==="text"&&Q.type==="dot"&&(Q.type="text"),Q&&Q.type==="text"&&F.type==="text"){Q.value+=F.value;return}return V.nodes.push(F),F.parent=V,F.prev=Q,Q=F,F},"push");for(ne({type:"bos"});q<me;)if(V=j[j.length-1],se=be(),!(se===ie||se===z)){if(se===A){ne({type:"text",value:(I.keepEscaping?se:"")+be()});continue}if(se===W){ne({type:"text",value:"\\"+se});continue}if(se===O){te++;let F=!0,ce;for(;q<me&&(ce=be());){if(se+=ce,ce===O){te++;continue}if(ce===A){se+=be();continue}if(ce===W&&(te--,te===0))break}ne({type:"text",value:se});continue}if(se===c){V=ne({type:"paren",nodes:[]}),j.push(V),ne({type:"text",value:se});continue}if(se===g){if(V.type!=="paren"){ne({type:"text",value:se});continue}V=j.pop(),ne({type:"text",value:se}),V=j[j.length-1];continue}if(se===L||se===Y||se===p){let F=se,ce;for(I.keepQuotes!==!0&&(se="");q<me&&(ce=be());){if(ce===A){se+=ce+be();continue}if(ce===F){I.keepQuotes===!0&&(se+=ce);break}se+=ce}ne({type:"text",value:se});continue}if(se===$){H++;let F=Q.value&&Q.value.slice(-1)==="$"||V.dollar===!0;V=ne({type:"brace",open:!0,close:!1,dollar:F,depth:H,commas:0,ranges:0,nodes:[]}),j.push(V),ne({type:"open",value:se});continue}if(se===B){if(V.type!=="brace"){ne({type:"text",value:se});continue}let F="close";V=j.pop(),V.close=!0,ne({type:F,value:se}),H--,V=j[j.length-1];continue}if(se===K&&H>0){if(V.ranges>0){V.ranges=0;let F=V.nodes.shift();V.nodes=[F,{type:"text",value:C(V)}]}ne({type:"comma",value:se}),V.commas++;continue}if(se===R&&H>0&&V.commas===0){let F=V.nodes;if(H===0||F.length===0){ne({type:"text",value:se});continue}if(Q.type==="dot"){if(V.range=[],Q.value+=se,Q.type="range",V.nodes.length!==3&&V.nodes.length!==5){V.invalid=!0,V.ranges=0,Q.type="text";continue}V.ranges++,V.args=[];continue}if(Q.type==="range"){F.pop();let ce=F[F.length-1];ce.value+=Q.value+se,Q=ce,V.ranges--;continue}ne({type:"dot",value:se});continue}ne({type:"text",value:se})}do if(V=j.pop(),V.type!=="root"){V.nodes.forEach(Se=>{Se.nodes||(Se.type==="open"&&(Se.isOpen=!0),Se.type==="close"&&(Se.isClose=!0),Se.nodes||(Se.type="text"),Se.invalid=!0)});let F=j[j.length-1],ce=F.nodes.indexOf(V);F.nodes.splice(ce,1,...V.nodes)}while(j.length>0);return ne({type:"eos"}),N},"parse");Ke.exports=E},8641:(Ke,v,y)=>{"use strict";const C=y(3596);Ke.exports=(d,A={})=>{let p=i((K,R={})=>{let c=A.escapeInvalid&&C.isInvalidBrace(R),g=K.invalid===!0&&A.escapeInvalid===!0,$="";if(K.value)return(c||g)&&C.isOpenOrClose(K)?"\\"+K.value:K.value;if(K.value)return K.value;if(K.nodes)for(let B of K.nodes)$+=p(B);return $},"stringify");return p(d)}},3596:(Ke,v)=>{"use strict";v.isInteger=y=>typeof y=="number"?Number.isInteger(y):typeof y=="string"&&y.trim()!==""?Number.isInteger(Number(y)):!1,v.find=(y,C)=>y.nodes.find(d=>d.type===C),v.exceedsLimit=(y,C,d=1,A)=>A===!1||!v.isInteger(y)||!v.isInteger(C)?!1:(Number(C)-Number(y))/Number(d)>=A,v.escapeNode=(y,C=0,d)=>{let A=y.nodes[C];!A||(d&&A.type===d||A.type==="open"||A.type==="close")&&A.escaped!==!0&&(A.value="\\"+A.value,A.escaped=!0)},v.encloseBrace=y=>y.type!=="brace"?!1:y.commas>>0+y.ranges>>0==0?(y.invalid=!0,!0):!1,v.isInvalidBrace=y=>y.type!=="brace"?!1:y.invalid===!0||y.dollar?!0:y.commas>>0+y.ranges>>0==0||y.open!==!0||y.close!==!0?(y.invalid=!0,!0):!1,v.isOpenOrClose=y=>y.type==="open"||y.type==="close"?!0:y.open===!0||y.close===!0,v.reduce=y=>y.reduce((C,d)=>(d.type==="text"&&C.push(d.value),d.type==="range"&&(d.type="text"),C),[]),v.flatten=(...y)=>{const C=[],d=i(A=>{for(let p=0;p<A.length;p++){let K=A[p];Array.isArray(K)?d(K,C):K!==void 0&&C.push(K)}return C},"flat");return d(y),C}},1516:(Ke,v,y)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const C=y(6529),d=y(2999),A=i(m=>m!==null&&typeof m=="object"&&!Array.isArray(m),"isObject"),p=i(m=>w=>m===!0?Number(w):String(w),"transform"),K=i(m=>typeof m=="number"||typeof m=="string"&&m!=="","isValidValue"),R=i(m=>Number.isInteger(+m),"isNumber"),c=i(m=>{let w=`${m}`,N=-1;if(w[0]==="-"&&(w=w.slice(1)),w==="0")return!1;for(;w[++N]==="0";);return N>0},"zeros"),g=i((m,w,N)=>typeof m=="string"||typeof w=="string"?!0:N.stringify===!0,"stringify"),$=i((m,w,N)=>{if(w>0){let j=m[0]==="-"?"-":"";j&&(m=m.slice(1)),m=j+m.padStart(j?w-1:w,"0")}return N===!1?String(m):m},"pad"),B=i((m,w)=>{let N=m[0]==="-"?"-":"";for(N&&(m=m.slice(1),w--);m.length<w;)m="0"+m;return N?"-"+m:m},"toMaxLen"),O=i((m,w)=>{m.negatives.sort((te,me)=>te<me?-1:te>me?1:0),m.positives.sort((te,me)=>te<me?-1:te>me?1:0);let N=w.capture?"":"?:",j="",V="",Q;return m.positives.length&&(j=m.positives.join("|")),m.negatives.length&&(V=`-(${N}${m.negatives.join("|")})`),j&&V?Q=`${j}|${V}`:Q=j||V,w.wrap?`(${N}${Q})`:Q},"toSequence"),W=i((m,w,N,j)=>{if(N)return d(m,w,{wrap:!1,...j});let V=String.fromCharCode(m);if(m===w)return V;let Q=String.fromCharCode(w);return`[${V}-${Q}]`},"toRange"),L=i((m,w,N)=>{if(Array.isArray(m)){let j=N.wrap===!0,V=N.capture?"":"?:";return j?`(${V}${m.join("|")})`:m.join("|")}return d(m,w,N)},"toRegex"),Y=i((...m)=>new RangeError("Invalid range arguments: "+C.inspect(...m)),"rangeError"),z=i((m,w,N)=>{if(N.strictRanges===!0)throw Y([m,w]);return[]},"invalidRange"),ie=i((m,w)=>{if(w.strictRanges===!0)throw new TypeError(`Expected step "${m}" to be a number`);return[]},"invalidStep"),E=i((m,w,N=1,j={})=>{let V=Number(m),Q=Number(w);if(!Number.isInteger(V)||!Number.isInteger(Q)){if(j.strictRanges===!0)throw Y([m,w]);return[]}V===0&&(V=0),Q===0&&(Q=0);let te=V>Q,me=String(m),q=String(w),H=String(N);N=Math.max(Math.abs(N),1);let se=c(me)||c(q)||c(H),Te=se?Math.max(me.length,q.length,H.length):0,be=se===!1&&g(m,w,j)===!1,ne=j.transform||p(be);if(j.toRegex&&N===1)return W(B(m,Te),B(w,Te),!0,j);let F={negatives:[],positives:[]},ce=i(J=>F[J<0?"negatives":"positives"].push(Math.abs(J)),"push"),Se=[],Re=0;for(;te?V>=Q:V<=Q;)j.toRegex===!0&&N>1?ce(V):Se.push($(ne(V,Re),Te,be)),V=te?V-N:V+N,Re++;return j.toRegex===!0?N>1?O(F,j):L(Se,null,{wrap:!1,...j}):Se},"fillNumbers"),U=i((m,w,N=1,j={})=>{if(!R(m)&&m.length>1||!R(w)&&w.length>1)return z(m,w,j);let V=j.transform||(be=>String.fromCharCode(be)),Q=`${m}`.charCodeAt(0),te=`${w}`.charCodeAt(0),me=Q>te,q=Math.min(Q,te),H=Math.max(Q,te);if(j.toRegex&&N===1)return W(q,H,!1,j);let se=[],Te=0;for(;me?Q>=te:Q<=te;)se.push(V(Q,Te)),Q=me?Q-N:Q+N,Te++;return j.toRegex===!0?L(se,null,{wrap:!1,options:j}):se},"fillLetters"),I=i((m,w,N,j={})=>{if(w==null&&K(m))return[m];if(!K(m)||!K(w))return z(m,w,j);if(typeof N=="function")return I(m,w,1,{transform:N});if(A(N))return I(m,w,0,N);let V={...j};return V.capture===!0&&(V.wrap=!0),N=N||V.step||1,R(N)?R(m)&&R(w)?E(m,w,N,V):U(m,w,Math.max(Math.abs(N),1),V):N!=null&&!A(N)?ie(N,V):I(m,w,1,N)},"fill");Ke.exports=I},3338:Ke=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */Ke.exports=function(v){return typeof v=="number"?v-v==0:typeof v=="string"&&v.trim()!==""?Number.isFinite?Number.isFinite(+v):isFinite(+v):!1}},5179:(Ke,v,y)=>{Ke=y.nmd(Ke);var C=200,d="__lodash_hash_undefined__",A=1,p=2,K=9007199254740991,R="[object Arguments]",c="[object Array]",g="[object AsyncFunction]",$="[object Boolean]",B="[object Date]",O="[object Error]",W="[object Function]",L="[object GeneratorFunction]",Y="[object Map]",z="[object Number]",ie="[object Null]",E="[object Object]",U="[object Promise]",I="[object Proxy]",m="[object RegExp]",w="[object Set]",N="[object String]",j="[object Symbol]",V="[object Undefined]",Q="[object WeakMap]",te="[object ArrayBuffer]",me="[object DataView]",q="[object Float32Array]",H="[object Float64Array]",se="[object Int8Array]",Te="[object Int16Array]",be="[object Int32Array]",ne="[object Uint8Array]",F="[object Uint8ClampedArray]",ce="[object Uint16Array]",Se="[object Uint32Array]",Re=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,Je=/^(?:0|[1-9]\d*)$/,He={};He[q]=He[H]=He[se]=He[Te]=He[be]=He[ne]=He[F]=He[ce]=He[Se]=!0,He[R]=He[c]=He[te]=He[$]=He[me]=He[B]=He[O]=He[W]=He[Y]=He[z]=He[E]=He[m]=He[w]=He[N]=He[Q]=!1;var ke=typeof y.g=="object"&&y.g&&y.g.Object===Object&&y.g,k=typeof self=="object"&&self&&self.Object===Object&&self,G=ke||k||Function("return this")(),ee=v&&!v.nodeType&&v,le=ee&&!0&&Ke&&!Ke.nodeType&&Ke,Fe=le&&le.exports===ee,Ge=Fe&&ke.process,ve=function(){try{return Ge&&Ge.binding&&Ge.binding("util")}catch(_){}}(),we=ve&&ve.isTypedArray;function ye(_,x){for(var ue=-1,Me=_==null?0:_.length,dt=0,Ze=[];++ue<Me;){var he=_[ue];x(he,ue,_)&&(Ze[dt++]=he)}return Ze}i(ye,"arrayFilter");function ge(_,x){for(var ue=-1,Me=x.length,dt=_.length;++ue<Me;)_[dt+ue]=x[ue];return _}i(ge,"arrayPush");function Ae(_,x){for(var ue=-1,Me=_==null?0:_.length;++ue<Me;)if(x(_[ue],ue,_))return!0;return!1}i(Ae,"arraySome");function oe(_,x){for(var ue=-1,Me=Array(_);++ue<_;)Me[ue]=x(ue);return Me}i(oe,"baseTimes");function Xe(_){return function(x){return _(x)}}i(Xe,"baseUnary");function Pe(_,x){return _.has(x)}i(Pe,"cacheHas");function D(_,x){return _==null?void 0:_[x]}i(D,"getValue");function X(_){var x=-1,ue=Array(_.size);return _.forEach(function(Me,dt){ue[++x]=[dt,Me]}),ue}i(X,"mapToArray");function fe(_,x){return function(ue){return _(x(ue))}}i(fe,"overArg");function $e(_){var x=-1,ue=Array(_.size);return _.forEach(function(Me){ue[++x]=Me}),ue}i($e,"setToArray");var Ve=Array.prototype,ht=Function.prototype,Ye=Object.prototype,_t=G["__core-js_shared__"],ut=ht.toString,Jt=Ye.hasOwnProperty,Zt=function(){var _=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),on=Ye.toString,bn=RegExp("^"+ut.call(Jt).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=Fe?G.Buffer:void 0,Et=G.Symbol,xt=G.Uint8Array,wt=Ye.propertyIsEnumerable,Ht=Ve.splice,at=Et?Et.toStringTag:void 0,Bt=Object.getOwnPropertySymbols,jt=Qe?Qe.isBuffer:void 0,Ut=fe(Object.keys,Object),Nt=Qn(G,"DataView"),fn=Qn(G,"Map"),Sn=Qn(G,"Promise"),lr=Qn(G,"Set"),jn=Qn(G,"WeakMap"),Tn=Qn(Object,"create"),wr=ar(Nt),nr=ar(fn),Rr=ar(Sn),_r=ar(lr),gr=ar(jn),Cr=Et?Et.prototype:void 0,re=Cr?Cr.valueOf:void 0;function We(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Me=_[x];this.set(Me[0],Me[1])}}i(We,"Hash");function qe(){this.__data__=Tn?Tn(null):{},this.size=0}i(qe,"hashClear");function ct(_){var x=this.has(_)&&delete this.__data__[_];return this.size-=x?1:0,x}i(ct,"hashDelete");function bt(_){var x=this.__data__;if(Tn){var ue=x[_];return ue===d?void 0:ue}return Jt.call(x,_)?x[_]:void 0}i(bt,"hashGet");function Tt(_){var x=this.__data__;return Tn?x[_]!==void 0:Jt.call(x,_)}i(Tt,"hashHas");function Rn(_,x){var ue=this.__data__;return this.size+=this.has(_)?0:1,ue[_]=Tn&&x===void 0?d:x,this}i(Rn,"hashSet"),We.prototype.clear=qe,We.prototype.delete=ct,We.prototype.get=bt,We.prototype.has=Tt,We.prototype.set=Rn;function An(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Me=_[x];this.set(Me[0],Me[1])}}i(An,"ListCache");function ft(){this.__data__=[],this.size=0}i(ft,"listCacheClear");function gt(_){var x=this.__data__,ue=cn(x,_);if(ue<0)return!1;var Me=x.length-1;return ue==Me?x.pop():Ht.call(x,ue,1),--this.size,!0}i(gt,"listCacheDelete");function At(_){var x=this.__data__,ue=cn(x,_);return ue<0?void 0:x[ue][1]}i(At,"listCacheGet");function rt(_){return cn(this.__data__,_)>-1}i(rt,"listCacheHas");function kt(_,x){var ue=this.__data__,Me=cn(ue,_);return Me<0?(++this.size,ue.push([_,x])):ue[Me][1]=x,this}i(kt,"listCacheSet"),An.prototype.clear=ft,An.prototype.delete=gt,An.prototype.get=At,An.prototype.has=rt,An.prototype.set=kt;function Rt(_){var x=-1,ue=_==null?0:_.length;for(this.clear();++x<ue;){var Me=_[x];this.set(Me[0],Me[1])}}i(Rt,"MapCache");function ot(){this.size=0,this.__data__={hash:new We,map:new(fn||An),string:new We}}i(ot,"mapCacheClear");function Wt(_){var x=Hn(this,_).delete(_);return this.size-=x?1:0,x}i(Wt,"mapCacheDelete");function Yt(_){return Hn(this,_).get(_)}i(Yt,"mapCacheGet");function ln(_){return Hn(this,_).has(_)}i(ln,"mapCacheHas");function un(_,x){var ue=Hn(this,_),Me=ue.size;return ue.set(_,x),this.size+=ue.size==Me?0:1,this}i(un,"mapCacheSet"),Rt.prototype.clear=ot,Rt.prototype.delete=Wt,Rt.prototype.get=Yt,Rt.prototype.has=ln,Rt.prototype.set=un;function xn(_){var x=-1,ue=_==null?0:_.length;for(this.__data__=new Rt;++x<ue;)this.add(_[x])}i(xn,"SetCache");function vn(_){return this.__data__.set(_,d),this}i(vn,"setCacheAdd");function wn(_){return this.__data__.has(_)}i(wn,"setCacheHas"),xn.prototype.add=xn.prototype.push=vn,xn.prototype.has=wn;function rn(_){var x=this.__data__=new An(_);this.size=x.size}i(rn,"Stack");function yt(){this.__data__=new An,this.size=0}i(yt,"stackClear");function zt(_){var x=this.__data__,ue=x.delete(_);return this.size=x.size,ue}i(zt,"stackDelete");function $t(_){return this.__data__.get(_)}i($t,"stackGet");function dn(_){return this.__data__.has(_)}i(dn,"stackHas");function It(_,x){var ue=this.__data__;if(ue instanceof An){var Me=ue.__data__;if(!fn||Me.length<C-1)return Me.push([_,x]),this.size=++ue.size,this;ue=this.__data__=new Rt(Me)}return ue.set(_,x),this.size=ue.size,this}i(It,"stackSet"),rn.prototype.clear=yt,rn.prototype.delete=zt,rn.prototype.get=$t,rn.prototype.has=dn,rn.prototype.set=It;function Xt(_,x){var ue=or(_),Me=!ue&&sr(_),dt=!ue&&!Me&&yr(_),Ze=!ue&&!Me&&!dt&&Cn(_),he=ue||Me||dt||Ze,De=he?oe(_.length,String):[],Oe=De.length;for(var ze in _)(x||Jt.call(_,ze))&&!(he&&(ze=="length"||dt&&(ze=="offset"||ze=="parent")||Ze&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||Mn(ze,Oe)))&&De.push(ze);return De}i(Xt,"arrayLikeKeys");function cn(_,x){for(var ue=_.length;ue--;)if($r(_[ue][0],x))return ue;return-1}i(cn,"assocIndexOf");function mn(_,x,ue){var Me=x(_);return or(_)?Me:ge(Me,ue(_))}i(mn,"baseGetAllKeys");function Kt(_){return _==null?_===void 0?V:ie:at&&at in Object(_)?kn(_):fr(_)}i(Kt,"baseGetTag");function pn(_){return pr(_)&&Kt(_)==R}i(pn,"baseIsArguments");function Ln(_,x,ue,Me,dt){return _===x?!0:_==null||x==null||!pr(_)&&!pr(x)?_!==_&&x!==x:_n(_,x,ue,Me,Ln,dt)}i(Ln,"baseIsEqual");function _n(_,x,ue,Me,dt,Ze){var he=or(_),De=or(x),Oe=he?c:Jn(_),ze=De?c:Jn(x);Oe=Oe==R?E:Oe,ze=ze==R?E:ze;var et=Oe==E,it=ze==E,Dt=Oe==ze;if(Dt&&yr(_)){if(!yr(x))return!1;he=!0,et=!1}if(Dt&&!et)return Ze||(Ze=new rn),he||Cn(_)?Lt(_,x,ue,Me,dt,Ze):mt(_,x,Oe,ue,Me,dt,Ze);if(!(ue&A)){var Ct=et&&Jt.call(_,"__wrapped__"),Mt=it&&Jt.call(x,"__wrapped__");if(Ct||Mt){var Bn=Ct?_.value():_,Ot=Mt?x.value():x;return Ze||(Ze=new rn),dt(Bn,Ot,ue,Me,Ze)}}return Dt?(Ze||(Ze=new rn),On(_,x,ue,Me,dt,Ze)):!1}i(_n,"baseIsEqualDeep");function Un(_){if(!Pr(_)||rr(_))return!1;var x=Or(_)?bn:J;return x.test(ar(_))}i(Un,"baseIsNative");function Be(_){return pr(_)&&dr(_.length)&&!!He[Kt(_)]}i(Be,"baseIsTypedArray");function In(_){if(!ir(_))return Ut(_);var x=[];for(var ue in Object(_))Jt.call(_,ue)&&ue!="constructor"&&x.push(ue);return x}i(In,"baseKeys");function Lt(_,x,ue,Me,dt,Ze){var he=ue&A,De=_.length,Oe=x.length;if(De!=Oe&&!(he&&Oe>De))return!1;var ze=Ze.get(_);if(ze&&Ze.get(x))return ze==x;var et=-1,it=!0,Dt=ue&p?new xn:void 0;for(Ze.set(_,x),Ze.set(x,_);++et<De;){var Ct=_[et],Mt=x[et];if(Me)var Bn=he?Me(Mt,Ct,et,x,_,Ze):Me(Ct,Mt,et,_,x,Ze);if(Bn!==void 0){if(Bn)continue;it=!1;break}if(Dt){if(!Ae(x,function(Ot,Yn){if(!Pe(Dt,Yn)&&(Ct===Ot||dt(Ct,Ot,ue,Me,Ze)))return Dt.push(Yn)})){it=!1;break}}else if(!(Ct===Mt||dt(Ct,Mt,ue,Me,Ze))){it=!1;break}}return Ze.delete(_),Ze.delete(x),it}i(Lt,"equalArrays");function mt(_,x,ue,Me,dt,Ze,he){switch(ue){case me:if(_.byteLength!=x.byteLength||_.byteOffset!=x.byteOffset)return!1;_=_.buffer,x=x.buffer;case te:return!(_.byteLength!=x.byteLength||!Ze(new xt(_),new xt(x)));case $:case B:case z:return $r(+_,+x);case O:return _.name==x.name&&_.message==x.message;case m:case N:return _==x+"";case Y:var De=X;case w:var Oe=Me&A;if(De||(De=$e),_.size!=x.size&&!Oe)return!1;var ze=he.get(_);if(ze)return ze==x;Me|=p,he.set(_,x);var et=Lt(De(_),De(x),Me,dt,Ze,he);return he.delete(_),et;case j:if(re)return re.call(_)==re.call(x)}return!1}i(mt,"equalByTag");function On(_,x,ue,Me,dt,Ze){var he=ue&A,De=cr(_),Oe=De.length,ze=cr(x),et=ze.length;if(Oe!=et&&!he)return!1;for(var it=Oe;it--;){var Dt=De[it];if(!(he?Dt in x:Jt.call(x,Dt)))return!1}var Ct=Ze.get(_);if(Ct&&Ze.get(x))return Ct==x;var Mt=!0;Ze.set(_,x),Ze.set(x,_);for(var Bn=he;++it<Oe;){Dt=De[it];var Ot=_[Dt],Yn=x[Dt];if(Me)var Fn=he?Me(Yn,Ot,Dt,x,_,Ze):Me(Ot,Yn,Dt,_,x,Ze);if(!(Fn===void 0?Ot===Yn||dt(Ot,Yn,ue,Me,Ze):Fn)){Mt=!1;break}Bn||(Bn=Dt=="constructor")}if(Mt&&!Bn){var Gn=_.constructor,ur=x.constructor;Gn!=ur&&"constructor"in _&&"constructor"in x&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof ur=="function"&&ur instanceof ur)&&(Mt=!1)}return Ze.delete(_),Ze.delete(x),Mt}i(On,"equalObjects");function cr(_){return mn(_,Pn,Dr)}i(cr,"getAllKeys");function Hn(_,x){var ue=_.__data__;return Ir(x)?ue[typeof x=="string"?"string":"hash"]:ue.map}i(Hn,"getMapData");function Qn(_,x){var ue=D(_,x);return Un(ue)?ue:void 0}i(Qn,"getNative");function kn(_){var x=Jt.call(_,at),ue=_[at];try{_[at]=void 0;var Me=!0}catch(Ze){}var dt=on.call(_);return Me&&(x?_[at]=ue:delete _[at]),dt}i(kn,"getRawTag");var Dr=Bt?function(_){return _==null?[]:(_=Object(_),ye(Bt(_),function(x){return wt.call(_,x)}))}:gn,Jn=Kt;(Nt&&Jn(new Nt(new ArrayBuffer(1)))!=me||fn&&Jn(new fn)!=Y||Sn&&Jn(Sn.resolve())!=U||lr&&Jn(new lr)!=w||jn&&Jn(new jn)!=Q)&&(Jn=i(function(_){var x=Kt(_),ue=x==E?_.constructor:void 0,Me=ue?ar(ue):"";if(Me)switch(Me){case wr:return me;case nr:return Y;case Rr:return U;case _r:return w;case gr:return Q}return x},"getTag"));function Mn(_,x){return x=x==null?K:x,!!x&&(typeof _=="number"||Je.test(_))&&_>-1&&_%1==0&&_<x}i(Mn,"isIndex");function Ir(_){var x=typeof _;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?_!=="__proto__":_===null}i(Ir,"isKeyable");function rr(_){return!!Zt&&Zt in _}i(rr,"isMasked");function ir(_){var x=_&&_.constructor,ue=typeof x=="function"&&x.prototype||Ye;return _===ue}i(ir,"isPrototype");function fr(_){return on.call(_)}i(fr,"objectToString");function ar(_){if(_!=null){try{return ut.call(_)}catch(x){}try{return _+""}catch(x){}}return""}i(ar,"toSource");function $r(_,x){return _===x||_!==_&&x!==x}i($r,"eq");var sr=pn(function(){return arguments}())?pn:function(_){return pr(_)&&Jt.call(_,"callee")&&!wt.call(_,"callee")},or=Array.isArray;function Fr(_){return _!=null&&dr(_.length)&&!Or(_)}i(Fr,"isArrayLike");var yr=jt||_e;function xr(_,x){return Ln(_,x)}i(xr,"isEqual");function Or(_){if(!Pr(_))return!1;var x=Kt(_);return x==W||x==L||x==g||x==I}i(Or,"isFunction");function dr(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=K}i(dr,"isLength");function Pr(_){var x=typeof _;return _!=null&&(x=="object"||x=="function")}i(Pr,"isObject");function pr(_){return _!=null&&typeof _=="object"}i(pr,"isObjectLike");var Cn=we?Xe(we):Be;function Pn(_){return Fr(_)?Xt(_):In(_)}i(Pn,"keys");function gn(){return[]}i(gn,"stubArray");function _e(){return!1}i(_e,"stubFalse"),Ke.exports=xr},919:(Ke,v,y)=>{"use strict";const C=y(6391),d=y(6232),A=y(6796),p=y(292),K=i(c=>c===""||c==="./","isEmptyString"),R=i((c,g,$)=>{g=[].concat(g),c=[].concat(c);let B=new Set,O=new Set,W=new Set,L=0,Y=i(E=>{W.add(E.output),$&&$.onResult&&$.onResult(E)},"onResult");for(let E=0;E<g.length;E++){let U=A(String(g[E]),{...$,onResult:Y},!0),I=U.state.negated||U.state.negatedExtglob;I&&L++;for(let m of c){let w=U(m,!0);!(I?!w.isMatch:w.isMatch)||(I?B.add(w.output):(B.delete(w.output),O.add(w.output)))}}let ie=(L===g.length?[...W]:[...O]).filter(E=>!B.has(E));if($&&ie.length===0){if($.failglob===!0)throw new Error(`No matches found for "${g.join(", ")}"`);if($.nonull===!0||$.nullglob===!0)return $.unescape?g.map(E=>E.replace(/\\/g,"")):g}return ie},"micromatch");R.match=R,R.matcher=(c,g)=>A(c,g),R.isMatch=(c,g,$)=>A(g,$)(c),R.any=R.isMatch,R.not=(c,g,$={})=>{g=[].concat(g).map(String);let B=new Set,O=[],W=i(Y=>{$.onResult&&$.onResult(Y),O.push(Y.output)},"onResult"),L=new Set(R(c,g,{...$,onResult:W}));for(let Y of O)L.has(Y)||B.add(Y);return[...B]},R.contains=(c,g,$)=>{if(typeof c!="string")throw new TypeError(`Expected a string: "${C.inspect(c)}"`);if(Array.isArray(g))return g.some(B=>R.contains(c,B,$));if(typeof g=="string"){if(K(c)||K(g))return!1;if(c.includes(g)||c.startsWith("./")&&c.slice(2).includes(g))return!0}return R.isMatch(c,g,{...$,contains:!0})},R.matchKeys=(c,g,$)=>{if(!p.isObject(c))throw new TypeError("Expected the first argument to be an object");let B=R(Object.keys(c),g,$),O={};for(let W of B)O[W]=c[W];return O},R.some=(c,g,$)=>{let B=[].concat(c);for(let O of[].concat(g)){let W=A(String(O),$);if(B.some(L=>W(L)))return!0}return!1},R.every=(c,g,$)=>{let B=[].concat(c);for(let O of[].concat(g)){let W=A(String(O),$);if(!B.every(L=>W(L)))return!1}return!0},R.all=(c,g,$)=>{if(typeof c!="string")throw new TypeError(`Expected a string: "${C.inspect(c)}"`);return[].concat(g).every(B=>A(B,$)(c))},R.capture=(c,g,$)=>{let B=p.isWindows($),W=A.makeRe(String(c),{...$,capture:!0}).exec(B?p.toPosixSlashes(g):g);if(W)return W.slice(1).map(L=>L===void 0?"":L)},R.makeRe=(...c)=>A.makeRe(...c),R.scan=(...c)=>A.scan(...c),R.parse=(c,g)=>{let $=[];for(let B of[].concat(c||[]))for(let O of d(String(B),g))$.push(A.parse(O,g));return $},R.braces=(c,g)=>{if(typeof c!="string")throw new TypeError("Expected a string");return g&&g.nobrace===!0||!/\{.*\}/.test(c)?[c]:d(c,g)},R.braceExpand=(c,g)=>{if(typeof c!="string")throw new TypeError("Expected a string");return R.braces(c,{...g,expand:!0})},Ke.exports=R},6796:(Ke,v,y)=>{"use strict";Ke.exports=y(5761)},3889:(Ke,v,y)=>{"use strict";const C=y(6470),d="\\\\/",A=`[^${d}]`,p="\\.",K="\\+",R="\\?",c="\\/",g="(?=.)",$="[^/]",B=`(?:${c}|$)`,O=`(?:^|${c})`,W=`${p}{1,2}${B}`,L=`(?!${p})`,Y=`(?!${O}${W})`,z=`(?!${p}{0,1}${B})`,ie=`(?!${W})`,E=`[^.${c}]`,U=`${$}*?`,I={DOT_LITERAL:p,PLUS_LITERAL:K,QMARK_LITERAL:R,SLASH_LITERAL:c,ONE_CHAR:g,QMARK:$,END_ANCHOR:B,DOTS_SLASH:W,NO_DOT:L,NO_DOTS:Y,NO_DOT_SLASH:z,NO_DOTS_SLASH:ie,QMARK_NO_DOT:E,STAR:U,START_ANCHOR:O},m={...I,SLASH_LITERAL:`[${d}]`,QMARK:A,STAR:`${A}*?`,DOTS_SLASH:`${p}{1,2}(?:[${d}]|$)`,NO_DOT:`(?!${p})`,NO_DOTS:`(?!(?:^|[${d}])${p}{1,2}(?:[${d}]|$))`,NO_DOT_SLASH:`(?!${p}{0,1}(?:[${d}]|$))`,NO_DOTS_SLASH:`(?!${p}{1,2}(?:[${d}]|$))`,QMARK_NO_DOT:`[^.${d}]`,START_ANCHOR:`(?:^|[${d}])`,END_ANCHOR:`(?:[${d}]|$)`},w={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ke.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:w,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:C.sep,extglobChars(N){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${N.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(N){return N===!0?m:I}}},3969:(Ke,v,y)=>{"use strict";const C=y(3889),d=y(292),{MAX_LENGTH:A,POSIX_REGEX_SOURCE:p,REGEX_NON_SPECIAL_CHARS:K,REGEX_SPECIAL_CHARS_BACKREF:R,REPLACEMENTS:c}=C,g=i((O,W)=>{if(typeof W.expandRange=="function")return W.expandRange(...O,W);O.sort();const L=`[${O.join("-")}]`;try{new RegExp(L)}catch(Y){return O.map(z=>d.escapeRegex(z)).join("..")}return L},"expandRange"),$=i((O,W)=>`Missing ${O}: "${W}" - use "\\\\${W}" to match literal characters`,"syntaxError"),B=i((O,W)=>{if(typeof O!="string")throw new TypeError("Expected a string");O=c[O]||O;const L={...W},Y=typeof L.maxLength=="number"?Math.min(A,L.maxLength):A;let z=O.length;if(z>Y)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${Y}`);const ie={type:"bos",value:"",output:L.prepend||""},E=[ie],U=L.capture?"":"?:",I=d.isWindows(W),m=C.globChars(I),w=C.extglobChars(m),{DOT_LITERAL:N,PLUS_LITERAL:j,SLASH_LITERAL:V,ONE_CHAR:Q,DOTS_SLASH:te,NO_DOT:me,NO_DOT_SLASH:q,NO_DOTS_SLASH:H,QMARK:se,QMARK_NO_DOT:Te,STAR:be,START_ANCHOR:ne}=m,F=i(D=>`(${U}(?:(?!${ne}${D.dot?te:N}).)*?)`,"globstar"),ce=L.dot?"":me,Se=L.dot?se:Te;let Re=L.bash===!0?F(L):be;L.capture&&(Re=`(${Re})`),typeof L.noext=="boolean"&&(L.noextglob=L.noext);const J={input:O,index:-1,start:0,dot:L.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:E};O=d.removePrefix(O,J),z=O.length;const Je=[],He=[],ke=[];let k=ie,G;const ee=i(()=>J.index===z-1,"eos"),le=J.peek=(D=1)=>O[J.index+D],Fe=J.advance=()=>O[++J.index]||"",Ge=i(()=>O.slice(J.index+1),"remaining"),ve=i((D="",X=0)=>{J.consumed+=D,J.index+=X},"consume"),we=i(D=>{J.output+=D.output!=null?D.output:D.value,ve(D.value)},"append"),ye=i(()=>{let D=1;for(;le()==="!"&&(le(2)!=="("||le(3)==="?");)Fe(),J.start++,D++;return D%2==0?!1:(J.negated=!0,J.start++,!0)},"negate"),ge=i(D=>{J[D]++,ke.push(D)},"increment"),Ae=i(D=>{J[D]--,ke.pop()},"decrement"),oe=i(D=>{if(k.type==="globstar"){const X=J.braces>0&&(D.type==="comma"||D.type==="brace"),fe=D.extglob===!0||Je.length&&(D.type==="pipe"||D.type==="paren");D.type!=="slash"&&D.type!=="paren"&&!X&&!fe&&(J.output=J.output.slice(0,-k.output.length),k.type="star",k.value="*",k.output=Re,J.output+=k.output)}if(Je.length&&D.type!=="paren"&&(Je[Je.length-1].inner+=D.value),(D.value||D.output)&&we(D),k&&k.type==="text"&&D.type==="text"){k.value+=D.value,k.output=(k.output||"")+D.value;return}D.prev=k,E.push(D),k=D},"push"),Xe=i((D,X)=>{const fe={...w[X],conditions:1,inner:""};fe.prev=k,fe.parens=J.parens,fe.output=J.output;const $e=(L.capture?"(":"")+fe.open;ge("parens"),oe({type:D,value:X,output:J.output?"":Q}),oe({type:"paren",extglob:!0,value:Fe(),output:$e}),Je.push(fe)},"extglobOpen"),Pe=i(D=>{let X=D.close+(L.capture?")":""),fe;if(D.type==="negate"){let $e=Re;if(D.inner&&D.inner.length>1&&D.inner.includes("/")&&($e=F(L)),($e!==Re||ee()||/^\)+$/.test(Ge()))&&(X=D.close=`)$))${$e}`),D.inner.includes("*")&&(fe=Ge())&&/^\.[^\\/.]+$/.test(fe)){const Ve=B(fe,{...W,fastpaths:!1}).output;X=D.close=`)${Ve})${$e})`}D.prev.type==="bos"&&(J.negatedExtglob=!0)}oe({type:"paren",extglob:!0,value:G,output:X}),Ae("parens")},"extglobClose");if(L.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(O)){let D=!1,X=O.replace(R,(fe,$e,Ve,ht,Ye,_t)=>ht==="\\"?(D=!0,fe):ht==="?"?$e?$e+ht+(Ye?se.repeat(Ye.length):""):_t===0?Se+(Ye?se.repeat(Ye.length):""):se.repeat(Ve.length):ht==="."?N.repeat(Ve.length):ht==="*"?$e?$e+ht+(Ye?Re:""):Re:$e?fe:`\\${fe}`);return D===!0&&(L.unescape===!0?X=X.replace(/\\/g,""):X=X.replace(/\\+/g,fe=>fe.length%2==0?"\\\\":fe?"\\":"")),X===O&&L.contains===!0?(J.output=O,J):(J.output=d.wrapOutput(X,J,W),J)}for(;!ee();){if(G=Fe(),G==="\0")continue;if(G==="\\"){const fe=le();if(fe==="/"&&L.bash!==!0||fe==="."||fe===";")continue;if(!fe){G+="\\",oe({type:"text",value:G});continue}const $e=/^\\+/.exec(Ge());let Ve=0;if($e&&$e[0].length>2&&(Ve=$e[0].length,J.index+=Ve,Ve%2!=0&&(G+="\\")),L.unescape===!0?G=Fe():G+=Fe(),J.brackets===0){oe({type:"text",value:G});continue}}if(J.brackets>0&&(G!=="]"||k.value==="["||k.value==="[^")){if(L.posix!==!1&&G===":"){const fe=k.value.slice(1);if(fe.includes("[")&&(k.posix=!0,fe.includes(":"))){const $e=k.value.lastIndexOf("["),Ve=k.value.slice(0,$e),ht=k.value.slice($e+2),Ye=p[ht];if(Ye){k.value=Ve+Ye,J.backtrack=!0,Fe(),!ie.output&&E.indexOf(k)===1&&(ie.output=Q);continue}}}(G==="["&&le()!==":"||G==="-"&&le()==="]")&&(G=`\\${G}`),G==="]"&&(k.value==="["||k.value==="[^")&&(G=`\\${G}`),L.posix===!0&&G==="!"&&k.value==="["&&(G="^"),k.value+=G,we({value:G});continue}if(J.quotes===1&&G!=='"'){G=d.escapeRegex(G),k.value+=G,we({value:G});continue}if(G==='"'){J.quotes=J.quotes===1?0:1,L.keepQuotes===!0&&oe({type:"text",value:G});continue}if(G==="("){ge("parens"),oe({type:"paren",value:G});continue}if(G===")"){if(J.parens===0&&L.strictBrackets===!0)throw new SyntaxError($("opening","("));const fe=Je[Je.length-1];if(fe&&J.parens===fe.parens+1){Pe(Je.pop());continue}oe({type:"paren",value:G,output:J.parens?")":"\\)"}),Ae("parens");continue}if(G==="["){if(L.nobracket===!0||!Ge().includes("]")){if(L.nobracket!==!0&&L.strictBrackets===!0)throw new SyntaxError($("closing","]"));G=`\\${G}`}else ge("brackets");oe({type:"bracket",value:G});continue}if(G==="]"){if(L.nobracket===!0||k&&k.type==="bracket"&&k.value.length===1){oe({type:"text",value:G,output:`\\${G}`});continue}if(J.brackets===0){if(L.strictBrackets===!0)throw new SyntaxError($("opening","["));oe({type:"text",value:G,output:`\\${G}`});continue}Ae("brackets");const fe=k.value.slice(1);if(k.posix!==!0&&fe[0]==="^"&&!fe.includes("/")&&(G=`/${G}`),k.value+=G,we({value:G}),L.literalBrackets===!1||d.hasRegexChars(fe))continue;const $e=d.escapeRegex(k.value);if(J.output=J.output.slice(0,-k.value.length),L.literalBrackets===!0){J.output+=$e,k.value=$e;continue}k.value=`(${U}${$e}|${k.value})`,J.output+=k.value;continue}if(G==="{"&&L.nobrace!==!0){ge("braces");const fe={type:"brace",value:G,output:"(",outputIndex:J.output.length,tokensIndex:J.tokens.length};He.push(fe),oe(fe);continue}if(G==="}"){const fe=He[He.length-1];if(L.nobrace===!0||!fe){oe({type:"text",value:G,output:G});continue}let $e=")";if(fe.dots===!0){const Ve=E.slice(),ht=[];for(let Ye=Ve.length-1;Ye>=0&&(E.pop(),Ve[Ye].type!=="brace");Ye--)Ve[Ye].type!=="dots"&&ht.unshift(Ve[Ye].value);$e=g(ht,L),J.backtrack=!0}if(fe.comma!==!0&&fe.dots!==!0){const Ve=J.output.slice(0,fe.outputIndex),ht=J.tokens.slice(fe.tokensIndex);fe.value=fe.output="\\{",G=$e="\\}",J.output=Ve;for(const Ye of ht)J.output+=Ye.output||Ye.value}oe({type:"brace",value:G,output:$e}),Ae("braces"),He.pop();continue}if(G==="|"){Je.length>0&&Je[Je.length-1].conditions++,oe({type:"text",value:G});continue}if(G===","){let fe=G;const $e=He[He.length-1];$e&&ke[ke.length-1]==="braces"&&($e.comma=!0,fe="|"),oe({type:"comma",value:G,output:fe});continue}if(G==="/"){if(k.type==="dot"&&J.index===J.start+1){J.start=J.index+1,J.consumed="",J.output="",E.pop(),k=ie;continue}oe({type:"slash",value:G,output:V});continue}if(G==="."){if(J.braces>0&&k.type==="dot"){k.value==="."&&(k.output=N);const fe=He[He.length-1];k.type="dots",k.output+=G,k.value+=G,fe.dots=!0;continue}if(J.braces+J.parens===0&&k.type!=="bos"&&k.type!=="slash"){oe({type:"text",value:G,output:N});continue}oe({type:"dot",value:G,output:N});continue}if(G==="?"){if(!(k&&k.value==="(")&&L.noextglob!==!0&&le()==="("&&le(2)!=="?"){Xe("qmark",G);continue}if(k&&k.type==="paren"){const $e=le();let Ve=G;if($e==="<"&&!d.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(k.value==="("&&!/[!=<:]/.test($e)||$e==="<"&&!/<([!=]|\w+>)/.test(Ge()))&&(Ve=`\\${G}`),oe({type:"text",value:G,output:Ve});continue}if(L.dot!==!0&&(k.type==="slash"||k.type==="bos")){oe({type:"qmark",value:G,output:Te});continue}oe({type:"qmark",value:G,output:se});continue}if(G==="!"){if(L.noextglob!==!0&&le()==="("&&(le(2)!=="?"||!/[!=<:]/.test(le(3)))){Xe("negate",G);continue}if(L.nonegate!==!0&&J.index===0){ye();continue}}if(G==="+"){if(L.noextglob!==!0&&le()==="("&&le(2)!=="?"){Xe("plus",G);continue}if(k&&k.value==="("||L.regex===!1){oe({type:"plus",value:G,output:j});continue}if(k&&(k.type==="bracket"||k.type==="paren"||k.type==="brace")||J.parens>0){oe({type:"plus",value:G});continue}oe({type:"plus",value:j});continue}if(G==="@"){if(L.noextglob!==!0&&le()==="("&&le(2)!=="?"){oe({type:"at",extglob:!0,value:G,output:""});continue}oe({type:"text",value:G});continue}if(G!=="*"){(G==="$"||G==="^")&&(G=`\\${G}`);const fe=K.exec(Ge());fe&&(G+=fe[0],J.index+=fe[0].length),oe({type:"text",value:G});continue}if(k&&(k.type==="globstar"||k.star===!0)){k.type="star",k.star=!0,k.value+=G,k.output=Re,J.backtrack=!0,J.globstar=!0,ve(G);continue}let D=Ge();if(L.noextglob!==!0&&/^\([^?]/.test(D)){Xe("star",G);continue}if(k.type==="star"){if(L.noglobstar===!0){ve(G);continue}const fe=k.prev,$e=fe.prev,Ve=fe.type==="slash"||fe.type==="bos",ht=$e&&($e.type==="star"||$e.type==="globstar");if(L.bash===!0&&(!Ve||D[0]&&D[0]!=="/")){oe({type:"star",value:G,output:""});continue}const Ye=J.braces>0&&(fe.type==="comma"||fe.type==="brace"),_t=Je.length&&(fe.type==="pipe"||fe.type==="paren");if(!Ve&&fe.type!=="paren"&&!Ye&&!_t){oe({type:"star",value:G,output:""});continue}for(;D.slice(0,3)==="/**";){const ut=O[J.index+4];if(ut&&ut!=="/")break;D=D.slice(3),ve("/**",3)}if(fe.type==="bos"&&ee()){k.type="globstar",k.value+=G,k.output=F(L),J.output=k.output,J.globstar=!0,ve(G);continue}if(fe.type==="slash"&&fe.prev.type!=="bos"&&!ht&&ee()){J.output=J.output.slice(0,-(fe.output+k.output).length),fe.output=`(?:${fe.output}`,k.type="globstar",k.output=F(L)+(L.strictSlashes?")":"|$)"),k.value+=G,J.globstar=!0,J.output+=fe.output+k.output,ve(G);continue}if(fe.type==="slash"&&fe.prev.type!=="bos"&&D[0]==="/"){const ut=D[1]!==void 0?"|$":"";J.output=J.output.slice(0,-(fe.output+k.output).length),fe.output=`(?:${fe.output}`,k.type="globstar",k.output=`${F(L)}${V}|${V}${ut})`,k.value+=G,J.output+=fe.output+k.output,J.globstar=!0,ve(G+Fe()),oe({type:"slash",value:"/",output:""});continue}if(fe.type==="bos"&&D[0]==="/"){k.type="globstar",k.value+=G,k.output=`(?:^|${V}|${F(L)}${V})`,J.output=k.output,J.globstar=!0,ve(G+Fe()),oe({type:"slash",value:"/",output:""});continue}J.output=J.output.slice(0,-k.output.length),k.type="globstar",k.output=F(L),k.value+=G,J.output+=k.output,J.globstar=!0,ve(G);continue}const X={type:"star",value:G,output:Re};if(L.bash===!0){X.output=".*?",(k.type==="bos"||k.type==="slash")&&(X.output=ce+X.output),oe(X);continue}if(k&&(k.type==="bracket"||k.type==="paren")&&L.regex===!0){X.output=G,oe(X);continue}(J.index===J.start||k.type==="slash"||k.type==="dot")&&(k.type==="dot"?(J.output+=q,k.output+=q):L.dot===!0?(J.output+=H,k.output+=H):(J.output+=ce,k.output+=ce),le()!=="*"&&(J.output+=Q,k.output+=Q)),oe(X)}for(;J.brackets>0;){if(L.strictBrackets===!0)throw new SyntaxError($("closing","]"));J.output=d.escapeLast(J.output,"["),Ae("brackets")}for(;J.parens>0;){if(L.strictBrackets===!0)throw new SyntaxError($("closing",")"));J.output=d.escapeLast(J.output,"("),Ae("parens")}for(;J.braces>0;){if(L.strictBrackets===!0)throw new SyntaxError($("closing","}"));J.output=d.escapeLast(J.output,"{"),Ae("braces")}if(L.strictSlashes!==!0&&(k.type==="star"||k.type==="bracket")&&oe({type:"maybe_slash",value:"",output:`${V}?`}),J.backtrack===!0){J.output="";for(const D of J.tokens)J.output+=D.output!=null?D.output:D.value,D.suffix&&(J.output+=D.suffix)}return J},"parse");B.fastpaths=(O,W)=>{const L={...W},Y=typeof L.maxLength=="number"?Math.min(A,L.maxLength):A,z=O.length;if(z>Y)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${Y}`);O=c[O]||O;const ie=d.isWindows(W),{DOT_LITERAL:E,SLASH_LITERAL:U,ONE_CHAR:I,DOTS_SLASH:m,NO_DOT:w,NO_DOTS:N,NO_DOTS_SLASH:j,STAR:V,START_ANCHOR:Q}=C.globChars(ie),te=L.dot?N:w,me=L.dot?j:w,q=L.capture?"":"?:",H={negated:!1,prefix:""};let se=L.bash===!0?".*?":V;L.capture&&(se=`(${se})`);const Te=i(ce=>ce.noglobstar===!0?se:`(${q}(?:(?!${Q}${ce.dot?m:E}).)*?)`,"globstar"),be=i(ce=>{switch(ce){case"*":return`${te}${I}${se}`;case".*":return`${E}${I}${se}`;case"*.*":return`${te}${se}${E}${I}${se}`;case"*/*":return`${te}${se}${U}${I}${me}${se}`;case"**":return te+Te(L);case"**/*":return`(?:${te}${Te(L)}${U})?${me}${I}${se}`;case"**/*.*":return`(?:${te}${Te(L)}${U})?${me}${se}${E}${I}${se}`;case"**/.*":return`(?:${te}${Te(L)}${U})?${E}${I}${se}`;default:{const Se=/^(.*?)\.(\w+)$/.exec(ce);if(!Se)return;const Re=be(Se[1]);return Re?Re+E+Se[2]:void 0}}},"create"),ne=d.removePrefix(O,H);let F=be(ne);return F&&L.strictSlashes!==!0&&(F+=`${U}?`),F},Ke.exports=B},5761:(Ke,v,y)=>{"use strict";const C=y(6470),d=y(9826),A=y(3969),p=y(292),K=y(3889),R=i(g=>g&&typeof g=="object"&&!Array.isArray(g),"isObject"),c=i((g,$,B=!1)=>{if(Array.isArray(g)){const U=g.map(m=>c(m,$,B));return i(m=>{for(const w of U){const N=w(m);if(N)return N}return!1},"arrayMatcher")}const O=R(g)&&g.tokens&&g.input;if(g===""||typeof g!="string"&&!O)throw new TypeError("Expected pattern to be a non-empty string");const W=$||{},L=p.isWindows($),Y=O?c.compileRe(g,$):c.makeRe(g,$,!1,!0),z=Y.state;delete Y.state;let ie=i(()=>!1,"isIgnored");if(W.ignore){const U={...$,ignore:null,onMatch:null,onResult:null};ie=c(W.ignore,U,B)}const E=i((U,I=!1)=>{const{isMatch:m,match:w,output:N}=c.test(U,Y,$,{glob:g,posix:L}),j={glob:g,state:z,regex:Y,posix:L,input:U,output:N,match:w,isMatch:m};return typeof W.onResult=="function"&&W.onResult(j),m===!1?(j.isMatch=!1,I?j:!1):ie(U)?(typeof W.onIgnore=="function"&&W.onIgnore(j),j.isMatch=!1,I?j:!1):(typeof W.onMatch=="function"&&W.onMatch(j),I?j:!0)},"matcher");return B&&(E.state=z),E},"picomatch");c.test=(g,$,B,{glob:O,posix:W}={})=>{if(typeof g!="string")throw new TypeError("Expected input to be a string");if(g==="")return{isMatch:!1,output:""};const L=B||{},Y=L.format||(W?p.toPosixSlashes:null);let z=g===O,ie=z&&Y?Y(g):g;return z===!1&&(ie=Y?Y(g):g,z=ie===O),(z===!1||L.capture===!0)&&(L.matchBase===!0||L.basename===!0?z=c.matchBase(g,$,B,W):z=$.exec(ie)),{isMatch:Boolean(z),match:z,output:ie}},c.matchBase=(g,$,B,O=p.isWindows(B))=>($ instanceof RegExp?$:c.makeRe($,B)).test(C.basename(g)),c.isMatch=(g,$,B)=>c($,B)(g),c.parse=(g,$)=>Array.isArray(g)?g.map(B=>c.parse(B,$)):A(g,{...$,fastpaths:!1}),c.scan=(g,$)=>d(g,$),c.compileRe=(g,$,B=!1,O=!1)=>{if(B===!0)return g.output;const W=$||{},L=W.contains?"":"^",Y=W.contains?"":"$";let z=`${L}(?:${g.output})${Y}`;g&&g.negated===!0&&(z=`^(?!${z}).*$`);const ie=c.toRegex(z,$);return O===!0&&(ie.state=g),ie},c.makeRe=(g,$={},B=!1,O=!1)=>{if(!g||typeof g!="string")throw new TypeError("Expected a non-empty string");let W={negated:!1,fastpaths:!0};return $.fastpaths!==!1&&(g[0]==="."||g[0]==="*")&&(W.output=A.fastpaths(g,$)),W.output||(W=A(g,$)),c.compileRe(W,$,B,O)},c.toRegex=(g,$)=>{try{const B=$||{};return new RegExp(g,B.flags||(B.nocase?"i":""))}catch(B){if($&&$.debug===!0)throw B;return/$^/}},c.constants=K,Ke.exports=c},9826:(Ke,v,y)=>{"use strict";const C=y(292),{CHAR_ASTERISK:d,CHAR_AT:A,CHAR_BACKWARD_SLASH:p,CHAR_COMMA:K,CHAR_DOT:R,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:g,CHAR_LEFT_CURLY_BRACE:$,CHAR_LEFT_PARENTHESES:B,CHAR_LEFT_SQUARE_BRACKET:O,CHAR_PLUS:W,CHAR_QUESTION_MARK:L,CHAR_RIGHT_CURLY_BRACE:Y,CHAR_RIGHT_PARENTHESES:z,CHAR_RIGHT_SQUARE_BRACKET:ie}=y(3889),E=i(m=>m===g||m===p,"isPathSeparator"),U=i(m=>{m.isPrefix!==!0&&(m.depth=m.isGlobstar?1/0:1)},"depth"),I=i((m,w)=>{const N=w||{},j=m.length-1,V=N.parts===!0||N.scanToEnd===!0,Q=[],te=[],me=[];let q=m,H=-1,se=0,Te=0,be=!1,ne=!1,F=!1,ce=!1,Se=!1,Re=!1,J=!1,Je=!1,He=!1,ke=!1,k=0,G,ee,le={value:"",depth:0,isGlob:!1};const Fe=i(()=>H>=j,"eos"),Ge=i(()=>q.charCodeAt(H+1),"peek"),ve=i(()=>(G=ee,q.charCodeAt(++H)),"advance");for(;H<j;){ee=ve();let oe;if(ee===p){J=le.backslashes=!0,ee=ve(),ee===$&&(Re=!0);continue}if(Re===!0||ee===$){for(k++;Fe()!==!0&&(ee=ve());){if(ee===p){J=le.backslashes=!0,ve();continue}if(ee===$){k++;continue}if(Re!==!0&&ee===R&&(ee=ve())===R){if(be=le.isBrace=!0,F=le.isGlob=!0,ke=!0,V===!0)continue;break}if(Re!==!0&&ee===K){if(be=le.isBrace=!0,F=le.isGlob=!0,ke=!0,V===!0)continue;break}if(ee===Y&&(k--,k===0)){Re=!1,be=le.isBrace=!0,ke=!0;break}}if(V===!0)continue;break}if(ee===g){if(Q.push(H),te.push(le),le={value:"",depth:0,isGlob:!1},ke===!0)continue;if(G===R&&H===se+1){se+=2;continue}Te=H+1;continue}if(N.noext!==!0&&(ee===W||ee===A||ee===d||ee===L||ee===c)===!0&&Ge()===B){if(F=le.isGlob=!0,ce=le.isExtglob=!0,ke=!0,ee===c&&H===se&&(He=!0),V===!0){for(;Fe()!==!0&&(ee=ve());){if(ee===p){J=le.backslashes=!0,ee=ve();continue}if(ee===z){F=le.isGlob=!0,ke=!0;break}}continue}break}if(ee===d){if(G===d&&(Se=le.isGlobstar=!0),F=le.isGlob=!0,ke=!0,V===!0)continue;break}if(ee===L){if(F=le.isGlob=!0,ke=!0,V===!0)continue;break}if(ee===O){for(;Fe()!==!0&&(oe=ve());){if(oe===p){J=le.backslashes=!0,ve();continue}if(oe===ie){ne=le.isBracket=!0,F=le.isGlob=!0,ke=!0;break}}if(V===!0)continue;break}if(N.nonegate!==!0&&ee===c&&H===se){Je=le.negated=!0,se++;continue}if(N.noparen!==!0&&ee===B){if(F=le.isGlob=!0,V===!0){for(;Fe()!==!0&&(ee=ve());){if(ee===B){J=le.backslashes=!0,ee=ve();continue}if(ee===z){ke=!0;break}}continue}break}if(F===!0){if(ke=!0,V===!0)continue;break}}N.noext===!0&&(ce=!1,F=!1);let we=q,ye="",ge="";se>0&&(ye=q.slice(0,se),q=q.slice(se),Te-=se),we&&F===!0&&Te>0?(we=q.slice(0,Te),ge=q.slice(Te)):F===!0?(we="",ge=q):we=q,we&&we!==""&&we!=="/"&&we!==q&&E(we.charCodeAt(we.length-1))&&(we=we.slice(0,-1)),N.unescape===!0&&(ge&&(ge=C.removeBackslashes(ge)),we&&J===!0&&(we=C.removeBackslashes(we)));const Ae={prefix:ye,input:m,start:se,base:we,glob:ge,isBrace:be,isBracket:ne,isGlob:F,isExtglob:ce,isGlobstar:Se,negated:Je,negatedExtglob:He};if(N.tokens===!0&&(Ae.maxDepth=0,E(ee)||te.push(le),Ae.tokens=te),N.parts===!0||N.tokens===!0){let oe;for(let Xe=0;Xe<Q.length;Xe++){const Pe=oe?oe+1:se,D=Q[Xe],X=m.slice(Pe,D);N.tokens&&(Xe===0&&se!==0?(te[Xe].isPrefix=!0,te[Xe].value=ye):te[Xe].value=X,U(te[Xe]),Ae.maxDepth+=te[Xe].depth),(Xe!==0||X!=="")&&me.push(X),oe=D}if(oe&&oe+1<m.length){const Xe=m.slice(oe+1);me.push(Xe),N.tokens&&(te[te.length-1].value=Xe,U(te[te.length-1]),Ae.maxDepth+=te[te.length-1].depth)}Ae.slashes=Q,Ae.parts=me}return Ae},"scan");Ke.exports=I},292:(Ke,v,y)=>{"use strict";var C=y(6038);const d=y(6470),A=C.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:K,REGEX_SPECIAL_CHARS:R,REGEX_SPECIAL_CHARS_GLOBAL:c}=y(3889);v.isObject=g=>g!==null&&typeof g=="object"&&!Array.isArray(g),v.hasRegexChars=g=>R.test(g),v.isRegexChar=g=>g.length===1&&v.hasRegexChars(g),v.escapeRegex=g=>g.replace(c,"\\$1"),v.toPosixSlashes=g=>g.replace(p,"/"),v.removeBackslashes=g=>g.replace(K,$=>$==="\\"?"":$),v.supportsLookbehinds=()=>{const g=C.version.slice(1).split(".").map(Number);return g.length===3&&g[0]>=9||g[0]===8&&g[1]>=10},v.isWindows=g=>g&&typeof g.windows=="boolean"?g.windows:A===!0||d.sep==="\\",v.escapeLast=(g,$,B)=>{const O=g.lastIndexOf($,B);return O===-1?g:g[O-1]==="\\"?v.escapeLast(g,$,O-1):`${g.slice(0,O)}\\${g.slice(O)}`},v.removePrefix=(g,$={})=>{let B=g;return B.startsWith("./")&&(B=B.slice(2),$.prefix="./"),B},v.wrapOutput=(g,$={},B={})=>{const O=B.contains?"":"^",W=B.contains?"":"$";let L=`${O}(?:${g})${W}`;return $.negated===!0&&(L=`(?:^(?!${L}).*$)`),L}},6038:Ke=>{var v=Ke.exports={},y,C;function d(){throw new Error("setTimeout has not been defined")}i(d,"defaultSetTimout");function A(){throw new Error("clearTimeout has not been defined")}i(A,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=d}catch(Y){y=d}try{typeof clearTimeout=="function"?C=clearTimeout:C=A}catch(Y){C=A}}();function p(Y){if(y===setTimeout)return setTimeout(Y,0);if((y===d||!y)&&setTimeout)return y=setTimeout,setTimeout(Y,0);try{return y(Y,0)}catch(z){try{return y.call(null,Y,0)}catch(ie){return y.call(this,Y,0)}}}i(p,"runTimeout");function K(Y){if(C===clearTimeout)return clearTimeout(Y);if((C===A||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(Y);try{return C(Y)}catch(z){try{return C.call(null,Y)}catch(ie){return C.call(this,Y)}}}i(K,"runClearTimeout");var R=[],c=!1,g,$=-1;function B(){!c||!g||(c=!1,g.length?R=g.concat(R):$=-1,R.length&&O())}i(B,"cleanUpNextTick");function O(){if(!c){var Y=p(B);c=!0;for(var z=R.length;z;){for(g=R,R=[];++$<z;)g&&g[$].run();$=-1,z=R.length}g=null,c=!1,K(Y)}}i(O,"drainQueue"),v.nextTick=function(Y){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)z[ie-1]=arguments[ie];R.push(new W(Y,z)),R.length===1&&!c&&p(O)};function W(Y,z){this.fun=Y,this.array=z}i(W,"Item"),W.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function L(){}i(L,"noop"),v.on=L,v.addListener=L,v.once=L,v.off=L,v.removeListener=L,v.removeAllListeners=L,v.emit=L,v.prependListener=L,v.prependOnceListener=L,v.listeners=function(Y){return[]},v.binding=function(Y){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(Y){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},5431:(Ke,v,y)=>{"use strict";Ke.exports=y(7905)},7905:(Ke,v,y)=>{"use strict";var C=y(1417);function d(){return!0}i(d,"_toTrue");function A(){return!1}i(A,"_toFalse");function p(z){return z.then(d,A)}i(p,"pSuccess");function K(z){return z}i(K,"_pass");function R(z){throw z}i(R,"_throw");function c(z){return z.then(K,R)}i(c,"ensurePromise");function g(z,ie){return{result:z,args:ie,expire_id:0,prefetch_id:0,need_prefetch:!1}}i(g,"createCacheObj");function $(z,ie){!z[ie]||(clearTimeout(z[ie].expire_id),clearTimeout(z[ie].prefetch_id),delete z[ie])}i($,"destroyCacheObj");function B(z,ie){!z[ie]||(z[ie].need_prefetch=!0)}i(B,"askPrefetch");function O(z){var ie=z[0],E=z[1],U=z[2],I=z[3];if(!!E[U]){if(ie){if(!I.maxAge)return;E[U].expire_id=setTimeout($,I.maxAge,E,U),E[U].prefetch_id=setTimeout(B,I.maxAge*.7,E,U),E[U].expire_id.unref&&E[U].expire_id.unref(),E[U].prefetch_id.unref&&E[U].prefetch_id.unref();return}if(!I.maxErrorAge){$(E,U);return}E[U].expire_id=setTimeout($,I.maxErrorAge,E,U),E[U].expire_id.unref&&E[U].expire_id.unref()}}i(O,"_track_proceed");function W(z,ie,E){var U=z[ie].result.constructor;U.all([p(z[ie].result),z,ie,E]).then(O)}i(W,"trackCacheObj");function L(z){var ie=z[0],E=z[1],U=z[2],I=z[3],m=z[4][0];!E[U]||!ie||(E[U].result=m,clearTimeout(E[U].expire_id),W(E,U,I))}i(L,"_prefetch_proceed");function Y(z,ie,E){var U=c(E.fn.apply(null,z[ie].args)),I=U.constructor;z[ie].need_prefetch=!1,I.all([p(U),z,ie,E,[U]]).then(L)}i(Y,"doPrefetch"),Ke.exports=i(function(ie,E){var U={},I=E||{},m=C(I.resolve),w={fn:ie,maxAge:I.maxAge||0,maxErrorAge:I.maxErrorAge||0};function N(){for(var j=new Array(arguments.length),V=0;V<j.length;V++)j[V]=arguments[V];var Q=m(j);return U[Q]?U[Q].need_prefetch&&Y(U,Q,w):(U[Q]=g(c(w.fn.apply(null,j)),w.maxAge||w.maxErrorAge?j:null),W(U,Q,w)),U[Q].result}return i(N,"memoizedFn"),N.clear=function(){var j=Object.keys(U);return j.forEach(function(V){$(U,V)}),j.length},N},"promiseMemoize")},1417:Ke=>{"use strict";var v={simple:function(C){return C.length?C.join(""):""},json:function(C){if(!C.length)return"";for(var d=[],A=C.length-1;A>=0;A--)d.push(JSON.stringify(C[A]));return d.join("")}};function y(C){return C.forEach(function(d){if(typeof d=="string"&&!v.hasOwnProperty(d))throw new Error('promise-memoize: unknown value "'+d+'" in resolve option')}),function(d){var A=Math.min(C.length,d.length);if(!A)return"";for(var p=[],K=0;K<A;K++)typeof C[K]=="string"?p.push(v[C[K]]([d[K]])):p.push(C[K](d[K]));return p.join("")}}i(y,"createFlexResolver"),Ke.exports=i(function(d){if(typeof d=="undefined")return v.simple;if(typeof d=="string"&&v.hasOwnProperty(d))return v[d];if(Array.isArray(d))return y(d);if(Object.prototype.toString.call(d)==="[object Function]")return d;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(Ke,v,y)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const C=y(3338),d=i((E,U,I)=>{if(C(E)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(U===void 0||E===U)return String(E);if(C(U)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let m={relaxZeros:!0,...I};typeof m.strictZeros=="boolean"&&(m.relaxZeros=m.strictZeros===!1);let w=String(m.relaxZeros),N=String(m.shorthand),j=String(m.capture),V=String(m.wrap),Q=E+":"+U+"="+w+N+j+V;if(d.cache.hasOwnProperty(Q))return d.cache[Q].result;let te=Math.min(E,U),me=Math.max(E,U);if(Math.abs(te-me)===1){let be=E+"|"+U;return m.capture?`(${be})`:m.wrap===!1?be:`(?:${be})`}let q=z(E)||z(U),H={min:E,max:U,a:te,b:me},se=[],Te=[];if(q&&(H.isPadded=q,H.maxLen=String(H.max).length),te<0){let be=me<0?Math.abs(me):1;Te=R(be,Math.abs(te),H,m),te=H.a=0}return me>=0&&(se=R(te,me,H,m)),H.negatives=Te,H.positives=se,H.result=A(Te,se,m),m.capture===!0?H.result=`(${H.result})`:m.wrap!==!1&&se.length+Te.length>1&&(H.result=`(?:${H.result})`),d.cache[Q]=H,H.result},"toRegexRange");function A(E,U,I){let m=c(E,U,"-",!1,I)||[],w=c(U,E,"",!1,I)||[],N=c(E,U,"-?",!0,I)||[];return m.concat(N).concat(w).join("|")}i(A,"collatePatterns");function p(E,U){let I=1,m=1,w=O(E,I),N=new Set([U]);for(;E<=w&&w<=U;)N.add(w),I+=1,w=O(E,I);for(w=W(U+1,m)-1;E<w&&w<=U;)N.add(w),m+=1,w=W(U+1,m)-1;return N=[...N],N.sort($),N}i(p,"splitToRanges");function K(E,U,I){if(E===U)return{pattern:E,count:[],digits:0};let m=g(E,U),w=m.length,N="",j=0;for(let V=0;V<w;V++){let[Q,te]=m[V];Q===te?N+=Q:Q!=="0"||te!=="9"?N+=Y(Q,te,I):j++}return j&&(N+=I.shorthand===!0?"\\d":"[0-9]"),{pattern:N,count:[j],digits:w}}i(K,"rangeToPattern");function R(E,U,I,m){let w=p(E,U),N=[],j=E,V;for(let Q=0;Q<w.length;Q++){let te=w[Q],me=K(String(j),String(te),m),q="";if(!I.isPadded&&V&&V.pattern===me.pattern){V.count.length>1&&V.count.pop(),V.count.push(me.count[0]),V.string=V.pattern+L(V.count),j=te+1;continue}I.isPadded&&(q=ie(te,I,m)),me.string=q+me.pattern+L(me.count),N.push(me),j=te+1,V=me}return N}i(R,"splitToPatterns");function c(E,U,I,m,w){let N=[];for(let j of E){let{string:V}=j;!m&&!B(U,"string",V)&&N.push(I+V),m&&B(U,"string",V)&&N.push(I+V)}return N}i(c,"filterPatterns");function g(E,U){let I=[];for(let m=0;m<E.length;m++)I.push([E[m],U[m]]);return I}i(g,"zip");function $(E,U){return E>U?1:U>E?-1:0}i($,"compare");function B(E,U,I){return E.some(m=>m[U]===I)}i(B,"contains");function O(E,U){return Number(String(E).slice(0,-U)+"9".repeat(U))}i(O,"countNines");function W(E,U){return E-E%Math.pow(10,U)}i(W,"countZeros");function L(E){let[U=0,I=""]=E;return I||U>1?`{${U+(I?","+I:"")}}`:""}i(L,"toQuantifier");function Y(E,U,I){return`[${E}${U-E==1?"":"-"}${U}]`}i(Y,"toCharacterClass");function z(E){return/^-?(0+)\d/.test(E)}i(z,"hasPadding");function ie(E,U,I){if(!U.isPadded)return E;let m=Math.abs(U.maxLen-String(E).length),w=I.relaxZeros!==!1;switch(m){case 0:return"";case 1:return w?"0?":"0";case 2:return w?"0{0,2}":"00";default:return w?`0{0,${m}}`:`0{${m}}`}}i(ie,"padZeros"),d.cache={},d.clearCache=()=>d.cache={},Ke.exports=d},7360:function(Ke,v){var y,C,d;(function(A,p){C=[],y=p,d=typeof y=="function"?y.apply(v,C):y,d!==void 0&&(Ke.exports=d)})(this,i(function(){function p(E){var U={single:function(I,m,w){if(!I||(Y(I)||(I=U.getPreparedSearch(I)),!m))return null;Y(m)||(m=U.getPrepared(m));var N=w&&w.allowTypo!==void 0?w.allowTypo:E&&E.allowTypo!==void 0?E.allowTypo:!0,j=N?U.algorithm:U.algorithmNoTypo;return j(I,m,I[0])},go:function(I,m,w){if(!I)return g;I=U.prepareSearch(I);var N=I[0],j=w&&w.threshold||E&&E.threshold||-9007199254740991,V=w&&w.limit||E&&E.limit||9007199254740991,Q=w&&w.allowTypo!==void 0?w.allowTypo:E&&E.allowTypo!==void 0?E.allowTypo:!0,te=Q?U.algorithm:U.algorithmNoTypo,me=0,q=0,H=m.length;if(w&&w.keys)for(var se=w.scoreFn||W,Te=w.keys,be=Te.length,ne=H-1;ne>=0;--ne){for(var F=m[ne],ce=new Array(be),Se=be-1;Se>=0;--Se){var Re=Te[Se],J=L(F,Re);if(!J){ce[Se]=null;continue}Y(J)||(J=U.getPrepared(J)),ce[Se]=te(I,J,N)}ce.obj=F;var Je=se(ce);Je!==null&&(Je<j||(ce.score=Je,me<V?(ie.add(ce),++me):(++q,Je>ie.peek().score&&ie.replaceTop(ce))))}else if(w&&w.key)for(var Re=w.key,ne=H-1;ne>=0;--ne){var F=m[ne],J=L(F,Re);if(!!J){Y(J)||(J=U.getPrepared(J));var He=te(I,J,N);He!==null&&(He.score<j||(He={target:He.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:He.score,indexes:He.indexes,obj:F},me<V?(ie.add(He),++me):(++q,He.score>ie.peek().score&&ie.replaceTop(He))))}}else for(var ne=H-1;ne>=0;--ne){var J=m[ne];if(!!J){Y(J)||(J=U.getPrepared(J));var He=te(I,J,N);He!==null&&(He.score<j||(me<V?(ie.add(He),++me):(++q,He.score>ie.peek().score&&ie.replaceTop(He))))}}if(me===0)return g;for(var ke=new Array(me),ne=me-1;ne>=0;--ne)ke[ne]=ie.poll();return ke.total=me+q,ke},goAsync:function(I,m,w){var N=!1,j=new Promise(function(V,Q){if(!I)return V(g);I=U.prepareSearch(I);var te=I[0],me=z(),q=m.length-1,H=w&&w.threshold||E&&E.threshold||-9007199254740991,se=w&&w.limit||E&&E.limit||9007199254740991,Te=w&&w.allowTypo!==void 0?w.allowTypo:E&&E.allowTypo!==void 0?E.allowTypo:!0,be=Te?U.algorithm:U.algorithmNoTypo,ne=0,F=0;function ce(){if(N)return Q("canceled");var Se=Date.now();if(w&&w.keys)for(var Re=w.scoreFn||W,J=w.keys,Je=J.length;q>=0;--q){for(var He=m[q],ke=new Array(Je),k=Je-1;k>=0;--k){var G=J[k],ee=L(He,G);if(!ee){ke[k]=null;continue}Y(ee)||(ee=U.getPrepared(ee)),ke[k]=be(I,ee,te)}ke.obj=He;var le=Re(ke);if(le!==null&&!(le<H)&&(ke.score=le,ne<se?(me.add(ke),++ne):(++F,le>me.peek().score&&me.replaceTop(ke)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}else if(w&&w.key)for(var G=w.key;q>=0;--q){var He=m[q],ee=L(He,G);if(!!ee){Y(ee)||(ee=U.getPrepared(ee));var Fe=be(I,ee,te);if(Fe!==null&&!(Fe.score<H)&&(Fe={target:Fe.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Fe.score,indexes:Fe.indexes,obj:He},ne<se?(me.add(Fe),++ne):(++F,Fe.score>me.peek().score&&me.replaceTop(Fe)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}}else for(;q>=0;--q){var ee=m[q];if(!!ee){Y(ee)||(ee=U.getPrepared(ee));var Fe=be(I,ee,te);if(Fe!==null&&!(Fe.score<H)&&(ne<se?(me.add(Fe),++ne):(++F,Fe.score>me.peek().score&&me.replaceTop(Fe)),q%1e3==0&&Date.now()-Se>=10)){K?setImmediate(ce):setTimeout(ce);return}}}if(ne===0)return V(g);for(var Ge=new Array(ne),ve=ne-1;ve>=0;--ve)Ge[ve]=me.poll();Ge.total=ne+F,V(Ge)}i(ce,"step"),K?setImmediate(ce):ce()});return j.cancel=function(){N=!0},j},highlight:function(I,m,w){if(I===null)return null;m===void 0&&(m="<b>"),w===void 0&&(w="</b>");for(var N="",j=0,V=!1,Q=I.target,te=Q.length,me=I.indexes,q=0;q<te;++q){var H=Q[q];if(me[j]===q){if(++j,V||(V=!0,N+=m),j===me.length){N+=H+w+Q.substr(q+1);break}}else V&&(V=!1,N+=w);N+=H}return N},prepare:function(I){if(!!I)return{target:I,_targetLowerCodes:U.prepareLowerCodes(I),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(I){if(!!I)return{target:I,_targetLowerCodes:U.prepareLowerCodes(I),_nextBeginningIndexes:U.prepareNextBeginningIndexes(I),score:null,indexes:null,obj:null}},prepareSearch:function(I){if(!!I)return U.prepareLowerCodes(I)},getPrepared:function(I){if(I.length>999)return U.prepare(I);var m=R.get(I);return m!==void 0||(m=U.prepare(I),R.set(I,m)),m},getPreparedSearch:function(I){if(I.length>999)return U.prepareSearch(I);var m=c.get(I);return m!==void 0||(m=U.prepareSearch(I),c.set(I,m)),m},algorithm:function(I,m,w){for(var N=m._targetLowerCodes,j=I.length,V=N.length,Q=0,te=0,me=0,q=0;;){var H=w===N[te];if(H){if($[q++]=te,++Q,Q===j)break;w=I[me===0?Q:me===Q?Q+1:me===Q-1?Q-1:Q]}if(++te,te>=V)for(;;){if(Q<=1)return null;if(me===0){--Q;var se=I[Q];if(w===se)continue;me=Q}else{if(me===1)return null;--me,Q=me,w=I[Q+1];var se=I[Q];if(w===se)continue}q=Q,te=$[q-1]+1;break}}var Q=0,Te=0,be=!1,ne=0,F=m._nextBeginningIndexes;F===null&&(F=m._nextBeginningIndexes=U.prepareNextBeginningIndexes(m.target));var ce=te=$[0]===0?0:F[$[0]-1];if(te!==V)for(;;)if(te>=V){if(Q<=0){if(++Te,Te>j-2)break;if(I[Te]===I[Te+1])continue;te=ce;continue}--Q;var Se=B[--ne];te=F[Se]}else{var H=I[Te===0?Q:Te===Q?Q+1:Te===Q-1?Q-1:Q]===N[te];if(H){if(B[ne++]=te,++Q,Q===j){be=!0;break}++te}else te=F[te]}{if(be)var Re=B,J=ne;else var Re=$,J=q;for(var Je=0,He=-1,ke=0;ke<j;++ke){var te=Re[ke];He!==te-1&&(Je-=te),He=te}be?Te!==0&&(Je+=-20):(Je*=1e3,me!==0&&(Je+=-20)),Je-=V-j,m.score=Je,m.indexes=new Array(J);for(var ke=J-1;ke>=0;--ke)m.indexes[ke]=Re[ke];return m}},algorithmNoTypo:function(I,m,w){for(var N=m._targetLowerCodes,j=I.length,V=N.length,Q=0,te=0,me=0;;){var q=w===N[te];if(q){if($[me++]=te,++Q,Q===j)break;w=I[Q]}if(++te,te>=V)return null}var Q=0,H=!1,se=0,Te=m._nextBeginningIndexes;Te===null&&(Te=m._nextBeginningIndexes=U.prepareNextBeginningIndexes(m.target));var be=te=$[0]===0?0:Te[$[0]-1];if(te!==V)for(;;)if(te>=V){if(Q<=0)break;--Q;var ne=B[--se];te=Te[ne]}else{var q=I[Q]===N[te];if(q){if(B[se++]=te,++Q,Q===j){H=!0;break}++te}else te=Te[te]}{if(H)var F=B,ce=se;else var F=$,ce=me;for(var Se=0,Re=-1,J=0;J<j;++J){var te=F[J];Re!==te-1&&(Se-=te),Re=te}H||(Se*=1e3),Se-=V-j,m.score=Se,m.indexes=new Array(ce);for(var J=ce-1;J>=0;--J)m.indexes[J]=F[J];return m}},prepareLowerCodes:function(I){for(var m=I.length,w=[],N=I.toLowerCase(),j=0;j<m;++j)w[j]=N.charCodeAt(j);return w},prepareBeginningIndexes:function(I){for(var m=I.length,w=[],N=0,j=!1,V=!1,Q=0;Q<m;++Q){var te=I.charCodeAt(Q),me=te>=65&&te<=90,q=me||te>=97&&te<=122||te>=48&&te<=57,H=me&&!j||!V||!q;j=me,V=q,H&&(w[N++]=Q)}return w},prepareNextBeginningIndexes:function(I){for(var m=I.length,w=U.prepareBeginningIndexes(I),N=[],j=w[0],V=0,Q=0;Q<m;++Q)j>Q?N[Q]=j:(j=w[++V],N[Q]=j===void 0?m:j);return N},cleanup:O,new:p};return U}i(p,"fuzzysortNew");var K=typeof window=="undefined",R=new Map,c=new Map,g=[];g.total=0;var $=[],B=[];function O(){R.clear(),c.clear(),$=[],B=[]}i(O,"cleanup");function W(E){for(var U=-9007199254740991,I=E.length-1;I>=0;--I){var m=E[I];if(m!==null){var w=m.score;w>U&&(U=w)}}return U===-9007199254740991?null:U}i(W,"defaultScoreFn");function L(E,U){var I=E[U];if(I!==void 0)return I;var m=U;Array.isArray(U)||(m=U.split("."));for(var w=m.length,N=-1;E&&++N<w;)E=E[m[N]];return E}i(L,"getValue");function Y(E){return typeof E=="object"}i(Y,"isObj");var z=i(function(){var E=[],U=0,I={};function m(){for(var w=0,N=E[w],j=1;j<U;){var V=j+1;w=j,V<U&&E[V].score<E[j].score&&(w=V),E[w-1>>1]=E[w],j=1+(w<<1)}for(var Q=w-1>>1;w>0&&N.score<E[Q].score;Q=(w=Q)-1>>1)E[w]=E[Q];E[w]=N}return i(m,"n"),I.add=function(w){var N=U;E[U++]=w;for(var j=N-1>>1;N>0&&w.score<E[j].score;j=(N=j)-1>>1)E[N]=E[j];E[N]=w},I.poll=function(){if(U!==0){var w=E[0];return E[0]=E[--U],m(),w}},I.peek=function(w){if(U!==0)return E[0]},I.replaceTop=function(w){E[0]=w,m()},I},"fastpriorityqueue"),ie=z();return p()},"UMD"))},6470:(Ke,v,y)=>{"use strict";var C=y(4155);function d(R){if(typeof R!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}i(d,"assertPath");function A(R,c){for(var g="",$=0,B=-1,O=0,W,L=0;L<=R.length;++L){if(L<R.length)W=R.charCodeAt(L);else{if(W===47)break;W=47}if(W===47){if(!(B===L-1||O===1))if(B!==L-1&&O===2){if(g.length<2||$!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var Y=g.lastIndexOf("/");if(Y!==g.length-1){Y===-1?(g="",$=0):(g=g.slice(0,Y),$=g.length-1-g.lastIndexOf("/")),B=L,O=0;continue}}else if(g.length===2||g.length===1){g="",$=0,B=L,O=0;continue}}c&&(g.length>0?g+="/..":g="..",$=2)}else g.length>0?g+="/"+R.slice(B+1,L):g=R.slice(B+1,L),$=L-B-1;B=L,O=0}else W===46&&O!==-1?++O:O=-1}return g}i(A,"normalizeStringPosix");function p(R,c){var g=c.dir||c.root,$=c.base||(c.name||"")+(c.ext||"");return g?g===c.root?g+$:g+R+$:$}i(p,"_format");var K={resolve:i(function(){for(var c="",g=!1,$,B=arguments.length-1;B>=-1&&!g;B--){var O;B>=0?O=arguments[B]:($===void 0&&($=C.cwd()),O=$),d(O),O.length!==0&&(c=O+"/"+c,g=O.charCodeAt(0)===47)}return c=A(c,!g),g?c.length>0?"/"+c:"/":c.length>0?c:"."},"resolve"),normalize:i(function(c){if(d(c),c.length===0)return".";var g=c.charCodeAt(0)===47,$=c.charCodeAt(c.length-1)===47;return c=A(c,!g),c.length===0&&!g&&(c="."),c.length>0&&$&&(c+="/"),g?"/"+c:c},"normalize"),isAbsolute:i(function(c){return d(c),c.length>0&&c.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var c,g=0;g<arguments.length;++g){var $=arguments[g];d($),$.length>0&&(c===void 0?c=$:c+="/"+$)}return c===void 0?".":K.normalize(c)},"join"),relative:i(function(c,g){if(d(c),d(g),c===g||(c=K.resolve(c),g=K.resolve(g),c===g))return"";for(var $=1;$<c.length&&c.charCodeAt($)===47;++$);for(var B=c.length,O=B-$,W=1;W<g.length&&g.charCodeAt(W)===47;++W);for(var L=g.length,Y=L-W,z=O<Y?O:Y,ie=-1,E=0;E<=z;++E){if(E===z){if(Y>z){if(g.charCodeAt(W+E)===47)return g.slice(W+E+1);if(E===0)return g.slice(W+E)}else O>z&&(c.charCodeAt($+E)===47?ie=E:E===0&&(ie=0));break}var U=c.charCodeAt($+E),I=g.charCodeAt(W+E);if(U!==I)break;U===47&&(ie=E)}var m="";for(E=$+ie+1;E<=B;++E)(E===B||c.charCodeAt(E)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+g.slice(W+ie):(W+=ie,g.charCodeAt(W)===47&&++W,g.slice(W))},"relative"),_makeLong:i(function(c){return c},"_makeLong"),dirname:i(function(c){if(d(c),c.length===0)return".";for(var g=c.charCodeAt(0),$=g===47,B=-1,O=!0,W=c.length-1;W>=1;--W)if(g=c.charCodeAt(W),g===47){if(!O){B=W;break}}else O=!1;return B===-1?$?"/":".":$&&B===1?"//":c.slice(0,B)},"dirname"),basename:i(function(c,g){if(g!==void 0&&typeof g!="string")throw new TypeError('"ext" argument must be a string');d(c);var $=0,B=-1,O=!0,W;if(g!==void 0&&g.length>0&&g.length<=c.length){if(g.length===c.length&&g===c)return"";var L=g.length-1,Y=-1;for(W=c.length-1;W>=0;--W){var z=c.charCodeAt(W);if(z===47){if(!O){$=W+1;break}}else Y===-1&&(O=!1,Y=W+1),L>=0&&(z===g.charCodeAt(L)?--L==-1&&(B=W):(L=-1,B=Y))}return $===B?B=Y:B===-1&&(B=c.length),c.slice($,B)}else{for(W=c.length-1;W>=0;--W)if(c.charCodeAt(W)===47){if(!O){$=W+1;break}}else B===-1&&(O=!1,B=W+1);return B===-1?"":c.slice($,B)}},"basename"),extname:i(function(c){d(c);for(var g=-1,$=0,B=-1,O=!0,W=0,L=c.length-1;L>=0;--L){var Y=c.charCodeAt(L);if(Y===47){if(!O){$=L+1;break}continue}B===-1&&(O=!1,B=L+1),Y===46?g===-1?g=L:W!==1&&(W=1):g!==-1&&(W=-1)}return g===-1||B===-1||W===0||W===1&&g===B-1&&g===$+1?"":c.slice(g,B)},"extname"),format:i(function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return p("/",c)},"format"),parse:i(function(c){d(c);var g={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return g;var $=c.charCodeAt(0),B=$===47,O;B?(g.root="/",O=1):O=0;for(var W=-1,L=0,Y=-1,z=!0,ie=c.length-1,E=0;ie>=O;--ie){if($=c.charCodeAt(ie),$===47){if(!z){L=ie+1;break}continue}Y===-1&&(z=!1,Y=ie+1),$===46?W===-1?W=ie:E!==1&&(E=1):W!==-1&&(E=-1)}return W===-1||Y===-1||E===0||E===1&&W===Y-1&&W===L+1?Y!==-1&&(L===0&&B?g.base=g.name=c.slice(1,Y):g.base=g.name=c.slice(L,Y)):(L===0&&B?(g.name=c.slice(1,W),g.base=c.slice(1,Y)):(g.name=c.slice(L,W),g.base=c.slice(L,Y)),g.ext=c.slice(W,Y)),L>0?g.dir=c.slice(0,L-1):B&&(g.dir="/"),g},"parse"),sep:"/",delimiter:":",win32:null,posix:null};K.posix=K,Ke.exports=K},4155:Ke=>{var v=Ke.exports={},y,C;function d(){throw new Error("setTimeout has not been defined")}i(d,"defaultSetTimout");function A(){throw new Error("clearTimeout has not been defined")}i(A,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=d}catch(Y){y=d}try{typeof clearTimeout=="function"?C=clearTimeout:C=A}catch(Y){C=A}}();function p(Y){if(y===setTimeout)return setTimeout(Y,0);if((y===d||!y)&&setTimeout)return y=setTimeout,setTimeout(Y,0);try{return y(Y,0)}catch(z){try{return y.call(null,Y,0)}catch(ie){return y.call(this,Y,0)}}}i(p,"runTimeout");function K(Y){if(C===clearTimeout)return clearTimeout(Y);if((C===A||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(Y);try{return C(Y)}catch(z){try{return C.call(null,Y)}catch(ie){return C.call(this,Y)}}}i(K,"runClearTimeout");var R=[],c=!1,g,$=-1;function B(){!c||!g||(c=!1,g.length?R=g.concat(R):$=-1,R.length&&O())}i(B,"cleanUpNextTick");function O(){if(!c){var Y=p(B);c=!0;for(var z=R.length;z;){for(g=R,R=[];++$<z;)g&&g[$].run();$=-1,z=R.length}g=null,c=!1,K(Y)}}i(O,"drainQueue"),v.nextTick=function(Y){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)z[ie-1]=arguments[ie];R.push(new W(Y,z)),R.length===1&&!c&&p(O)};function W(Y,z){this.fun=Y,this.array=z}i(W,"Item"),W.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={};function L(){}i(L,"noop"),v.on=L,v.addListener=L,v.once=L,v.off=L,v.removeListener=L,v.removeAllListeners=L,v.emit=L,v.prependListener=L,v.prependOnceListener=L,v.listeners=function(Y){return[]},v.binding=function(Y){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(Y){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},6529:()=>{},6391:()=>{}},Di={};function En(Ke){var v=Di[Ke];if(v!==void 0)return v.exports;var y=Di[Ke]={id:Ke,loaded:!1,exports:{}};return xi[Ke].call(y.exports,y,y.exports,En),y.loaded=!0,y.exports}i(En,"__webpack_require__"),(()=>{En.n=Ke=>{var v=Ke&&Ke.__esModule?()=>Ke.default:()=>Ke;return En.d(v,{a:v}),v}})(),(()=>{En.d=(Ke,v)=>{for(var y in v)En.o(v,y)&&!En.o(Ke,y)&&Object.defineProperty(Ke,y,{enumerable:!0,get:v[y]})}})(),(()=>{En.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ke){if(typeof window=="object")return window}}()})(),(()=>{En.o=(Ke,v)=>Object.prototype.hasOwnProperty.call(Ke,v)})(),(()=>{En.r=Ke=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ke,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ke,"__esModule",{value:!0})}})(),(()=>{En.nmd=Ke=>(Ke.paths=[],Ke.children||(Ke.children=[]),Ke)})();var Ui={};(()=>{"use strict";En.r(Ui),En.d(Ui,{activate:()=>Le});var Ke={};En.r(Ke),En.d(Ke,{max:()=>Lt,min:()=>In});const v=require("vscode"),y=new TextDecoder,C=new TextEncoder,d=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function A(n){const e=C.encode(n),t=new Array(e.length);for(let r=0;r<e.length;++r)t[r]=d[e[r]];return t.join("")}i(A,"encodeUtf8Hex");function p(n){const e=n.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(r=>parseInt(r,16)));return y.decode(t)}i(p,"decodeUtf8Hex");const K=/^[0-9a-f]{40}$/i;function R(n){return n!==void 0&&K.test(n)}i(R,"isSha");const c=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function g(n){return c.test(n)}i(g,"isValidBranchName");function $(n){return n===""||n==="~"||n==="HEAD"?n:n.endsWith("^")?`${n.substr(0,7)}^`:n.substr(0,7)}i($,"shortenRef");const B=47;function O(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,fragment:""}).toString()}i(O,"asKey");function W(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.query&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,query:"",fragment:""}).toString()}i(W,"asFileKey");function L(n,e){return`${(e==null?void 0:e.excludeScheme)?"":`${n.scheme}-`}${n.authority}${n.path.endsWith("/")?n.path.slice(0,-1):n.path}`}i(L,"asFileStorageKey");function Y(n){const e=n.path;let t=0,r=-1,a=!0;for(let s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===B){if(!a){t=s+1;break}}else r===-1&&(a=!1,r=s+1);return r===-1?"":e.slice(t,r)}i(Y,"basename");function z(n){const e=n.path;if(e.length===1)return"/";let t,r=-1,a=!0;for(let s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===B){if(!a){r=s;break}}else a=!1;return r===-1?"/":e.slice(0,r)}i(z,"dirname");function ie(n){const e=n.path.lastIndexOf("/");return e===-1?n.with({path:"/"}):n.with({path:n.path.substring(0,e)})}i(ie,"getParent");function E(n,e){const t=typeof e=="string"?e:e.path;return t.startsWith(n.path)?v.Uri.joinPath(n,t.substr(n.path.length)):v.Uri.joinPath(n,t)}i(E,"joinRelativePath");function U(n,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),I(n,e)&&n.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):I(n,e)&&n.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}i(U,"isChild");function I(n,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),e.length===1||n.path.startsWith(e.endsWith("/")?e:`${e}/`)):e.scheme===n.scheme&&e.authority===n.authority&&(e.path.length===1||n.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}i(I,"isDescendent");function m(n){return n&&typeof n=="object"&&"scheme"in n}i(m,"isSerializedUri");var w;(function(n){n.authoritySeparator="+",n.scheme="vscode-vfs",n.baseVirtualWorkspaceUri=v.Uri.parse(`${n.scheme}://`);function e(h){const{authority:b}=h,Z=b.indexOf(n.authoritySeparator);return Z!==-1?b.substr(0,Z):b}i(e,"getProviderId"),n.getProviderId=e;function t(h){return h.scheme!==n.scheme?h:h.with({scheme:e(h)})}i(t,"getProviderUri"),n.getProviderUri=t;function r(h,b){const Z=new Map,P=v.workspace.textDocuments;if(P.length===0)return Z;for(const ae of P)ae.uri.scheme===h&&b.some(Ie=>I(ae.uri,Ie))&&Z.set(O(ae.uri),ae.uri);return Z}i(r,"getOpenUris"),n.getOpenUris=r;function a(h){return h.scheme===n.scheme?h:h.with({scheme:n.scheme})}i(a,"getVirtualUri"),n.getVirtualUri=a;function s(h,b){const[Z,P]=h.authority.split(n.authoritySeparator);let ae;if(P)try{const Ie=JSON.parse(p(P));ae=b?b(Ie):Ie}catch{}return{scheme:Z,metadata:ae}}i(s,"decodeAuthority"),n.decodeAuthority=s;function o(h,b){const Z=b?`${n.authoritySeparator}${A(JSON.stringify(b))}`:"";return`${h}${Z}`}i(o,"encodeAuthority"),n.encodeAuthority=o;function u(h){return h.authority.indexOf(n.authoritySeparator)===-1}i(u,"isCanonicalUri"),n.isCanonicalUri=u;function l(){var h,b;return(b=(h=v.workspace.workspaceFolders)==null?void 0:h.every(Z=>Z.uri.scheme===n.scheme))!=null?b:!1}i(l,"isVirtualWorkspace"),n.isVirtualWorkspace=l})(w||(w={}));var N;(function(n){n[n.Admin=100]="Admin",n[n.Maintain=40]="Maintain",n[n.WriteToPullRequest=31]="WriteToPullRequest",n[n.Write=30]="Write",n[n.Triage=20]="Triage",n[n.Read=10]="Read",n[n.None=0]="None"})(N||(N={}));var j;(function(n){n[n.Branch=0]="Branch",n[n.RemoteBranch=1]="RemoteBranch",n[n.Tag=2]="Tag",n[n.Commit=3]="Commit"})(j||(j={}));var V;(function(n){function e(t){return t!==void 0&&t.type===me.Active}i(e,"isActive"),n.isActive=e})(V||(V={}));var Q;(function(n){function e(t){const r=w.decodeAuthority(t).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:te.Latest};if(R(r.idx))return{type:te.SHA,sha:r.idx}}}i(e,"decode"),n.decode=e})(Q||(Q={}));var te;(function(n){n[n.Latest=1]="Latest",n[n.SHA=2]="SHA"})(te||(te={}));var me;(function(n){n[n.NotIndexed=0]="NotIndexed",n[n.Indexed=1]="Indexed",n[n.Match=2]="Match",n[n.Active=3]="Active"})(me||(me={})),function(n){function e(t){return t!==void 0&&(t===n.Indexed||t===n.Match||t===n.Active)}i(e,"hasIndex"),n.hasIndex=e}(me||(me={}));var q;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed",n[n.Merged=2]="Merged"})(q||(q={}));var H;(function(n){n[n.Changed=1]="Changed",n[n.Created=2]="Created",n[n.Deleted=3]="Deleted"})(H||(H={}));var se;(function(n){n.CurrentWindow="currentWindow",n.NewWindow="newWindow",n.AddToWorkspace="addToWorkspace"})(se||(se={}));var Te;(function(n){n[n.Branch=0]="Branch",n[n.Tag=1]="Tag",n[n.Commit=2]="Commit",n[n.PullRequest=3]="PullRequest",n[n.Tree=4]="Tree"})(Te||(Te={}));var be;(function(n){n[n.Abort=0]="Abort",n[n.KeepCurrent=1]="KeepCurrent",n[n.DiscardCurrent=2]="DiscardCurrent",n[n.Merge=3]="Merge"})(be||(be={}));var ne;(function(n){n[n.Repository=0]="Repository",n[n.PullRequest=1]="PullRequest",n[n.Branch=2]="Branch",n[n.Commit=3]="Commit",n[n.File=4]="File",n[n.Tag=5]="Tag"})(ne||(ne={}));var F;(function(n){n.Branch="branch",n.RemoteBranch="remoteBranch",n.PullRequestBranch="pullRequestBranch",n.PullRequestRemoteBranch="pullRequestRemoteBranch",n.Tag="tag",n.Commit="commit"})(F||(F={}));var ce;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(ce||(ce={}));var Se;(function(n){n.Browse="browse",n.Edit="edit"})(Se||(Se={}));var Re;(function(n){n.CommitFailedError="CommitFailedError",n.DetachedHEADError="DetachedHEADError",n.CommitToProtectedBranchError="CommitToProtectedBranchError",n.InvalidBranchNameError="InvalidBranchNameError",n.InvalidCredentialsError="InvalidCredentialsError",n.MergeConflictError="MergeConflictError",n.NothingToCommitError="NothingToCommitError",n.SyncConflictsError="SyncConflictsError",n.SyncOrFetchError="SyncOrFetchError",n.UnresolvedConflictsError="UnresolvedConflictsError",n.InvalidRepositoryError="InvalidRepositoryError",n.Unknown="Unknown"})(Re||(Re={}));class J extends Error{constructor(e,t,r){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=r}static CommitFailedError(){return new J("Failed to create and push commit",Re.CommitFailedError)}static DetachedHEADError(e){return new J(e,Re.DetachedHEADError)}static CommitToProtectedBranchError(e){return new J(e,Re.CommitToProtectedBranchError)}static InvalidBranchNameError(e,t=!1){const r=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new J(r,Re.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new J(e,Re.InvalidCredentialsError,t)}static MergeConflictError(e){return new J(e,Re.MergeConflictError)}static NothingToCommitError(e){return new J(e,Re.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new J(t,Re.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new J(e,Re.SyncConflictsError)}static UnresolvedConflictsError(){return new J("You have unresolved merge conflicts.",Re.UnresolvedConflictsError)}static InvalidRepositoryError(){return new J("The current repository is invalid",Re.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:Re.Unknown}}i(J,"VirtualProviderError");const Je=6;var He;(function(n){n.Off="off",n.Auto="auto",n.Always="always"})(He||(He={}));var ke;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(ke||(ke={})),function(n){function e(t){return t===n.None||t===n.Latest||t===n.Match||t===n.TipPlusLatest?t:n.None}i(e,"sanitize"),n.sanitize=e}(ke||(ke={}));var k;(function(n){n.Browse="browse",n.Edit="edit"})(k||(k={})),function(n){function e(r){return r===n.Browse||r===n.Edit?r:n.Edit}i(e,"sanitize"),n.sanitize=e;function t(r){return r===n.Browse?n.Edit:n.Browse}i(t,"toggle"),n.toggle=t}(k||(k={}));var G;(function(n){function e(t,r){return t.display===r.display&&t.index===r.index}i(e,"equals"),n.equals=e})(G||(G={}));var ee;(function(n){const e=new Map([[F.Branch,ke.None],[F.RemoteBranch,ke.None],[F.PullRequestBranch,ke.Match],[F.PullRequestRemoteBranch,ke.Match],[F.Commit,ke.Match],[F.Tag,ke.Match]]),t=new Map([[F.Branch,k.Edit],[F.RemoteBranch,k.Edit],[F.PullRequestBranch,k.Browse],[F.PullRequestRemoteBranch,k.Browse],[F.Commit,k.Browse],[F.Tag,k.Browse]]);function r(s){var o,u;return{display:(o=t.get(s))!=null?o:k.Edit,index:(u=e.get(s))!=null?u:ke.None}}i(r,"getDefault"),n.getDefault=r;function a(s){switch(s){case F.Branch:case F.RemoteBranch:return{display:k.Browse,index:ke.Latest};case F.PullRequestBranch:case F.PullRequestRemoteBranch:return{display:k.Browse,index:ke.Match};case F.Commit:case F.Tag:return{display:k.Browse,index:ke.Match};default:return{display:k.Edit,index:ke.None}}}i(a,"getIndexDefault"),n.getIndexDefault=a})(ee||(ee={}));const le=null;var Fe=En(5179),Ge=En.n(Fe);const ve="modes",we="indexMemento";class ye{constructor(){this._onDidChange=new v.EventEmitter,this._onDidChangeAny=new v.EventEmitter,this.memoryState=new Map}static configure(e,t){ge.configPrefix=e,ge.state=t.workspaceState,t.subscriptions.push(v.workspace.onDidChangeConfiguration(ge.onConfigurationChanged,ge))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(ve),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(ve,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(we),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,r){const a=this.inspect(e,t);return a===void 0&&r!==void 0?r:(a==null?void 0:a.workspaceFolderValue)!==void 0?a.workspaceFolderValue:(a==null?void 0:a.workspaceValue)!==void 0?a.workspaceValue:a==null?void 0:a.globalValue}get(e,t,r){return r===void 0?v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,r)}getMode(e,t,r){var a;const s=e.toString();let o=this.modes!==void 0?this.modes[s]:void 0;if(o!==void 0)return{display:k.sanitize(o.display),index:ke.sanitize(o.index)};if(o=this.memoryState.get(s),o!==void 0)return o;if(t===F.Branch||t===F.RemoteBranch)switch((a=v.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:a.get("branch")){case"none":return{display:k.Edit,index:ke.None};case"latest":return{display:k.Browse,index:ke.Latest};case"tipPlusLatest":return{display:k.Edit,index:ke.TipPlusLatest}}if(!r)return ee.getDefault(t)}setMode(e,t){const r=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,t),Promise.resolve()):(this.modes[r]=t,this._state.update(ve,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(we,this.indexMemento))}getAny(e,t,r){return r===void 0?v.workspace.getConfiguration(void 0,t).get(e):v.workspace.getConfiguration(void 0,t).get(e,r)}changed(e,t,r){var a;return(a=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,r))!=null?a:!0}inspect(e,t){return v.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return v.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,r){const a=ge.inspect(e);if(a===void 0)return!1;let s=!1;return a.globalValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(a.globalValue):a.globalValue,v.ConfigurationTarget.Global),s=!0),a.workspaceValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(a.workspaceValue):a.workspaceValue,v.ConfigurationTarget.Workspace),s=!0),a.workspaceFolderValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(a.workspaceFolderValue):a.workspaceFolderValue,v.ConfigurationTarget.WorkspaceFolder),s=!0),!s&&r.fallbackValue!==void 0&&(await this.update(t,r.fallbackValue,v.ConfigurationTarget.Global),s=!0),s}async migrateIfMissing(e,t,r){const a=ge.inspect(e);if(a===void 0)return;const s=ge.inspect(t);a.globalValue!==void 0&&(s===void 0||s.globalValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(a.globalValue):a.globalValue,v.ConfigurationTarget.Global),a.workspaceValue!==void 0&&(s===void 0||s.workspaceValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(a.workspaceValue):a.workspaceValue,v.ConfigurationTarget.Workspace),a.workspaceFolderValue!==void 0&&(s===void 0||s.workspaceFolderValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(a.workspaceFolderValue):a.workspaceFolderValue,v.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,r){return v.workspace.getConfiguration(this.configPrefix).update(e,t,r)}updateAny(e,t,r,a){return v.workspace.getConfiguration(void 0,r===v.ConfigurationTarget.Global?void 0:a).update(e,t,r)}updateEffective(e,t){const r=ge.inspect(e);return r.workspaceFolderValue!==void 0?t===r.workspaceFolderValue?Promise.resolve(void 0):ge.update(e,t,v.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?t===r.workspaceValue?Promise.resolve(void 0):ge.update(e,t,v.ConfigurationTarget.Workspace):r.globalValue===t||r.globalValue===void 0&&t===r.defaultValue?Promise.resolve(void 0):ge.update(e,Ge()(t,r.defaultValue)?void 0:t,v.ConfigurationTarget.Global)}}i(ye,"Configuration");const ge=new ye,Ae="";var oe;(function(n){n.Off="off",n.Error="error",n.Warn="warn",n.Info="info",n.Debug="debug"})(oe||(oe={}));var Xe;(function(n){n[n.Off=0]="Off",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(Xe||(Xe={}));const Pe="[RemoteHub]",D=i(class{static configure(n,e,t){this._isDebugging=n.extensionMode===v.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=t}static enabled(n){return this.level>=this.toOrderedLevel(n)}static get logLevel(){return this._logLevel}static set logLevel(n){var e,t;this._logLevel=n,this.level=this.toOrderedLevel(n),n===oe.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(t=this.output)!=null?t:v.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(n){switch(n){case oe.Off:return 0;case oe.Error:return 1;case oe.Warn:return 2;case oe.Info:return 3;case oe.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(n,...e){D.isDebugging&&console.log(this.timestamp,Pe,n!=null?n:Ae,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ae}${this.toLoggableParams(!0,e)}`)}static error(n,e,...t){if(!(this.level<1&&!D.isDebugging)){if(e===void 0){const r=n instanceof Error?n.stack:void 0;if(r){const a=/.*\s*?at\s(.+?)\s/.exec(r);a!==null&&(e=a[1])}}D.isDebugging&&console.error(this.timestamp,Pe,e!=null?e:Ae,...t,n),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:Ae}${this.toLoggableParams(!1,t)}
${String(n)}`)}}static log(n,...e){D.isDebugging&&console.log(this.timestamp,Pe,n!=null?n:Ae,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ae}${this.toLoggableParams(!1,e)}`)}static warn(n,...e){D.isDebugging&&console.warn(this.timestamp,Pe,n!=null?n:Ae,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ae}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var n;(n=this.output)==null||n.show()}static toLoggable(n,e){if(typeof n!="object")return String(n);if(n instanceof v.Uri)return`Uri(${n.toString(!0)})`;try{return JSON.stringify(n,e)}catch{return"<error>"}}static toLoggableName(n){var e,t,r;let a;if(typeof n=="function"){if(n.prototype===void 0||n.prototype.constructor===void 0)return n.name;a=(e=n.prototype.constructor.name)!=null?e:Ae}else a=(r=(t=n.constructor)==null?void 0:t.name)!=null?r:Ae;const s=a.indexOf("_");return s===-1?a:a.substr(s+1)}static get timestamp(){const n=new Date;return`[${n.toISOString().replace(/T/," ").replace(/\..+/,Ae)}:${`00${n.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(n,e){if(e.length===0||n&&this.level<4&&!D.isDebugging)return Ae;const t=e.map(r=>this.toLoggable(r)).join(", ");return t.length!==0?` \u2014 ${t}`:Ae}},"_Logger");let X=D;X.level=0,X._logLevel=oe.Off;class fe{constructor(e){this.provider=e,this._timeout=0,this._disposable=ge.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=ge.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!ge.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await v.window.withProgress({location:v.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(r){X.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}i(fe,"AutoFetchService");function $e(){}i($e,"Diff"),$e.prototype={diff:i(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.callback;typeof r=="function"&&(a=r,r={}),this.options=r;var s=this;function o(Ce){return a?(setTimeout(function(){a(void 0,Ce)},0),!0):Ce}i(o,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,l=e.length,h=1,b=u+l,Z=[{newPos:-1,components:[]}],P=this.extractCommon(Z[0],t,e,0);if(Z[0].newPos+1>=u&&P+1>=l)return o([{value:this.join(t),count:t.length}]);function ae(){for(var Ce=-1*h;Ce<=h;Ce+=2){var xe=void 0,st=Z[Ce-1],vt=Z[Ce+1],Vt=(vt?vt.newPos:0)-Ce;st&&(Z[Ce-1]=void 0);var nn=st&&st.newPos+1<u,sn=vt&&0<=Vt&&Vt<l;if(!nn&&!sn){Z[Ce]=void 0;continue}if(!nn||sn&&st.newPos<vt.newPos?(xe=ht(vt),s.pushComponent(xe.components,void 0,!0)):(xe=st,xe.newPos++,s.pushComponent(xe.components,!0,void 0)),Vt=s.extractCommon(xe,t,e,Ce),xe.newPos+1>=u&&Vt+1>=l)return o(Ve(s,xe.components,t,e,s.useLongestToken));Z[Ce]=xe}h++}if(i(ae,"execEditLength"),a)i(function Ce(){setTimeout(function(){if(h>b)return a();ae()||Ce()},0)},"exec")();else for(;h<=b;){var Ie=ae();if(Ie)return Ie}},"diff"),pushComponent:i(function(e,t,r){var a=e[e.length-1];a&&a.added===t&&a.removed===r?e[e.length-1]={count:a.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},"pushComponent"),extractCommon:i(function(e,t,r,a){for(var s=t.length,o=r.length,u=e.newPos,l=u-a,h=0;u+1<s&&l+1<o&&this.equals(t[u+1],r[l+1]);)u++,l++,h++;return h&&e.components.push({count:h}),e.newPos=u,l},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Ve(n,e,t,r,a){for(var s=0,o=e.length,u=0,l=0;s<o;s++){var h=e[s];if(h.removed){if(h.value=n.join(r.slice(l,l+h.count)),l+=h.count,s&&e[s-1].added){var Z=e[s-1];e[s-1]=e[s],e[s]=Z}}else{if(!h.added&&a){var b=t.slice(u,u+h.count);b=b.map(function(ae,Ie){var Ce=r[l+Ie];return Ce.length>ae.length?Ce:ae}),h.value=n.join(b)}else h.value=n.join(t.slice(u,u+h.count));u+=h.count,h.added||(l+=h.count)}}var P=e[o-1];return o>1&&typeof P.value=="string"&&(P.added||P.removed)&&n.equals("",P.value)&&(e[o-2].value+=P.value,e.pop()),e}i(Ve,"buildValues");function ht(n){return{newPos:n.newPos,components:n.components.slice(0)}}i(ht,"clonePath");var Ye=new $e;function _t(n,e,t){return Ye.diff(n,e,t)}i(_t,"diffChars");function ut(n,e){if(typeof n=="function")e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}i(ut,"generateOptions");var Jt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Zt=/\S/,on=new $e;on.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!Zt.test(n)&&!Zt.test(e)},on.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&Jt.test(e[t])&&Jt.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function bn(n,e,t){return t=ut(t,{ignoreWhitespace:!0}),on.diff(n,e,t)}i(bn,"diffWords");function Qe(n,e,t){return on.diff(n,e,t)}i(Qe,"diffWordsWithSpace");var Et=new $e;Et.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var a=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=a:(this.options.ignoreWhitespace&&(a=a.trim()),e.push(a))}return e};function xt(n,e,t){return Et.diff(n,e,t)}i(xt,"diffLines");function wt(n,e,t){var r=ut(t,{ignoreWhitespace:!0});return Et.diff(n,e,r)}i(wt,"diffTrimmedLines");var Ht=new $e;Ht.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};function at(n,e,t){return Ht.diff(n,e,t)}i(at,"diffSentences");var Bt=new $e;Bt.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function jt(n,e,t){return Bt.diff(n,e,t)}i(jt,"diffCss");function Ut(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ut=i(function(e){return typeof e},"_typeof"):Ut=i(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Ut(n)}i(Ut,"_typeof");function Nt(n){return fn(n)||Sn(n)||lr(n)||Tn()}i(Nt,"_toConsumableArray");function fn(n){if(Array.isArray(n))return jn(n)}i(fn,"_arrayWithoutHoles");function Sn(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}i(Sn,"_iterableToArray");function lr(n,e){if(!!n){if(typeof n=="string")return jn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jn(n,e)}}i(lr,"_unsupportedIterableToArray");function jn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}i(jn,"_arrayLikeToArray");function Tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}i(Tn,"_nonIterableSpread");var wr=Object.prototype.toString,nr=new $e;nr.useLongestToken=!0,nr.tokenize=Et.tokenize,nr.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,a=r===void 0?function(s,o){return typeof o=="undefined"?t:o}:r;return typeof n=="string"?n:JSON.stringify(_r(n,null,null,a),a,"  ")},nr.equals=function(n,e){return $e.prototype.equals.call(nr,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Rr(n,e,t){return nr.diff(n,e,t)}i(Rr,"diffJson");function _r(n,e,t,r,a){e=e||[],t=t||[],r&&(n=r(a,n));var s;for(s=0;s<e.length;s+=1)if(e[s]===n)return t[s];var o;if(wr.call(n)==="[object Array]"){for(e.push(n),o=new Array(n.length),t.push(o),s=0;s<n.length;s+=1)o[s]=_r(n[s],e,t,r,a);return e.pop(),t.pop(),o}if(n&&n.toJSON&&(n=n.toJSON()),Ut(n)==="object"&&n!==null){e.push(n),o={},t.push(o);var u=[],l;for(l in n)n.hasOwnProperty(l)&&u.push(l);for(u.sort(),s=0;s<u.length;s+=1)l=u[s],o[l]=_r(n[l],e,t,r,l);e.pop(),t.pop()}else o=n;return o}i(_r,"canonicalize");var gr=new $e;gr.tokenize=function(n){return n.slice()},gr.join=gr.removeEmpty=function(n){return n};function Cr(n,e,t){return gr.diff(n,e,t)}i(Cr,"diffArrays");function re(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.split(/\r\n|[\n\v\f\r\x85]/),r=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=[],s=0;function o(){var h={};for(a.push(h);s<t.length;){var b=t[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(b))break;var Z=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(b);Z&&(h.index=Z[1]),s++}for(u(h),u(h),h.hunks=[];s<t.length;){var P=t[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(P))break;if(/^@@/.test(P))h.hunks.push(l());else{if(P&&e.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(P));s++}}}i(o,"parseIndex");function u(h){var b=/^(---|\+\+\+)\s+(.*)$/.exec(t[s]);if(b){var Z=b[1]==="---"?"old":"new",P=b[2].split("	",2),ae=P[0].replace(/\\\\/g,"\\");/^".*"$/.test(ae)&&(ae=ae.substr(1,ae.length-2)),h[Z+"FileName"]=ae,h[Z+"Header"]=(P[1]||"").trim(),s++}}i(u,"parseFileHeader");function l(){var h=s,b=t[s++],Z=b.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),P={oldStart:+Z[1],oldLines:typeof Z[2]=="undefined"?1:+Z[2],newStart:+Z[3],newLines:typeof Z[4]=="undefined"?1:+Z[4],lines:[],linedelimiters:[]};P.oldLines===0&&(P.oldStart+=1),P.newLines===0&&(P.newStart+=1);for(var ae=0,Ie=0;s<t.length&&!(t[s].indexOf("--- ")===0&&s+2<t.length&&t[s+1].indexOf("+++ ")===0&&t[s+2].indexOf("@@")===0);s++){var Ce=t[s].length==0&&s!=t.length-1?" ":t[s][0];if(Ce==="+"||Ce==="-"||Ce===" "||Ce==="\\")P.lines.push(t[s]),P.linedelimiters.push(r[s]||`
`),Ce==="+"?ae++:Ce==="-"?Ie++:Ce===" "&&(ae++,Ie++);else break}if(!ae&&P.newLines===1&&(P.newLines=0),!Ie&&P.oldLines===1&&(P.oldLines=0),e.strict){if(ae!==P.newLines)throw new Error("Added line count did not match for hunk at line "+(h+1));if(Ie!==P.oldLines)throw new Error("Removed line count did not match for hunk at line "+(h+1))}return P}for(i(l,"parseHunk");s<t.length;)o();return a}i(re,"parsePatch");function We(n,e,t){var r=!0,a=!1,s=!1,o=1;return i(function u(){if(r&&!s){if(a?o++:r=!1,n+o<=t)return o;s=!0}if(!a)return s||(r=!0),e<=n-o?-o++:(a=!0,u())},"iterator")}i(We,"distanceIterator");function qe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=re(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=n.split(/\r\n|[\n\v\f\r\x85]/),a=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,o=t.compareLine||function(Vn,Wn,Kn,zn){return Wn===zn},u=0,l=t.fuzzFactor||0,h=0,b=0,Z,P;function ae(Vn,Wn){for(var Kn=0;Kn<Vn.lines.length;Kn++){var zn=Vn.lines[Kn],br=zn.length>0?zn[0]:" ",Xn=zn.length>0?zn.substr(1):zn;if(br===" "||br==="-"){if(!o(Wn+1,r[Wn],br,Xn)&&(u++,u>l))return!1;Wn++}}return!0}i(ae,"hunkFits");for(var Ie=0;Ie<s.length;Ie++){for(var Ce=s[Ie],xe=r.length-Ce.oldLines,st=0,vt=b+Ce.oldStart-1,Vt=We(vt,h,xe);st!==void 0;st=Vt())if(ae(Ce,vt+st)){Ce.offset=b+=st;break}if(st===void 0)return!1;h=Ce.offset+Ce.oldStart+Ce.oldLines}for(var nn=0,sn=0;sn<s.length;sn++){var hn=s[sn],yn=hn.oldStart+hn.offset+nn-1;nn+=hn.newLines-hn.oldLines;for(var pe=0;pe<hn.lines.length;pe++){var je=hn.lines[pe],tt=je.length>0?je[0]:" ",St=je.length>0?je.substr(1):je,Qt=hn.linedelimiters[pe];if(tt===" ")yn++;else if(tt==="-")r.splice(yn,1),a.splice(yn,1);else if(tt==="+")r.splice(yn,0,St),a.splice(yn,0,Qt),yn++;else if(tt==="\\"){var an=hn.lines[pe-1]?hn.lines[pe-1][0]:null;an==="+"?Z=!0:an==="-"&&(P=!0)}}}if(Z)for(;!r[r.length-1];)r.pop(),a.pop();else P&&(r.push(""),a.push(`
`));for(var qt=0;qt<r.length-1;qt++)r[qt]=r[qt]+a[qt];return r.join("")}i(qe,"applyPatch");function ct(n,e){typeof n=="string"&&(n=re(n));var t=0;function r(){var a=n[t++];if(!a)return e.complete();e.loadFile(a,function(s,o){if(s)return e.complete(s);var u=qe(o,a,e);e.patched(a,u,function(l){if(l)return e.complete(l);r()})})}i(r,"processIndex"),r()}i(ct,"applyPatches");function bt(n,e,t,r,a,s,o){o||(o={}),typeof o.context=="undefined"&&(o.context=4);var u=xt(t,r,o);u.push({value:"",lines:[]});function l(st){return st.map(function(vt){return" "+vt})}i(l,"contextLines");for(var h=[],b=0,Z=0,P=[],ae=1,Ie=1,Ce=i(function(vt){var Vt=u[vt],nn=Vt.lines||Vt.value.replace(/\n$/,"").split(`
`);if(Vt.lines=nn,Vt.added||Vt.removed){var sn;if(!b){var hn=u[vt-1];b=ae,Z=Ie,hn&&(P=o.context>0?l(hn.lines.slice(-o.context)):[],b-=P.length,Z-=P.length)}(sn=P).push.apply(sn,Nt(nn.map(function(qt){return(Vt.added?"+":"-")+qt}))),Vt.added?Ie+=nn.length:ae+=nn.length}else{if(b)if(nn.length<=o.context*2&&vt<u.length-2){var yn;(yn=P).push.apply(yn,Nt(l(nn)))}else{var pe,je=Math.min(nn.length,o.context);(pe=P).push.apply(pe,Nt(l(nn.slice(0,je))));var tt={oldStart:b,oldLines:ae-b+je,newStart:Z,newLines:Ie-Z+je,lines:P};if(vt>=u.length-2&&nn.length<=o.context){var St=/\n$/.test(t),Qt=/\n$/.test(r),an=nn.length==0&&P.length>tt.oldLines;!St&&an&&t.length>0&&P.splice(tt.oldLines,0,"\\ No newline at end of file"),(!St&&!an||!Qt)&&P.push("\\ No newline at end of file")}h.push(tt),b=0,Z=0,P=[]}ae+=nn.length,Ie+=nn.length}},"_loop"),xe=0;xe<u.length;xe++)Ce(xe);return{oldFileName:n,newFileName:e,oldHeader:a,newHeader:s,hunks:h}}i(bt,"structuredPatch");function Tt(n){var e=[];n.oldFileName==n.newFileName&&e.push("Index: "+n.oldFileName),e.push("==================================================================="),e.push("--- "+n.oldFileName+(typeof n.oldHeader=="undefined"?"":"	"+n.oldHeader)),e.push("+++ "+n.newFileName+(typeof n.newHeader=="undefined"?"":"	"+n.newHeader));for(var t=0;t<n.hunks.length;t++){var r=n.hunks[t];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}i(Tt,"formatPatch");function Rn(n,e,t,r,a,s,o){return Tt(bt(n,e,t,r,a,s,o))}i(Rn,"createTwoFilesPatch");function An(n,e,t,r,a,s){return Rn(n,n,e,t,r,a,s)}i(An,"createPatch");function ft(n,e){return n.length!==e.length?!1:gt(n,e)}i(ft,"arrayEqual");function gt(n,e){if(e.length>n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}i(gt,"arrayStartsWith");function At(n){var e=It(n.lines),t=e.oldLines,r=e.newLines;t!==void 0?n.oldLines=t:delete n.oldLines,r!==void 0?n.newLines=r:delete n.newLines}i(At,"calcLineCount");function rt(n,e,t){n=kt(n,t),e=kt(e,t);var r={};(n.index||e.index)&&(r.index=n.index||e.index),(n.newFileName||e.newFileName)&&(Rt(n)?Rt(e)?(r.oldFileName=ot(r,n.oldFileName,e.oldFileName),r.newFileName=ot(r,n.newFileName,e.newFileName),r.oldHeader=ot(r,n.oldHeader,e.oldHeader),r.newHeader=ot(r,n.newHeader,e.newHeader)):(r.oldFileName=n.oldFileName,r.newFileName=n.newFileName,r.oldHeader=n.oldHeader,r.newHeader=n.newHeader):(r.oldFileName=e.oldFileName||n.oldFileName,r.newFileName=e.newFileName||n.newFileName,r.oldHeader=e.oldHeader||n.oldHeader,r.newHeader=e.newHeader||n.newHeader)),r.hunks=[];for(var a=0,s=0,o=0,u=0;a<n.hunks.length||s<e.hunks.length;){var l=n.hunks[a]||{oldStart:1/0},h=e.hunks[s]||{oldStart:1/0};if(Wt(l,h))r.hunks.push(Yt(l,o)),a++,u+=l.newLines-l.oldLines;else if(Wt(h,l))r.hunks.push(Yt(h,u)),s++,o+=h.newLines-h.oldLines;else{var b={oldStart:Math.min(l.oldStart,h.oldStart),oldLines:0,newStart:Math.min(l.newStart+o,h.oldStart+u),newLines:0,lines:[]};ln(b,l.oldStart,l.lines,h.oldStart,h.lines),s++,a++,r.hunks.push(b)}}return r}i(rt,"merge");function kt(n,e){if(typeof n=="string"){if(/^@@/m.test(n)||/^Index:/m.test(n))return re(n)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return bt(void 0,void 0,e,n)}return n}i(kt,"loadPatch");function Rt(n){return n.newFileName&&n.newFileName!==n.oldFileName}i(Rt,"fileNameChanged");function ot(n,e,t){return e===t?e:(n.conflict=!0,{mine:e,theirs:t})}i(ot,"selectField");function Wt(n,e){return n.oldStart<e.oldStart&&n.oldStart+n.oldLines<e.oldStart}i(Wt,"hunkBefore");function Yt(n,e){return{oldStart:n.oldStart,oldLines:n.oldLines,newStart:n.newStart+e,newLines:n.newLines,lines:n.lines}}i(Yt,"cloneHunk");function ln(n,e,t,r,a){var s={offset:e,lines:t,index:0},o={offset:r,lines:a,index:0};for(wn(n,s,o),wn(n,o,s);s.index<s.lines.length&&o.index<o.lines.length;){var u=s.lines[s.index],l=o.lines[o.index];if((u[0]==="-"||u[0]==="+")&&(l[0]==="-"||l[0]==="+"))un(n,s,o);else if(u[0]==="+"&&l[0]===" "){var h;(h=n.lines).push.apply(h,Nt(yt(s)))}else if(l[0]==="+"&&u[0]===" "){var b;(b=n.lines).push.apply(b,Nt(yt(o)))}else u[0]==="-"&&l[0]===" "?xn(n,s,o):l[0]==="-"&&u[0]===" "?xn(n,o,s,!0):u===l?(n.lines.push(u),s.index++,o.index++):vn(n,yt(s),yt(o))}rn(n,s),rn(n,o),At(n)}i(ln,"mergeLines");function un(n,e,t){var r=yt(e),a=yt(t);if($t(r)&&$t(a)){if(gt(r,a)&&dn(t,r,r.length-a.length)){var s;(s=n.lines).push.apply(s,Nt(r));return}else if(gt(a,r)&&dn(e,a,a.length-r.length)){var o;(o=n.lines).push.apply(o,Nt(a));return}}else if(ft(r,a)){var u;(u=n.lines).push.apply(u,Nt(r));return}vn(n,r,a)}i(un,"mutualChange");function xn(n,e,t,r){var a=yt(e),s=zt(t,a);if(s.merged){var o;(o=n.lines).push.apply(o,Nt(s.merged))}else vn(n,r?s:a,r?a:s)}i(xn,"removal");function vn(n,e,t){n.conflict=!0,n.lines.push({conflict:!0,mine:e,theirs:t})}i(vn,"conflict");function wn(n,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];n.lines.push(r),e.offset++}}i(wn,"insertLeading");function rn(n,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];n.lines.push(t)}}i(rn,"insertTrailing");function yt(n){for(var e=[],t=n.lines[n.index][0];n.index<n.lines.length;){var r=n.lines[n.index];if(t==="-"&&r[0]==="+"&&(t="+"),t===r[0])e.push(r),n.index++;else break}return e}i(yt,"collectChange");function zt(n,e){for(var t=[],r=[],a=0,s=!1,o=!1;a<e.length&&n.index<n.lines.length;){var u=n.lines[n.index],l=e[a];if(l[0]==="+")break;if(s=s||u[0]!==" ",r.push(l),a++,u[0]==="+")for(o=!0;u[0]==="+";)t.push(u),u=n.lines[++n.index];l.substr(1)===u.substr(1)?(t.push(u),n.index++):o=!0}if((e[a]||"")[0]==="+"&&s&&(o=!0),o)return t;for(;a<e.length;)r.push(e[a++]);return{merged:r,changes:t}}i(zt,"collectContext");function $t(n){return n.reduce(function(e,t){return e&&t[0]==="-"},!0)}i($t,"allRemoves");function dn(n,e,t){for(var r=0;r<t;r++){var a=e[e.length-t+r].substr(1);if(n.lines[n.index+r]!==" "+a)return!1}return n.index+=t,!0}i(dn,"skipRemoveSuperset");function It(n){var e=0,t=0;return n.forEach(function(r){if(typeof r!="string"){var a=It(r.mine),s=It(r.theirs);e!==void 0&&(a.oldLines===s.oldLines?e+=a.oldLines:e=void 0),t!==void 0&&(a.newLines===s.newLines?t+=a.newLines:t=void 0)}else t!==void 0&&(r[0]==="+"||r[0]===" ")&&t++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:t}}i(It,"calcOldNewLineCount");function Xt(n){for(var e=[],t,r,a=0;a<n.length;a++)t=n[a],t.added?r=1:t.removed?r=-1:r=0,e.push([r,t.value]);return e}i(Xt,"convertChangesToDMP");function cn(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(mn(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}i(cn,"convertChangesToXML");function mn(n){var e=n;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}i(mn,"escapeHTML");var Kt=/[^a-zA-Z0-9]/,pn=/\s/,Ln=/[\r\n]/,_n=/\n\r?\n$/,Un=/^\r?\n\r?\n/,Be;(function(n){n[n.DIFF_DELETE=-1]="DIFF_DELETE",n[n.DIFF_INSERT=1]="DIFF_INSERT",n[n.DIFF_EQUAL=0]="DIFF_EQUAL"})(Be||(Be={}));function In(n,e){return n<e?n:e}i(In,"min");function Lt(n,e){return n>e?n:e}i(Lt,"max");var mt=Ke,On=function(){function n(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return i(n,"PatchObject"),n.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var r=["@@ -"+e+" +"+t+` @@
`],a,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case Be.DIFF_INSERT:a="+";break;case Be.DIFF_DELETE:a="-";break;case Be.DIFF_EQUAL:a=" ";break}r[s+1]=a+encodeURI(this.diffs[s][1])+`
`}return r.join("").replace(/%20/g," ")},n}(),cr=function(){function n(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return i(n,"DiffMatchPatch"),n.prototype.diff_main=function(e,t,r,a){typeof a=="undefined"&&(this.diffTimeout<=0?a=Number.MAX_VALUE:a=Date.now()+this.diffTimeout*1e3);var s=a;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[Be.DIFF_EQUAL,e]]:[];typeof r=="undefined"&&(r=!0);var o=r,u=this.diff_commonPrefix(e,t),l=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var h=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var b=this.diff_compute_(e,t,o,s);return l&&b.unshift([Be.DIFF_EQUAL,l]),h&&b.push([Be.DIFF_EQUAL,h]),this.diff_cleanupMerge(b),b},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,a=mt.min(e.length,t.length),s=a,o=0;r<s;)e.substring(o,s)===t.substring(o,s)?(r=s,o=r):a=s,s=Math.floor((a-r)/2+r);return s},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var r=0,a=mt.min(e.length,t.length),s=a,o=0;r<s;)e.substring(e.length-s,e.length-o)===t.substring(t.length-s,t.length-o)?(r=s,o=r):a=s,s=Math.floor((a-r)/2+r);return s},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],a=0,s=null,o=0,u=0,l=0,h=0,b=0;o<e.length;)e[o][0]===Be.DIFF_EQUAL?(r[a++]=o,u=h,l=b,h=0,b=0,s=e[o][1]):(e[o][0]===Be.DIFF_INSERT?h+=e[o][1].length:b+=e[o][1].length,s&&s.length<=mt.max(u,l)&&s.length<=mt.max(h,b)&&(e.splice(r[a-1],0,[Be.DIFF_DELETE,s]),e[r[a-1]+1][0]=Be.DIFF_INSERT,a--,a--,o=a>0?r[a-1]:-1,u=0,l=0,h=0,b=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]===Be.DIFF_DELETE&&e[o][0]===Be.DIFF_INSERT){var Z=e[o-1][1],P=e[o][1],ae=this.diff_commonOverlap_(Z,P),Ie=this.diff_commonOverlap_(P,Z);ae>=Ie?(ae>=Z.length/2||ae>=P.length/2)&&(e.splice(o,0,[Be.DIFF_EQUAL,P.substring(0,ae)]),e[o-1][1]=Z.substring(0,Z.length-ae),e[o+1][1]=P.substring(ae),o++):(Ie>=Z.length/2||Ie>=P.length/2)&&(e.splice(o,0,[Be.DIFF_EQUAL,Z.substring(0,Ie)]),e[o-1][0]=Be.DIFF_INSERT,e[o-1][1]=P.substring(0,P.length-Ie),e[o+1][0]=Be.DIFF_DELETE,e[o+1][1]=Z.substring(Ie),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===Be.DIFF_EQUAL&&e[t+1][0]===Be.DIFF_EQUAL){var r=e[t-1][1],a=e[t][1],s=e[t+1][1],o=this.diff_commonSuffix(r,a);if(o){var u=a.substring(a.length-o);r=r.substring(0,r.length-o),a=u+a.substring(0,a.length-o),s=u+s}for(var l=r,h=a,b=s,Z=this.diff_cleanupSemanticScore_(r,a)+this.diff_cleanupSemanticScore_(a,s);a.charAt(0)===s.charAt(0);){r+=a.charAt(0),a=a.substring(1)+s.charAt(0),s=s.substring(1);var P=this.diff_cleanupSemanticScore_(r,a)+this.diff_cleanupSemanticScore_(a,s);P>=Z&&(Z=P,l=r,h=a,b=s)}e[t-1][1]!==l&&(l?e[t-1][1]=l:(e.splice(t-1,1),t--),e[t][1]=h,b?e[t+1][1]=b:(e.splice(t+1,1),t--))}t++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],a=0,s=null,o=0,u=!1,l=!1,h=!1,b=!1;o<e.length;)e[o][0]===Be.DIFF_EQUAL?(e[o][1].length<this.diffEditCost&&(h||b)?(r[a++]=o,u=h,l=b,s=e[o][1]):(a=0,s=null),h=b=!1):(e[o][0]===Be.DIFF_DELETE?b=!0:h=!0,s&&(u&&l&&h&&b||s.length<this.diffEditCost/2&&Number(u)+Number(l)+Number(h)+Number(b)===3)&&(e.splice(r[a-1],0,[Be.DIFF_DELETE,s]),e[r[a-1]+1][0]=Be.DIFF_INSERT,a--,s=null,u&&l?(h=b=!0,a=0):(a--,o=a>0?r[a-1]:-1,h=b=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([Be.DIFF_EQUAL,""]);for(var t=0,r=0,a=0,s="",o="",u;t<e.length;)switch(e[t][0]){case Be.DIFF_INSERT:a++,o+=e[t][1],t++;break;case Be.DIFF_DELETE:r++,s+=e[t][1],t++;break;case Be.DIFF_EQUAL:r+a>1?(r!==0&&a!==0&&(u=this.diff_commonPrefix(o,s),u!==0&&(t-r-a>0&&e[t-r-a-1][0]===Be.DIFF_EQUAL?e[t-r-a-1][1]+=o.substring(0,u):(e.splice(0,0,[Be.DIFF_EQUAL,o.substring(0,u)]),t++),o=o.substring(u),s=s.substring(u)),u=this.diff_commonSuffix(o,s),u!==0&&(e[t][1]=o.substring(o.length-u)+e[t][1],o=o.substring(0,o.length-u),s=s.substring(0,s.length-u))),t-=r+a,e.splice(t,r+a),s.length&&(e.splice(t,0,[Be.DIFF_DELETE,s]),t++),o.length&&(e.splice(t,0,[Be.DIFF_INSERT,o]),t++),t++):t!==0&&e[t-1][0]===Be.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,a=0,r=0,s="",o="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(t=1;t<e.length-1;)e[t-1][0]===Be.DIFF_EQUAL&&e[t+1][0]===Be.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var r=0,a=0,s=0,o=0,u;for(u=0;u<e.length&&(e[u][0]!==Be.DIFF_INSERT&&(r+=e[u][1].length),e[u][0]!==Be.DIFF_DELETE&&(a+=e[u][1].length),!(r>t));u++)s=r,o=a;return e.length!==u&&e[u][0]===Be.DIFF_DELETE?o:o+(t-s)},n.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,a=/</g,s=/>/g,o=/\n/g,u=0;u<e.length;u++){var l=e[u][0],h=e[u][1],b=h.replace(r,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case Be.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+b+"</ins>";break;case Be.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+b+"</del>";break;case Be.DIFF_EQUAL:t[u]="<span>"+b+"</span>";break}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==Be.DIFF_INSERT&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==Be.DIFF_DELETE&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,r=0,a=0,s=0;s<e.length;s++){var o=e[s][0],u=e[s][1];switch(o){case Be.DIFF_INSERT:r+=u.length;break;case Be.DIFF_DELETE:a+=u.length;break;case Be.DIFF_EQUAL:t+=mt.max(r,a),r=0,a=0;break}}return t+=mt.max(r,a),t},n.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case Be.DIFF_INSERT:t[r]="+"+encodeURI(e[r][1]);break;case Be.DIFF_DELETE:t[r]="-"+e[r][1].length;break;case Be.DIFF_EQUAL:t[r]="="+e[r][1].length;break}return t.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],a=0,s=0,o=t.split(/\t/g),u=0;u<o.length;u++){var l=o[u].substring(1);switch(o[u].charAt(0)){case"+":try{r[a++]=[Be.DIFF_INSERT,decodeURI(l)]}catch(Z){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+l);var b=e.substring(s,s+=h);o[u].charAt(0)==="="?r[a++]=[Be.DIFF_EQUAL,b]:r[a++]=[Be.DIFF_DELETE,b];break;default:if(o[u])throw new Error("Invalid diff operation in diff_fromDelta: "+o[u])}}if(s!==e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+")");return r},n.prototype.diff_linesToChars=function(e,t){var r=[],a={};r[0]="";var s=this.diff_linesToCharsMunge_(e,r,a,4e4),o=this.diff_linesToCharsMunge_(t,r,a,65535);return{chars1:s,chars2:o,lineArray:r}},n.prototype.diff_charsToLines=function(e,t){for(var r=0;r<e.length;r++){for(var a=e[r][1],s=[],o=0;o<a.length;o++)s[o]=t[a.charCodeAt(o)];e[r][1]=s.join("")}},n.prototype.match_main=function(e,t,r){if(e==null||t==null||r==null)throw new Error("Null input. (match_main)");return r=mt.max(0,mt.min(r,e.length)),e===t?0:e.length?e.substring(r,r+t.length)===t?r:this.match_bitap_(e,t,r):-1},n.prototype.patch_make=function(e,t,r){var a,s;if(typeof e=="string"&&typeof t=="string"&&typeof r=="undefined")a=e,s=this.diff_main(a,t,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof r=="undefined")s=e,a=this.diff_text1(s);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof r=="undefined")a=e,s=t;else if(typeof e=="string"&&typeof t=="string"&&r&&typeof r=="object")a=e,s=r;else throw new Error("Unknown call format to patch_make");if(s.length===0)return[];for(var o=[],u=new On,l=0,h=0,b=0,Z=a,P=a,ae=0;ae<s.length;ae++){var Ie=s[ae][0],Ce=s[ae][1];switch(!l&&Ie!==Be.DIFF_EQUAL&&(u.start1=h,u.start2=b),Ie){case Be.DIFF_INSERT:u.diffs[l++]=s[ae],u.length2+=Ce.length,P=P.substring(0,b)+Ce+P.substring(b);break;case Be.DIFF_DELETE:u.length1+=Ce.length,u.diffs[l++]=s[ae],P=P.substring(0,b)+P.substring(b+Ce.length);break;case Be.DIFF_EQUAL:Ce.length<=2*this.patchMargin&&l&&s.length!==ae+1?(u.diffs[l++]=s[ae],u.length1+=Ce.length,u.length2+=Ce.length):Ce.length>=2*this.patchMargin&&l&&(this.patch_addContext_(u,Z),o.push(u),u=new On,l=0,Z=P,h=b);break}Ie!==Be.DIFF_INSERT&&(h+=Ce.length),Ie!==Be.DIFF_DELETE&&(b+=Ce.length)}return l&&(this.patch_addContext_(u,Z),o.push(u)),o},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){for(var a=e[r],s=new On,o=0;o<a.diffs.length;o++)s.diffs[o]=[a.diffs[o][0],a.diffs[o][1]];s.start1=a.start1,s.start2=a.start2,s.length1=a.length1,s.length2=a.length2,t[r]=s}return t},n.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var a=0,s=[],o=0;o<e.length;o++){var u=e[o].start2+a,l=this.diff_text1(e[o].diffs),h=void 0,b=-1;if(l.length>this.matchMaxBits?(h=this.match_main(t,l.substring(0,this.matchMaxBits),u),h!==-1&&(b=this.match_main(t,l.substring(l.length-this.matchMaxBits),u+l.length-this.matchMaxBits),(b===-1||h>=b)&&(h=-1))):h=this.match_main(t,l,u),h===-1)s[o]=!1,a-=e[o].length2-e[o].length1;else{s[o]=!0,a=h-u;var Z=void 0;if(b===-1?Z=t.substring(h,h+l.length):Z=t.substring(h,b+this.matchMaxBits),l===Z)t=t.substring(0,h)+this.diff_text2(e[o].diffs)+t.substring(h+l.length);else{var P=this.diff_main(l,Z,!1);if(l.length>this.matchMaxBits&&this.diff_levenshtein(P)/l.length>this.patchDeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(P);for(var ae=0,Ie=0,Ce=0;Ce<e[o].diffs.length;Ce++){var xe=e[o].diffs[Ce];xe[0]!==Be.DIFF_EQUAL&&(Ie=this.diff_xIndex(P,ae)),xe[0]===Be.DIFF_INSERT?t=t.substring(0,h+Ie)+xe[1]+t.substring(h+Ie):xe[0]===Be.DIFF_DELETE&&(t=t.substring(0,h+Ie)+t.substring(h+this.diff_xIndex(P,ae+xe[1].length))),xe[0]!==Be.DIFF_DELETE&&(ae+=xe[1].length)}}}}}return t=t.substring(r.length,t.length-r.length),[t,s]},n.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,r="",a=1;a<=t;a++)r+=String.fromCharCode(a);for(var a=0;a<e.length;a++)e[a].start1+=t,e[a].start2+=t;var s=e[0],o=s.diffs;if(o.length===0||o[0][0]!==Be.DIFF_EQUAL)o.unshift([Be.DIFF_EQUAL,r]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var u=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=u,s.start2-=u,s.length1+=u,s.length2+=u}if(s=e[e.length-1],o=s.diffs,o.length===0||o[o.length-1][0]!==Be.DIFF_EQUAL)o.push([Be.DIFF_EQUAL,r]),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){var u=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,u),s.length1+=u,s.length2+=u}return r},n.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var a=e[r];e.splice(r--,1);for(var s=a.start1,o=a.start2,u="";a.diffs.length!==0;){var l=new On,h=!0;for(l.start1=s-u.length,l.start2=o-u.length,u!==""&&(l.length1=l.length2=u.length,l.diffs.push([Be.DIFF_EQUAL,u]));a.diffs.length!==0&&l.length1<t-this.patchMargin;){var b=a.diffs[0][0],Z=a.diffs[0][1];b===Be.DIFF_INSERT?(l.length2+=Z.length,o+=Z.length,l.diffs.push(a.diffs.shift()),h=!1):b===Be.DIFF_DELETE&&l.diffs.length===1&&l.diffs[0][0]===Be.DIFF_EQUAL&&Z.length>2*t?(l.length1+=Z.length,s+=Z.length,h=!1,l.diffs.push([b,Z]),a.diffs.shift()):(Z=Z.substring(0,t-l.length1-this.patchMargin),l.length1+=Z.length,s+=Z.length,b===Be.DIFF_EQUAL?(l.length2+=Z.length,o+=Z.length):h=!1,l.diffs.push([b,Z]),Z===a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(Z.length))}u=this.diff_text2(l.diffs),u=u.substring(u.length-this.patchMargin);var P=this.diff_text1(a.diffs).substring(0,this.patchMargin);P!==""&&(l.length1+=P.length,l.length2+=P.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===Be.DIFF_EQUAL?l.diffs[l.diffs.length-1][1]+=P:l.diffs.push([Be.DIFF_EQUAL,P])),h||e.splice(++r,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split(`
`),a=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<r.length;){var o=r[a].match(s);if(!o)throw new Error("Invalid patch string: "+r[a]);var u=new On;t.push(u),u.start1=parseInt(o[1],10),o[2]===""?(u.start1--,u.length1=1):o[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(o[2],10)),u.start2=parseInt(o[3],10),o[4]===""?(u.start2--,u.length2=1):o[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(o[4],10)),a++;for(var l=void 0,h=void 0,b=void 0;a<r.length;){l=r[a].charAt(0),b=r[a].substring(1);try{h=decodeURI(b)}catch(Z){throw new Error("Illegal escape in patch_fromText: "+b)}if(l==="-")u.diffs.push([Be.DIFF_DELETE,h]);else if(l==="+")u.diffs.push([Be.DIFF_INSERT,h]);else if(l===" ")u.diffs.push([Be.DIFF_EQUAL,h]);else{if(l==="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+h)}a++}}return t},n.prototype.diff_compute_=function(e,t,r,a){var s;if(!e)return[[Be.DIFF_INSERT,t]];if(!t)return[[Be.DIFF_DELETE,e]];var o=e.length>t.length?e:t,u=e.length>t.length?t:e,l=o.indexOf(u);if(l!==-1)return s=[[Be.DIFF_INSERT,o.substring(0,l)],[Be.DIFF_EQUAL,u],[Be.DIFF_INSERT,o.substring(l+u.length)]],e.length>t.length&&(s[0][0]=Be.DIFF_DELETE,s[2][0]=Be.DIFF_DELETE),s;if(u.length===1)return[[Be.DIFF_DELETE,e],[Be.DIFF_INSERT,t]];var h=this.diff_halfMatch_(e,t);if(h){var b=h[0],Z=h[1],P=h[2],ae=h[3],Ie=h[4],Ce=this.diff_main(b,P,r,a),xe=this.diff_main(Z,ae,r,a);return Ce.concat([[Be.DIFF_EQUAL,Ie]],xe)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,a):this.diff_bisect_(e,t,a)},n.prototype.diff_lineMode_=function(e,t,r){var a=this.diff_linesToChars(e,t);e=a.chars1,t=a.chars2;var s=a.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines(o,s),this.diff_cleanupSemantic(o),o.push([Be.DIFF_EQUAL,""]);for(var u=0,l=0,h=0,b="",Z="";u<o.length;){switch(o[u][0]){case Be.DIFF_INSERT:h++,Z+=o[u][1];break;case Be.DIFF_DELETE:l++,b+=o[u][1];break;case Be.DIFF_EQUAL:if(l>=1&&h>=1){o.splice(u-l-h,l+h),u=u-l-h;for(var P=this.diff_main(b,Z,!1,r),ae=P.length-1;ae>=0;ae--)o.splice(u,0,P[ae]);u=u+P.length}h=0,l=0,b="",Z="";break}u++}return o.pop(),o},n.prototype.diff_bisect_=function(e,t,r){for(var a=e.length,s=t.length,o=Math.ceil((a+s)/2),u=o,l=2*o,h=new Array(l),b=new Array(l),Z=0;Z<l;Z++)h[Z]=-1,b[Z]=-1;h[u+1]=0,b[u+1]=0;for(var P=a-s,ae=P%2!=0,Ie=0,Ce=0,xe=0,st=0,vt=0;vt<o&&!(Date.now()>r);vt++){for(var Vt=-vt+Ie;Vt<=vt-Ce;Vt+=2){var nn=u+Vt,sn=void 0;Vt===-vt||Vt!==vt&&h[nn-1]<h[nn+1]?sn=h[nn+1]:sn=h[nn-1]+1;for(var hn=sn-Vt;sn<a&&hn<s&&e.charAt(sn)===t.charAt(hn);)sn++,hn++;if(h[nn]=sn,sn>a)Ce+=2;else if(hn>s)Ie+=2;else if(ae){var yn=u+P-Vt;if(yn>=0&&yn<l&&b[yn]!==-1){var pe=a-b[yn];if(sn>=pe)return this.diff_bisectSplit_(e,t,sn,hn,r)}}}for(var je=-vt+xe;je<=vt-st;je+=2){var yn=u+je,pe=void 0;je===-vt||je!==vt&&b[yn-1]<b[yn+1]?pe=b[yn+1]:pe=b[yn-1]+1;for(var tt=pe-je;pe<a&&tt<s&&e.charAt(a-pe-1)===t.charAt(s-tt-1);)pe++,tt++;if(b[yn]=pe,pe>a)st+=2;else if(tt>s)xe+=2;else if(!ae){var nn=u+P-je;if(nn>=0&&nn<l&&h[nn]!==-1){var sn=h[nn],hn=u+sn-nn;if(pe=a-pe,sn>=pe)return this.diff_bisectSplit_(e,t,sn,hn,r)}}}}return[[Be.DIFF_DELETE,e],[Be.DIFF_INSERT,t]]},n.prototype.diff_bisectSplit_=function(e,t,r,a,s){var o=e.substring(0,r),u=t.substring(0,a),l=e.substring(r),h=t.substring(a),b=this.diff_main(o,u,!1,s),Z=this.diff_main(l,h,!1,s);return b.concat(Z)},n.prototype.diff_linesToCharsMunge_=function(e,t,r,a){for(var s="",o=0,u=-1,l=t.length;u<e.length-1;){u=e.indexOf(`
`,o),u===-1&&(u=e.length-1);var h=e.substring(o,u+1);(r.hasOwnProperty?r.hasOwnProperty(h):r[h]!==void 0)?s+=String.fromCharCode(r[h]):(l===a&&(h=e.substring(o),u=e.length),s+=String.fromCharCode(l),r[h]=l,t[l++]=h),o=u+1}return s},n.prototype.diff_commonOverlap_=function(e,t){var r=e.length,a=t.length;if(r===0||a===0)return 0;r>a?e=e.substring(r-a):r<a&&(t=t.substring(0,r));var s=mt.min(r,a);if(e===t)return s;for(var o=0,u=1;;){var l=e.substring(s-u),h=t.indexOf(l);if(h===-1)return o;u+=h,(h===0||e.substring(s-u)===t.substring(0,u))&&(o=u,u++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var r=e.length>t.length?e:t,a=e.length>t.length?t:e;if(r.length<4||a.length*2<r.length)return null;var s=this.diff_halfMatchI_(r,a,Math.ceil(r.length/4)),o=this.diff_halfMatchI_(r,a,Math.ceil(r.length/2)),u;if(!s&&!o)return null;o?s?u=s[4].length>o[4].length?s:o:u=o:u=s;var l,h,b,Z,P=u[4];return e.length>t.length?(l=u[0],h=u[1],b=u[2],Z=u[3]):(b=u[0],Z=u[1],l=u[2],h=u[3]),[l,h,b,Z,P]},n.prototype.diff_halfMatchI_=function(e,t,r){for(var a=e.substring(r,r+Math.floor(e.length/4)),s="",o,u,l,h,b=t.indexOf(a,0);b!==-1;){var Z=this.diff_commonPrefix(e.substring(r),t.substring(b)),P=this.diff_commonSuffix(e.substring(0,r),t.substring(0,b));s.length<P+Z&&(s=t.substring(b-P,b)+t.substring(b,b+Z),o=e.substring(0,r-P),u=e.substring(r+Z),l=t.substring(0,b-P),h=t.substring(b+Z)),b=t.indexOf(a,b+1)}return s.length*2>=e.length?[o,u,l,h,s]:null},n.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),a=t.charAt(0),s=r.match(Kt),o=a.match(Kt),u=s&&r.match(pn),l=o&&a.match(pn),h=u&&r.match(Ln),b=l&&a.match(Ln),Z=h&&e.match(_n),P=b&&t.match(Un);return Z||P?5:h||b?4:s&&!u&&l?3:u||l?2:s||o?1:0},n.prototype.match_bitap_=function(e,t,r){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var a=this.match_alphabet_(t),s=this.matchThreshold,o=e.indexOf(t,r);o!==-1&&(s=mt.min(this.match_bitapScore_(0,o,t,r),s),o=e.lastIndexOf(t,r+t.length),o!==-1&&(s=mt.min(this.match_bitapScore_(0,o,t,r),s)));var u=1<<t.length-1;o=-1;for(var l,h,b=t.length+e.length,Z,P=0;P<t.length;P++){for(l=0,h=b;l<h;)this.match_bitapScore_(P,r+h,t,r)<=s?l=h:b=h,h=Math.floor((b-l)/2+l);b=h;var ae=mt.max(1,r-h+1),Ie=mt.min(r+h,e.length)+t.length,Ce=Array(Ie+2);Ce[Ie+1]=(1<<P)-1;for(var xe=Ie;xe>=ae;xe--){var st=a[e.charAt(xe-1)];if(P===0?Ce[xe]=(Ce[xe+1]<<1|1)&st:Ce[xe]=(Ce[xe+1]<<1|1)&st|((Z[xe+1]|Z[xe])<<1|1)|Z[xe+1],Ce[xe]&u){var vt=this.match_bitapScore_(P,xe-1,t,r);if(vt<=s)if(s=vt,o=xe-1,o>r)ae=mt.max(1,2*r-o);else break}}if(this.match_bitapScore_(P+1,r,t,r)>s)break;Z=Ce}return o},n.prototype.match_bitapScore_=function(e,t,r,a){var s=e/r.length,o=Math.abs(a-t);return this.matchDistance?s+o/this.matchDistance:o?1:s},n.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(var r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},n.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),a=0;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)a+=this.patchMargin,r=t.substring(e.start2-a,e.start2+e.length1+a);a+=this.patchMargin;var s=t.substring(e.start2-a,e.start2);s&&e.diffs.unshift([Be.DIFF_EQUAL,s]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+a);o&&e.diffs.push([Be.DIFF_EQUAL,o]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},n}();function Hn(n,e){let t={};for(let s=0;s<e.length;s++){const o=e[s];t[o]?t[o].push(s):t[o]=[s]}let a=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let s=0;s<n.length;s++){const o=n[s],u=t[o]||[];let l=0,h=a[0];for(let b=0;b<u.length;b++){const Z=u[b];let P;for(P=l;P<a.length&&!(a[P].buffer2index<Z&&(P===a.length-1||a[P+1].buffer2index>Z));P++);if(P<a.length){const ae={buffer1index:s,buffer2index:Z,chain:a[P]};if(l===a.length?a.push(h):a[l]=h,l=P+1,h=ae,l===a.length)break}}a[l]=h}return a[a.length-1]}i(Hn,"LCS");function Qn(n,e){const t=Hn(n,e);let r=[],a=n.length,s=e.length,o={common:[]};function u(){o.common.length&&(o.common.reverse(),r.push(o),o={common:[]})}i(u,"processCommon");for(let l=t;l!==null;l=l.chain){let h={buffer1:[],buffer2:[]};for(;--a>l.buffer1index;)h.buffer1.push(n[a]);for(;--s>l.buffer2index;)h.buffer2.push(e[s]);(h.buffer1.length||h.buffer2.length)&&(u(),h.buffer1.reverse(),h.buffer2.reverse(),r.push(h)),a>=0&&o.common.push(n[a])}return u(),r.reverse(),r}i(Qn,"diffComm");function kn(n,e){const t=Hn(n,e);let r=[],a=n.length,s=e.length;for(let o=t;o!==null;o=o.chain){const u=a-o.buffer1index-1,l=s-o.buffer2index-1;a=o.buffer1index,s=o.buffer2index,(u||l)&&r.push({buffer1:[a+1,u],buffer1Content:n.slice(a+1,a+1+u),buffer2:[s+1,l],buffer2Content:e.slice(s+1,s+1+l)})}return r.reverse(),r}i(kn,"diffIndices");function Dr(n,e){const t=Hn(n,e);let r=[],a=n.length,s=e.length;function o(u,l,h){let b=[];for(let Z=0;Z<h;Z++)b.push(u[l+Z]);return{offset:l,length:h,chunk:b}}i(o,"chunkDescription");for(let u=t;u!==null;u=u.chain){const l=a-u.buffer1index-1,h=s-u.buffer2index-1;a=u.buffer1index,s=u.buffer2index,(l||h)&&r.push({buffer1:o(n,u.buffer1index+1,l),buffer2:o(e,u.buffer2index+1,h)})}return r.reverse(),r}i(Dr,"diffPatch");function Jn(n,e,t){let r=[];function a(l,h){r.push({ab:h,oStart:l.buffer1[0],oLength:l.buffer1[1],abStart:l.buffer2[0],abLength:l.buffer2[1]})}i(a,"addHunk"),kn(e,n).forEach(l=>a(l,"a")),kn(e,t).forEach(l=>a(l,"b")),r.sort((l,h)=>l.oStart-h.oStart);let s=[],o=0;function u(l){l>o&&(s.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:l-o,bufferContent:e.slice(o,l)}),o=l)}for(i(u,"advanceTo");r.length;){let l=r.shift(),h=l.oStart,b=l.oStart+l.oLength,Z=[l];for(u(h);r.length;){const P=r[0],ae=P.oStart;if(ae>b)break;b=Math.max(b,ae+P.oLength),Z.push(r.shift())}if(Z.length===1){if(l.abLength>0){const P=l.ab==="a"?n:t;s.push({stable:!0,buffer:l.ab,bufferStart:l.abStart,bufferLength:l.abLength,bufferContent:P.slice(l.abStart,l.abStart+l.abLength)})}}else{let P={a:[n.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;Z.length;){l=Z.shift();const vt=l.oStart,Vt=vt+l.oLength,nn=l.abStart,sn=nn+l.abLength;let hn=P[l.ab];hn[0]=Math.min(nn,hn[0]),hn[1]=Math.max(sn,hn[1]),hn[2]=Math.min(vt,hn[2]),hn[3]=Math.max(Vt,hn[3])}const ae=P.a[0]+(h-P.a[2]),Ie=P.a[1]+(b-P.a[3]),Ce=P.b[0]+(h-P.b[2]),xe=P.b[1]+(b-P.b[3]);let st={stable:!1,aStart:ae,aLength:Ie-ae,aContent:n.slice(ae,Ie),oStart:h,oLength:b-h,oContent:e.slice(h,b),bStart:Ce,bLength:xe-Ce,bContent:t.slice(Ce,xe)};s.push(st)}o=b}return u(e.length),s}i(Jn,"diff3MergeRegions");function Mn(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=typeof n=="string",o=typeof e=="string",u=typeof t=="string";s&&(n=n.split(r.stringSeparator)),o&&(e=e.split(r.stringSeparator)),u&&(t=t.split(r.stringSeparator));let l=[];const h=Jn(n,e,t);let b=[];function Z(){b.length&&l.push({ok:b}),b=[]}i(Z,"flushOk");function P(ae,Ie){if(ae.length!==Ie.length)return!1;for(let Ce=0;Ce<ae.length;Ce++)if(ae[Ce]!==Ie[Ce])return!1;return!0}return i(P,"isFalseConflict"),h.forEach(ae=>{ae.stable?b.push(...ae.bufferContent):r.excludeFalseConflicts&&P(ae.aContent,ae.bContent)?b.push(...ae.aContent):(Z(),l.push({conflict:{a:ae.aContent,aIndex:ae.aStart,o:ae.oContent,oIndex:ae.oStart,b:ae.bContent,bIndex:ae.bStart}}))}),Z(),l}i(Mn,"diff3Merge");function Ir(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const s=Mn(n,e,t,r);let o=!1,u=[];return s.forEach(l=>{l.ok?u=u.concat(l.ok):l.conflict&&(o=!0,u.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),u=u.concat(l.conflict.a),u.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),u=u.concat(l.conflict.o),u.push("======="),u=u.concat(l.conflict.b),u.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:o,result:u}}i(Ir,"mergeDiff3");function rr(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=Mn(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const h=s[l];h.ok?u=u.concat(h.ok):(o=!0,u=u.concat([`
<<<<<<<<<
`],h.conflict.a,[`
=========
`],h.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:o,result:u}}i(rr,"node_diff3_merge");function ir(n,e,t,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const s=Mn(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const h=s[l];if(h.ok)u=u.concat(h.ok);else{const b=Qn(h.conflict.a,h.conflict.b);for(let Z=0;Z<b.length;Z++){let P=b[Z];P.common?u=u.concat(P.common):(o=!0,u=u.concat([`
<<<<<<<<<
`],P.buffer1,[`
=========
`],P.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:o,result:u}}i(ir,"mergeDigIn");function fr(n,e){let t=[],r=0;function a(s){for(;r<s;)t.push(n[r]),r++}i(a,"advanceTo");for(let s=0;s<e.length;s++){let o=e[s];a(o.buffer1.offset);for(let u=0;u<o.buffer2.chunk.length;u++)t.push(o.buffer2.chunk[u]);r+=o.buffer1.length}return a(n.length),t}i(fr,"patch");function ar(n){return n.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}i(ar,"stripPatch");function $r(n){return n.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}i($r,"invertPatch");const sr=new cr;sr.diffTimeout=0;function or(n,e,t){return ge.get("experimental.useDiffMatchPatch")===!0?sr.patch_toText(sr.patch_make(e,t)):An(n,e,t)}i(or,"diffs_createPatch");function Fr(n,e,t,r){const a=`diff --git a/${n} b/${n}`;switch(r){case"modify":return or(n,e,t);case"add":{let s;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?s=`
\\ No newline at end of file`:s="";const o=/\r?\n/g,u=t.split(o),l=t.match(o)||[],h=u.length,b=[];for(let Z=0;Z<h;Z+=1)(Z<u.length-1||Z===u.length-1&&u[Z]!=="")&&b.push("+"),b.push(u[Z]),Z<l.length&&b.push(l[Z]);return t=b.join(""),`${a}
new file mode 100644
--- /dev/null
+++ b/${n}
@@ -0,0 +1,${h} @@
${t}${s}`}case"delete":{let s=0;return e=e.replace(/\r?\n/g,o=>(s++,`${o}-`)),`${a}
deleted file mode 100644
--- a/${n}
+++ /dev/null
@@ -1,${s} +0,0 @@
-${e}`}}}i(Fr,"createPatch2");function yr(n,e,t){return qe(n,e,t)}i(yr,"diffs_applyPatch");function xr(n,e){const t=[];for(const r of re(n,e))t.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(a=>({...a,oldLines:a.newLines,oldStart:a.newStart,newLines:a.oldLines,newStart:a.oldStart,lines:a.lines.map(s=>s[0]==="-"?`+${s.slice(1)}`:s[0]==="+"?`-${s.slice(1)}`:s)}))}),t.push(r);return t}i(xr,"reversePatch");function Or(n,e,t,r){let a=`
`;const s=n.match(/(?:\r?\n)/g);if(s!==null&&s.length!==0){const h=s.filter(b=>b===`\r
`).length;a=h>s.length-h?`\r
`:`
`}const o=rr(n,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=o.result;let l=o.conflict;for(let h=0;h<u.length;h+=1)u[h]===`
<<<<<<<<<
`?u[h]="<<<<<<< HEAD":u[h]===`
=========
`?u[h]="=======":u[h]===`
>>>>>>>>>
`&&(u[h]=`>>>>>>> ${r}`);return{conflicts:l,mergedContent:u.join(a)}}i(Or,"diffs_merge");function dr(n){return n!==void 0&&typeof n.then=="function"}i(dr,"isPromise");const Pr="";function pr(...n){if(n.length===1){const e=n[0];return e===void 0?Pr:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof v.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}i(pr,"defaultResolver");function Cn(n){return(e,t,r)=>{let a;if(typeof r.value=="function"?a=r.value:typeof r.get=="function"&&(a=r.get),a===void 0)throw new Error("Not supported");const s=`$gate$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:pr)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];if(l===void 0){let h;try{if(h=a.apply(this,o),h==null||!dr(h))return h;this[u]=l=h.then(b=>(this[u]=void 0,b)).catch(b=>{throw this[u]=void 0,b})}catch(b){throw this[u]=void 0,b}}return l}}}i(Cn,"gate");function Pn(n){const e=performance.now()*.001;let t=Math.floor(e),r=Math.floor(e%1*1e9);return n!==void 0&&(t=t-n[0],r=r-n[1],r<0&&(t--,r+=1e9)),[t,r]}i(Pn,"hrtime");let gn=0;function _e(){return gn===Number.MAX_SAFE_INTEGER&&(gn=0),++gn}i(_e,"getNextInstanceId");const _=i(class{constructor(n,e,...t){this.context=n,this.instance=`[${_e().toString().padStart(5)}] `;var r,a,s,o,u,l;let h;if(typeof(e==null?void 0:e.log)=="boolean"?h=e.log?{}:void 0:h=(r=e==null?void 0:e.log)!=null?r:{},this.logLevel=(a=e==null?void 0:e.logLevel)!=null?a:oe.Info,this.time=Pn(),h){if(!X.enabled(this.logLevel))return;t.length?ue(this.logLevel,`${this.instance}${(s=h.prefix)!=null?s:""}${n}${(o=h.message)!=null?o:""}`,...t):ue(this.logLevel,`${this.instance}${(u=h.prefix)!=null?u:""}${n}${(l=h.message)!=null?l:""}`)}}log(n){this.logCore(this.context,n,!1)}logStep(n,e){(!n||e)&&this.logCore(this.context,e,!1),this.step=n?{time:Pn(),label:n}:void 0}restart(n){this.logCore(this.context,n,!0),this.step=void 0,this.time=Pn()}stop(n){this.restart(n)}logCore(n,e,t){var r,a,s,o,u,l,h;if(!X.enabled(this.logLevel))return;let b="";if(this.step){const[Ie,Ce]=Pn(this.step.time),xe=Ie*1e3+Math.floor(Ce/1e6);b=`${this.step.label?`${this.step.label} took `:""}${xe} ms`}if(!t){ue(this.logLevel,`${this.instance}${(r=e==null?void 0:e.prefix)!=null?r:""}${n}${(a=e==null?void 0:e.message)!=null?a:""}${b?` ${b}`:""}${(s=e==null?void 0:e.suffix)!=null?s:""}`);return}const[Z,P]=Pn(this.time),ae=Z*1e3+Math.floor(P/1e6);ue(ae>500?oe.Warn:this.logLevel,`${this.instance}${(o=e==null?void 0:e.prefix)!=null?o:""}${n}${(u=e==null?void 0:e.message)!=null?u:""}${(l=e==null?void 0:e.took)!=null?l:" took "}${ae} ms${b?` (${b})`:""}${(h=e==null?void 0:e.suffix)!=null?h:""}`)}static start(n,e,...t){var r;(r=_.watches.get(n))==null||r.log(),_.watches.set(n,new _(n,e,...t))}static log(n,e){var t;(t=_.watches.get(n))==null||t.log(e)}static stop(n,e){var t;(t=_.watches.get(n))==null||t.stop(e),_.watches.delete(n)}},"_Stopwatch");let x=_;x.watches=new Map;function ue(n,e,...t){switch(n){case oe.Warn:X.warn(e,...t);break;case oe.Info:X.log(e,...t);break;default:X.debug(e,...t);break}}i(ue,"log");let Me=0;function dt(){return Me===Number.MAX_SAFE_INTEGER&&(Me=0),String(++Me)}i(dt,"getNextLockId");class Ze{constructor(){this.id=dt()}async synchronize(e){let t;const r=this.promise;this.promise=new Promise(a=>t=a),await r;try{return await e()}finally{t()}}}i(Ze,"Lock");class he{constructor(e){this.lock=new Ze,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let r;const a=new x(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:oe.Debug});let s;await this.lock.synchronize(async()=>{this.writer&&await this.writer,s=new Promise(o=>r=o),this.readers.add(s)}),a.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{a.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),s!==void 0&&this.readers.delete(s),r()}}async synchronizeWrite(e,t){let r;const a=new x(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:oe.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const s=[...this.readers];this.readers.clear(),await Promise.all(s)}this.writer=new Promise(s=>r=s)}),a.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{a.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),r(),this.writer=void 0}}}i(he,"ReaderWriterLock");class De{constructor(){this.locks=new Map}async synchronizeRead(e,t,r){let a=this.locks.get(e);return a===void 0&&(a=new he(String(e)),this.locks.set(e,a)),a.synchronizeRead(t,r)}async synchronizeWrite(e,t,r){let a=this.locks.get(e);return a===void 0&&(a=new he(String(e)),this.locks.set(e,a)),a.synchronizeWrite(t,r)}}i(De,"KeyedReaderWriterLock");const Oe=new TextDecoder,ze=new TextEncoder;async function et(n){const e=typeof n=="string"?ze.encode(n):n;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const r=new Bn;r.update(e),t=r.digest()}return globalThis.btoa(encodeURIComponent(Oe.decode(t)))}i(et,"sha1");var it;(function(n){n[n.BLOCK_SIZE=64]="BLOCK_SIZE"})(it||(it={}));function Dt(n,e,t=32){const r=t-e,a=~((1<<r)-1);return(n<<e|(a&n)>>>r)>>>0}i(Dt,"leftRotate");function Ct(n,e=0,t=n.byteLength,r=0){for(let a=0;a<t;a++)n[e+a]=r}i(Ct,"fill");const Mt=i(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(n){const e=this._buff;let t=this._buffLen,r=0;const a=n.byteLength;for(;r<a;){const s=Math.min(64-t,a-r);for(let o=0;o<s;o++)e[t++]=n[r++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const n=new ArrayBuffer(20),e=new DataView(n);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),n}_wrapUp(){this._buff[this._buffLen++]=128,Ct(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Ct(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=Mt._bigBlock32,e=this._buffDV;for(let b=0;b<64;b+=4)n.setUint32(b,e.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)n.setUint32(b,Dt(n.getUint32(b-12,!1)^n.getUint32(b-32,!1)^n.getUint32(b-56,!1)^n.getUint32(b-64,!1),1),!1);let t=this._h0,r=this._h1,a=this._h2,s=this._h3,o=this._h4,u,l,h;for(let b=0;b<80;b++)b<20?(u=r&a|~r&s,l=1518500249):b<40?(u=r^a^s,l=1859775393):b<60?(u=r&a|r&s|a&s,l=2400959708):(u=r^a^s,l=3395469782),h=Dt(t,5)+u+o+l+n.getUint32(b*4,!1)&4294967295,o=s,s=a,a=Dt(r,30),r=t,t=h;this._h0=this._h0+t&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+o&4294967295}},"_SHA1Computer");let Bn=Mt;Bn._bigBlock32=new DataView(new ArrayBuffer(320));function Ot(n){const e=globalThis.atob(n),t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return r}i(Ot,"fromBase64");const{fromCharCode:Yn}=String;function Fn(n){let e;if(typeof n=="string")e=n;else{e="";for(let t=0,{length:r}=n;t<r;t++)e+=Yn(n[t])}return globalThis.btoa(e)}i(Fn,"toBase64");function Gn(n,e){if(n===e)return-1;let t=0;for(;n[t]===e[t];)t++;return t}i(Gn,"indexOfDifference");var ur=Object.defineProperty,Wr=Object.getOwnPropertyDescriptor,ti=i((n,e,t,r)=>{for(var a=r>1?void 0:r?Wr(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(a=(r?o(e,t,a):o(a))||a);return r&&a&&ur(e,t,a),a},"__decorateClass");const Xr=v.FileSystemError.FileNotFound().code,zr=`===================================================================
`,er=new TextDecoder,oi=new TextEncoder;function Yr(n){return n&&"type"in n&&"uri"in n&&"uri"in n&&"fileType"in n&&"revision"in n&&"timestamp"in n}i(Yr,"isOperation");function Ur(n,e,t){return{type:n.type,rootUri:e,uri:t!=null?t:n.uri}}i(Ur,"toEvent");const Tr=i(class{constructor(n,e,t,r,a,s){this.providerService=n,this.storageService=e,this.fileStorageService=t,this.telemetryService=r,this.workspaceId=a,this._onDidChange=new v.EventEmitter,this.cache=new Map,this.lock=new De,this.scopedStores=new Map,s===void 0&&(this.disposable=v.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var n;(n=this.disposable)==null||n.dispose()}async exportDebugInfo(n){var e;async function t(r){const a=await v.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void v.window.showTextDocument(a)}if(i(t,"exportCore"),n===void 0)for(const r of(e=v.workspace.workspaceFolders)!=null?e:[])await t.call(this,r.uri);else return t.call(this,n)}async getWorkspacesWithChanges(){var n;const e=new x("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const r of(n=v.workspace.workspaceFolders)!=null?n:[])r.uri.scheme===w.scheme&&await this.hasChanges(r.uri)&&t.push(r.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(n,e){const t=`ChangeStore.acceptAll(${n.toString()}, ${e==null?void 0:e.staged})`;X.log(t);const r=[];await this.lock.synchronizeWrite(O(n),async()=>{const a=await this.getWorkingOperations(n),s=[];let o=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!a.some(l=>l.staged));for(const l of a){if(u&&!l.staged){o.push(l);continue}l.fileType===v.FileType.File&&await this.discardWorkingContent(n,l.uri);let h;if(l.type===H.Created&&l.fileType===v.FileType.Directory&&(a.some(b=>U(b.uri,l.uri))||(h={type:H.Deleted,rootUri:n,uri:l.uri})),r.push(h!=null?h:Ur(l,n)),l.type===H.Created){let b=l.uri;for(;;){const{parent:Z}=this.findParent(b,a,P=>P.type===H.Created);if(Z){s.push(Z),b=Z.uri;continue}break}}}o.length>0&&s.length>0&&(o=o.filter(l=>s.includes(l)?(r.push(Ur(l,n)),!1):!0)),await this.saveWorkingOperations(n,o)},t),r.length!==0&&this._onDidChange.fire(r)}async discard(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.discard(${n.toString()})`;X.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>this.discardCore(e,n,r),t),r.length!==0&&this._onDidChange.fire(r)}async discardCore(n,e,t){X.debug(`ChangeStore.discardCore(${e.toString()})`);let r=await this.getWorkingOperations(n);if(r.length===0)return;const a=W(e),s=r.findIndex(l=>W(l.uri)===a);if(s===-1)return;const[o]=r.splice(s,1);let u;switch(o.type){case H.Created:u=H.Deleted;break;case H.Deleted:u=H.Created;break;default:u=o.type;break}if(t.push({type:u,rootUri:n,uri:e}),o.type===H.Created){let l=o.uri;for(;;){const{parent:h,parentIndex:b}=this.findNewParentWithOnlyChild(l,r);if(h){r.splice(b,1),t.push({type:H.Deleted,rootUri:n,uri:h.uri}),l=h.uri;continue}break}}else if(o.type===H.Deleted){let l=o.uri;const h=this.findDeletedParents(l,r);let b=[...r];h.forEach(({parent:Z,parentIndex:P})=>{b[P]=void 0,t.push({type:H.Created,rootUri:n,uri:Z.uri})}),r=b.filter(Z=>Z!==void 0)}await this.saveWorkingOperations(n,r),o.fileType===v.FileType.File&&await this.discardWorkingContent(n,e)}async discardAll(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).discardAll(n,e);const r=`ChangeStore.discardAll(${n.toString()}, ${e==null?void 0:e.staged})`;X.log(r);const a=[];await this.lock.synchronizeWrite(O(n),async()=>{const s=await this.getWorkingOperations(n),o=[];let u=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!s.some(h=>h.staged));for(const h of s){if(l&&!h.staged){u.push(h);continue}h.fileType===v.FileType.File&&await this.discardWorkingContent(n,h.uri);let b;switch(h.type){case H.Created:b=H.Deleted;break;case H.Deleted:b=H.Created;break;default:b=h.type;break}if(a.push({type:b,rootUri:n,uri:h.uri}),h.type===H.Created){let Z=h.uri;for(;;){const{parent:P}=this.findNewParentWithOnlyChild(Z,s);if(P){o.push(P),Z=P.uri;continue}break}}}u.length>0&&o.length>0&&(u=u.filter(h=>o.includes(h)?(a.push({type:H.Deleted,rootUri:n,uri:h.uri}),!1):!0)),await this.saveWorkingOperations(n,u)},r),a.length!==0&&this._onDidChange.fire(a)}async stage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.stage(${n.toString()})`;X.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(n,e);a!==void 0&&await this.stageCore(e,n,a,r,s)},t),r.length!==0&&this._onDidChange.fire(r)}async stageAll(n){const e=`ChangeStore.stageAll(${n.toString()})`;X.log(e);const t=[];await this.lock.synchronizeWrite(O(n),async()=>{const r=(await this.getWorkingOperations(n)).filter(a=>!a.staged);if(r.length!==0)for(const a of r){const{index:s}=await this.getWorkingOperation(a.uri,n);if(!await this.stageCore(n,a.uri,a,t,s))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(n,e,t,r,a){if(t.conflicts){if(!t.conflicts.status.includes(H.Deleted)){const o=v.l10n.t("Yes");if(await v.window.showWarningMessage(v.l10n.t("Are you sure you want to stage {0} with merge conflicts?",Y(e)),{modal:!0},o)!==o)return!1}const[,s]=t.conflicts.status;switch(s){case H.Changed:switch(t.type){case H.Created:return!1;case H.Changed:return await this.spliceOperation(e,a,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case H.Deleted:const o=v.l10n.t("Keep Their Version"),u=v.l10n.t("Delete File"),l=await v.window.showInformationMessage(v.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,Y(e)),{modal:!0},o,u);return l===o?(await this.discardCore(n,e,r),!0):l===u?(await this.spliceOperation(e,a,{...t,type:H.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case H.Created:switch(t.type){case H.Changed:case H.Deleted:return!1;case H.Created:return await this.spliceOperation(e,a,{...t,type:H.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},r),!0}case H.Deleted:switch(t.type){case H.Created:case H.Changed:{const o=v.l10n.t("Keep Our Version"),u=v.l10n.t("Delete File"),l=await v.window.showInformationMessage(v.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,Y(e)),{modal:!0},o,u);return l===o?(await this.spliceOperation(e,a,{...t,type:H.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):l===u?(await this.discardCore(n,e,r),!0):!1}case H.Deleted:return await this.discardCore(n,e,r),!0}}}return await this.spliceOperation(e,a,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.unstage(${n.toString()})`;X.log(t);const r=[];await this.lock.synchronizeWrite(O(e),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(n,e);a!==void 0&&await this.spliceOperation(n,s,{...a,staged:!1,timestamp:Date.now()},r)},t),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(n){const e=`ChangeStore.unstageAll(${n.toString()})`;X.log(e);const t=[];await this.lock.synchronizeWrite(O(n),async()=>{const r=(await this.getWorkingOperations(n)).map(a=>({...a,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(n,r),t.push(...r.map(a=>Ur(a,n))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).hasChanges(n);const t=O(n),r=this.cache.get(t);return r!==void 0?r.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(n)).length!==0,`ChangeStore.hasChanges(${n.toString()})`)}maybeHasChanges(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).maybeHasChanges(n,e);const r=O(n),a=this.cache.get(r);if(a===void 0)return;if(a.length===0)return!1;if(e===void 0)return!0;const s=W(e);return a.some(o=>W(o.uri)===s)}async hasMergeConflicts(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${n.toString()})`)}async hasStagedChanges(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${n.toString()})`)}async hasWorkingChanges(n){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${n.toString()})`)}async getChange(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).getChange(n);const t=this.providerService.getVirtualRootUri(n);if(t!==void 0)return this.lock.synchronizeRead(O(t),async()=>{const{operation:r}=await this.getWorkingOperation(n,t);return r},`ChangeStore.getChange(${n.toString()})`)}async getChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getChanges(n,e):this.lock.synchronizeRead(O(n),async()=>{let r=await this.getWorkingOperations(n);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:a,predicate:s}=e;r=r.filter(o=>{var u;return(!a||o.conflicts===void 0)&&((u=s==null?void 0:s(o))!=null?u:!0)})}return r},`ChangeStore.getChanges(${n.toString()})`)}async getGroupedChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getGroupedChanges(n,e):this.lock.synchronizeRead(O(n),async()=>{var r,a;const s=await this.getWorkingOperations(n),o={conflicts:[],staged:[],working:[]};for(const u of s)!((a=(r=e==null?void 0:e.predicate)==null?void 0:r.call(e,u))!=null?a:!0)||(u.conflicts?o.conflicts.push(u):u.staged?o.staged.push(u):o.working.push(u));return o},`ChangeStore.getChangesByType(${n.toString()})`)}async getContent(n){const e=this.providerService.getVirtualRootUri(n);if(e===void 0)throw new Error(`Unable to find content for ${n.toString()}; Repository not found`);const t=O(e),r=this.cache.get(t);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${n.toString()}`);return this.lock.synchronizeRead(t,async()=>{const a=er.decode(await this.getWorkingContent(e,n));if(a!==void 0)return a;throw new Error(`Unable to find content for ${n.toString()}`)},`ChangeStore.getContent(${n.toString()}}`)}async getMergeConflicts(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var a,s;return r.conflicts!==void 0&&((s=(a=e==null?void 0:e.predicate)==null?void 0:a.call(e,r))!=null?s:!0)}),`ChangeStore.getMergeConflicts(${n.toString()})`)}async getStagedChanges(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var a,s;return r.staged&&r.conflicts===void 0&&((s=(a=e==null?void 0:e.predicate)==null?void 0:a.call(e,r))!=null?s:!0)}),`ChangeStore.getStagedChanges(${n.toString()})`)}async getWorkingChanges(n,e){return this.lock.synchronizeRead(O(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var a,s;return!r.staged&&r.conflicts===void 0&&((s=(a=e==null?void 0:e.predicate)==null?void 0:a.call(e,r))!=null?s:!0)}),`ChangeStore.getWorkingChanges(${n.toString()})`)}async applyChangeset(n,e,t,r){var a;let s;Yr(t)?s=t:r=r!=null?r:t,X.log(`ChangeStore.applyChangeset${n.toString()}`,e.workspaceId,e.uri,s==null?void 0:s.uri,r==null?void 0:r.save);const o=this.getScopedChangeStore(e.workspaceId),u=(a=e.patch)!=null?a:await o.createPatch(e.uri,s==null?void 0:s.uri);await this.applyPatchCore(n,u,{...r,getIncomingContent:async l=>{const h=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,l),e.workspaceId);return er.decode(await v.workspace.fs.readFile(h))},merge:async(l,h,b)=>{try{const Z=w.getProviderUri(l),P=er.decode(await v.workspace.fs.readFile(Z)),ae=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,h),e.workspaceId),Ie=er.decode(await v.workspace.fs.readFile(ae)),Ce=await this.providerService.getMetadata(ae);return{...Or(b,P,Ie,Ce.HEAD.sha),baseUri:Z,incomingUri:ae}}catch(Z){throw new Error(`Unable to apply patch to ${h}: ${String(Z)}`)}}})}async applyPatch(n,e,t){if(X.log(`ChangeStore.applyPatch(${n.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(n,e,t)}async applyPatchCore(n,e,t={}){const r=`ChangeStore.applyPatchCore(${n.toString()})`;X.debug(r,t==null?void 0:t.save);const a=new v.WorkspaceEdit,s=[],o=new Map;async function u(P){var ae;const Ie=O(P),Ce=v.workspace.textDocuments.find(xe=>O(xe.uri)===Ie);return(ae=Ce==null?void 0:Ce.getText())!=null?ae:er.decode(await v.workspace.fs.readFile(P))}i(u,"getContent");async function l(P){try{const ae=await v.workspace.fs.stat(P);return Boolean(ae)}catch{return!1}}i(l,"exists");async function h(P,ae,Ie){let Ce=yr("",Ie,{fuzzFactor:0});if(Ce===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${ae}`);Ce=await t.getIncomingContent(ae)}a.createFile(P,{overwrite:!0}),a.replace(P,new v.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Ce)}i(h,"applyCreate");async function b(P,ae,Ie,Ce){const xe=await u(P);let st=yr(xe,Ie,{fuzzFactor:1});if(st===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${ae}; Resulted in conflicts`);const vt={title:v.l10n.t("Merge")},Vt={title:v.l10n.t("Skip File"),isCloseAffordance:!0};if(await v.window.showWarningMessage(v.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,ae),{modal:!0},vt,Vt)!==vt)return;const sn=await t.merge(P,ae,xe);st=sn.mergedContent,sn.conflicts&&o.set(O(P),{type:Ce,baseUri:sn.baseUri,incomingUri:sn.incomingUri})}a.replace(P,new v.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),st)}i(b,"applyModification");const Z=(t==null?void 0:t.reverse)?xr(e,{}):re(e,{});for(const P of Z)if(P.oldFileName==="/dev/null"){if(!P.newFileName)continue;const ae=P.newFileName.startsWith("b/")?P.newFileName.substr(2):P.newFileName,Ie=this.providerService.createRelativeVirtualUri(n,ae);s.push(O(Ie)),!await l(Ie)?await h(Ie,ae,P):await b(Ie,ae,P,H.Created)}else if(P.newFileName==="/dev/null"){if(!P.oldFileName)continue;const ae=P.oldFileName.startsWith("a/")?P.oldFileName.substr(2):P.oldFileName,Ie=this.providerService.createRelativeVirtualUri(n,ae);await l(Ie)&&a.deleteFile(Ie)}else if(P.oldFileName===P.newFileName){if(!P.newFileName)continue;const ae=this.providerService.createRelativeVirtualUri(n,P.newFileName);s.push(O(ae)),!await l(ae)?await h(ae,P.newFileName,P):await b(ae,P.newFileName,P,H.Changed)}else throw new Error(`Unable to apply patch to ${P.oldFileName}; Renames aren't currently supported`);if(await v.workspace.applyEdit(a),t.save&&s.length)for(const P of s){const ae=v.workspace.textDocuments.find(Ie=>O(Ie.uri)===P);await(ae==null?void 0:ae.save())}o.size&&setTimeout(async()=>{const P=[];await this.lock.synchronizeWrite(O(n),async()=>{const ae=await this.getWorkingOperations(n);if(ae.length===0)return;let Ie=-1;for(const Ce of ae){Ie++;const xe=o.get(O(Ce.uri));xe!==void 0&&await this.spliceOperation(Ce.uri,Ie,{...Ce,conflicts:{baseUri:xe.baseUri,incomingUri:xe.incomingUri,status:[Ce.type,xe.type]},timestamp:Date.now()},P)}},r),P.length!==0&&this._onDidChange.fire(P)},0)}async createChangeset(n){X.log(`ChangeStore.createChangeset${n.toString()})`);const e=await this.createPatch(n);return e?{workspaceId:this.workspaceId,uri:n,patch:e}:void 0}async createPatch(n,e,t){if(X.log(`ChangeStore.createPatch${n.toString()})`,e),e===void 0){let s=await this.getWorkingOperations(n);if((t==null?void 0:t.staged)&&(s=s.filter(u=>u.staged)),s.length===0)return"";const o=[];for(const u of s){const l=await this.createPatchCore(n,u);o.push(l)}return o.join("")}const{operation:r}=await this.getWorkingOperation(e,n);if(r===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&r.staged?"":await this.createPatchCore(n,r)}async createPatchCore(n,e){if(e.fileType!==v.FileType.File)return"";const t=this.providerService.getRelativeFilePath(n,e.uri),r=`diff --git a/${t} b/${t}`;if(e.type===H.Created){let l=await this.getContent(e.uri);return Fr(t,"",l,"add")}if(e.type===H.Deleted){let l=er.decode(await v.workspace.fs.readFile(w.getProviderUri(e.uri)));return Fr(t,l,"","delete")}const a=await this.getContent(e.uri),s=er.decode(await v.workspace.fs.readFile(w.getProviderUri(e.uri))),o=or(t,s,a),u=o.indexOf(zr);return`${r}
${o.substr(u+zr.length)}`}async keep(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=`ChangeStore.keep(${n.toString()})`;X.log(r,e);const a=[];await this.lock.synchronizeWrite(O(t),async()=>{const{operation:s,index:o}=await this.getWorkingOperation(n,t);if(s===void 0)return;if(e===void 0&&s.conflicts){const[,l]=s.conflicts.status;switch(l){case H.Changed:switch(s.type){case H.Changed:case H.Created:case H.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},a);break}break;case H.Created:switch(s.type){case H.Changed:case H.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},a);break;case H.Created:await this.spliceOperation(n,o,{...s,type:H.Changed,size:s.size,hash:s.hash,originalHash:s.originalHash,conflicts:void 0,timestamp:Date.now()},a);break}break;case H.Deleted:switch(s.type){case H.Deleted:await this.discardCore(t,n,a);break;case H.Changed:await this.spliceOperation(n,o,{...s,type:H.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},a);break;case H.Created:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},a);break}break}return}if(e===void 0)return;switch(e.type){case H.Changed:switch(s.type){case H.Deleted:await this.spliceOperation(n,o,{...s,type:H.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},a);return;case H.Created:break;case H.Changed:break}break;case H.Created:switch(s.type){case H.Changed:case H.Deleted:return;case H.Created:break}break;case H.Deleted:switch(s.type){case H.Deleted:return this.discardCore(t,n,a);case H.Changed:await this.spliceOperation(n,o,{...s,type:H.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},a);return;case H.Created:return}}const u=e!==void 0?await v.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(n,o,{...s,type:H.Changed,originalHash:u!==void 0?await et(u):s.originalHash,conflicts:void 0,timestamp:Date.now()},a)},r),a.length!==0&&this._onDidChange.fire(a)}async merge(n,e,t){const r=this.providerService.getVirtualWorkspaceUri(n);if(r===void 0)return;const a=`ChangeStore.merge(${n.toString()})`;X.log(a,e,t);const s=[];await this.lock.synchronizeWrite(O(r),async()=>{const{operation:o,index:u}=await this.getWorkingOperation(n,r);if(o===void 0)return;switch(e.type){case H.Changed:switch(o.type){case H.Deleted:await this.spliceOperation(n,u,{...o,type:H.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case H.Created:break;case H.Changed:break}break;case H.Created:switch(o.type){case H.Deleted:case H.Changed:return;case H.Created:const ae=await v.workspace.fs.readFile(e.providerUri);await this.spliceOperation(n,u,{...o,originalHash:ae!==void 0?await et(ae):o.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},type:H.Changed,timestamp:Date.now()},s);break}break;case H.Deleted:switch(o.type){case H.Deleted:return this.discardCore(r,n,s);case H.Changed:await this.spliceOperation(n,u,{...o,type:H.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case H.Created:return}}const l=await this.providerService.getMetadata(e.providerUri),h=await this.getWorkingContent(r,n),b=o.type===H.Created?new Uint8Array(0):await v.workspace.fs.readFile(t.providerUri),Z=await v.workspace.fs.readFile(e.providerUri),P=Or(er.decode(h),er.decode(b),er.decode(Z),l.HEAD.sha);await this.writeFileCore(r,n,s,oi.encode(P.mergedContent),Z!=null?Z:new Uint8Array(0),P.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]}:void 0)},a),s.length!==0&&this._onDidChange.fire(s)}async resolveDiffCommand(n,e,t,r){let a;const s=this.providerService.getVirtualRootUri(n);return s!==void 0&&({operation:a}=await this.getWorkingOperation(n,s)),(a==null?void 0:a.type)===H.Deleted?this.resolveOpenCommand(e):((a==null?void 0:a.type)===H.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,n,t,r]})}resolveOpenCommand(n,e){return{command:"vscode.open",title:"Open File",arguments:[n,e]}}getScopedUri(n,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?n:n.with({fragment:t})}getUriScope(n){return n.fragment||void 0}getScopedChangeStore(n){const e=typeof n=="string"?n:n.workspaceId;X.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new Tr.ScopedChangeStore(this,e,this.workspaceId):new Tr.ScopedChangeStore(new Tr(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).stat(n);const t=this.providerService.getVirtualRootUri(n);if(t===void 0)return;const r=O(t),a=this.cache.get(r);if((a==null?void 0:a.length)!==0)return this.lock.synchronizeRead(r,async()=>{var s;const{operation:o}=await this.getWorkingOperation(n,t);if(o!==void 0){if(o.type===H.Deleted)throw v.FileSystemError.FileNotFound(`The ${o.fileType===v.FileType.Directory?"folder":"file"} has been deleted.`);return{type:o.fileType,size:(s=o.size)!=null?s:0,ctime:0,mtime:o.timestamp}}},`ChangeStore.stat(${n.toString()}`)}async readFile(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).readFile(n);const t=new x(`ChangeStore.readFile(${n.toString()})`);try{const r=this.providerService.getVirtualRootUri(n);if(r===void 0)return;const a=O(r),s=this.cache.get(a);return(s==null?void 0:s.length)===0?void 0:await this.lock.synchronizeRead(a,()=>{const o=this.cache.get(a);if((o==null?void 0:o.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,n)},t.context)}finally{t.stop()}}async createDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.createDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(n,e),o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,a===void 0?{type:H.Created,uri:n,fileType:v.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...a,timestamp:Date.now()},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async deleteDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.deleteDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(n,e);if((a==null?void 0:a.type)===H.Created)return this.discardCore(e,n,r);const o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,{type:H.Deleted,uri:n,fileType:v.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async updateDirectoryEntries(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return e;const r=new x(`ChangeStore.updateDirectoryEntries(${n.toString()})`,{},e.length);try{const a=O(t),s=this.cache.get(a);return(s==null?void 0:s.length)===0?e:await this.lock.synchronizeRead(a,async()=>{const{path:o}=E(t,n),u=await this.getWorkingOperations(t);for(const l of u)switch(l.type){case H.Changed:break;case H.Created:{if(U(l.uri,o)){const h=this.providerService.getRelativeFilePath(n,l.uri);e.push([h,l.fileType])}break}case H.Deleted:{if(U(l.uri,o)){const h=this.providerService.getRelativeFilePath(n,l.uri),b=e.findIndex(([Z])=>Z===h);b!==-1&&e.splice(b,1)}break}}return e},r.context)}finally{r.stop()}}async writeFile(n,e,t,r){const a=this.providerService.getVirtualWorkspaceUri(n);if(a===void 0)return;const s=new x(`ChangeStore.writeFile(${n.toString()})`,{},e.length,r);try{const o=[];if(await this.lock.synchronizeWrite(O(a),async()=>this.writeFileCore(a,n,o,e,t,r),s.context),o.length===0)return;this._onDidChange.fire(o)}finally{s.stop()}}async writeFileCore(n,e,t,r,a,s){const o=new x(`ChangeStore.writeFileCore(${e.toString()})`,{},r.length,s);try{const[{operation:u,index:l},h,b]=await Promise.all([this.getWorkingOperation(e,n),et(r),et(a)]);if(h===b&&(!u||(u==null?void 0:u.type)===H.Changed))return this.discardCore(n,e,t);if(h===(u==null?void 0:u.hash)&&b===(u==null?void 0:u.originalHash))return;const[{HEAD:Z}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(n,e,r)]);await this.spliceOperation(e,l,u===void 0?{type:H.Changed,uri:e,fileType:v.FileType.File,revision:Z.sha,timestamp:Date.now(),size:r.byteLength,hash:h,originalHash:b,conflicts:s,staged:!1}:{...u,revision:Z.sha,timestamp:Date.now(),size:r.byteLength,hash:h,originalHash:b,conflicts:s,staged:!1},t)}finally{o.stop()}}async createFile(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=new x(`ChangeStore.createFile(${n.toString()})`,{},e.length);try{const a=[];if(await this.lock.synchronizeWrite(O(t),async()=>{const[{operation:s,index:o},u,l]=await Promise.all([this.getWorkingOperation(n,t),et(e),this.providerService.getMetadata(n),this.saveWorkingContent(t,n,e)]);await this.spliceOperation(n,o,s===void 0?{type:H.Created,uri:n,fileType:v.FileType.File,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:{...s,type:H.Created,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},a)},r.context),a.length===0)return;this._onDidChange.fire(a)}finally{r.stop()}}async deleteFile(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new x(`ChangeStore.deleteFile(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(O(e),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(n,e);if((a==null?void 0:a.type)===H.Created)return this.discardCore(e,n,r);const[o]=await Promise.all([this.providerService.getMetadata(n),this.discardWorkingContent(e,n)]);await this.spliceOperation(n,s,{type:H.Deleted,uri:n,fileType:v.FileType.File,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}findParent(n,e,t){const r=ie(n),{operation:a,index:s}=this.findWorkingOperation(r,e);return a!==void 0&&t(a,e)?{parent:a,parentIndex:s}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(n,e){const t=W(n);return this.findParent(n,e,(r,a)=>r.type===H.Created&&!a.some(s=>U(s.uri,r.uri)&&W(s.uri)!==t))}findDeletedParents(n,e){const t=[];for(let r=0;r<e.length;r+=1){const a=e[r];a.type===H.Deleted&&I(n,a.uri)&&t.push({parent:a,parentIndex:r})}return t}async getWorkingOperation(n,e){return this.findWorkingOperation(n,await this.getWorkingOperations(e))}findWorkingOperation(n,e){if(e.length===0)return{operation:void 0,index:-1};const t=W(n);let r=-1;const a=e.find((s,o)=>W(s.uri)!==t?!1:(r=o,!0));return a===void 0?{operation:void 0,index:-1}:{operation:a,index:r}}async getWorkingOperations(n){const e=O(n);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(n,e){X.debug(`ChangeStore.saveWorkingOperations(${n.toString()})`,e.length);const t=O(n);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(r){throw this.cache.delete(t),X.error(r,`Failed to save repository changes for ${t}`),r}}getOperationsStorageKey(n){return`operations/${n}`}async getWorkingContent(n,e){try{return await this.fileStorageService.get(this.getFileStorageKey(n,e))}catch(t){throw X.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(n,e){X.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(n,e))}catch(t){if(t instanceof v.FileSystemError&&t.code===Xr)return;throw X.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(n,e,t){X.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(n,e),t)}catch(r){throw X.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(n,e){return`changestore/${L(e)}`}async spliceOperation(n,e,t,r){const a=this.providerService.getVirtualWorkspaceUri(n);if(a===void 0)return;const s=await this.getWorkingOperations(a);e!==-1?s.splice(e,1,t):s.push(t),await this.saveWorkingOperations(a,s),r.push(Ur(t,a,n))}fromStorage(n){if(!n)return[];try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?typeof r=="string"?v.Uri.parse(r):v.Uri.from(r):r);return Array.isArray(e)?e:e.operations}catch(e){throw X.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(n){const e={schemaVersion:Tr.operationsStorageSchemaVersion,operations:n};return JSON.stringify(e)}},"_ChangeStore");let Hr=Tr;Hr.operationsStorageSchemaVersion=1,Hr.ScopedChangeStore=class{constructor(n,e,t){this.changeStore=n,this.scope=e,this.workspaceId=t}createPatch(n,e,t){return this.changeStore.createPatch(this.stripUriScope(n),this.stripUriScope(e),t)}discardAll(n,e){return this.changeStore.discardAll(this.stripUriScope(n),e)}getChange(n){return this.changeStore.getChange(this.stripUriScope(n))}getChanges(n,e){return this.changeStore.getChanges(this.stripUriScope(n),e)}async getGroupedChanges(n,e){return this.changeStore.getGroupedChanges(this.stripUriScope(n),e)}hasChanges(n){return this.changeStore.hasChanges(this.stripUriScope(n))}maybeHasChanges(n,e){return this.changeStore.maybeHasChanges(this.stripUriScope(n),this.stripUriScope(e))}async stat(n){const t=this.changeStore.getUriScope(n)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(n));return r!==void 0&&t&&(r.permissions=v.FilePermission.Readonly),r}readFile(n){return this.changeStore.readFile(this.stripUriScope(n))}resolveDiffCommand(n,e,t,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(n,this.scope),this.changeStore.getScopedUri(e,this.scope),t,r)}stripUriScope(n){return n===void 0||!n.fragment?n:n.with({fragment:""})}},ti([Cn()],Hr.prototype,"getWorkingOperations",1);function ni(n){switch(n){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}i(ni,"getStatusText");function Gr(n){const[e,t]=n;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}i(Gr,"getConflictStatusText");const Kr=i(class{constructor(n){this.storageService=n,this._onDidChange=new v.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(n){const e=O(n),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(r){throw X.error(r,`Failed to delete repository metadata for ${e}`),r}!t||setTimeout(()=>this._onDidChange.fire({uri:n}),0)}async get(n){this.assertMatchingScheme(n);const e=O(n),t=this.cache.get(e);if(t!==void 0)return t;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(a){throw X.error(a,`Failed to get repository metadata for ${e}`),a}return r?this.cache.set(e,{revision:r}):this.cache.delete(e),{revision:r}}async set(n,e,t,r){this.assertMatchingScheme(n);const a=(await this.get(n)).revision!==e?"revision":void 0,s=O(n);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${n.toString()}`);const o={revision:e,cachedMetadata:t};this.cache.set(s,o);try{await this.storageService.store(this.getStorageKey(s),this.toStorage(e))}catch(u){throw this.cache.delete(s),X.error(u,`Failed to save repository metadata for ${s}`),u}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:n,reason:a}),0)}refresh(){this.cache.clear()}validate(n){var e,t,r,a,s,o,u,l;return typeof n.version=="number"&&n.version>=Kr.schemaVersion&&typeof n.timestamp=="number"&&typeof((e=n.provider)==null?void 0:e.id)=="string"&&typeof n.provider.name=="string"&&typeof n.name=="string"&&n.repo&&typeof n.accessLevel=="number"&&typeof((t=n.HEAD)==null?void 0:t.type)=="number"&&typeof((r=n.HEAD)==null?void 0:r.name)=="string"&&typeof((a=n.HEAD)==null?void 0:a.sha)=="string"&&(typeof((s=n.HEAD.detached)==null?void 0:s.name)=="string"&&typeof((o=n.HEAD.detached)==null?void 0:o.type)=="number"||typeof((u=n.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((l=n.defaultBranch)==null?void 0:l.name)=="string"&&typeof n.defaultBranch.sha=="string"}assertMatchingScheme(n){if(n.scheme!==w.scheme)throw new Error(`Uri scheme '${n.scheme}' must match configured scheme '${w.scheme}'; uri=${n.toString()}`)}getStorageKey(n){return`metadata/${n}`}fromStorage(n){if(!n)return;const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?v.Uri.from(r):r);return e==null?void 0:e.revision}toStorage(n){const e={schemaVersion:Kr.storageSchemaVersion,revision:n};return JSON.stringify(e)}},"_MetadataStore");let Nr=Kr;Nr.schemaVersion=Je,Nr.storageSchemaVersion=1;class Vr{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new v.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new x(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{r.stop()}}async getKeys(e){const t=this.getScoped(e),r=new x(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:oe.Debug});try{let a=this.getKeysCore(e);if(this.scope!==void 0){const s=this.scope.length+1;a=a.map(o=>o.substr(s))}return await Promise.resolve(a)}finally{r.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(r=>r.startsWith(e))),t}async store(e,t){const r=this.getScoped(e),a=new x(`MementoStorage.store(${e}): scopedKey=${r}`,{logLevel:oe.Debug});try{return await this.storeCore(e,r,t)}finally{a.stop()}}async storeCore(e,t,r){await this.memento.update(t,r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new x(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await this.storeCore(e,t,void 0)}finally{r.stop()}}async deleteKeys(e){const t=this.getScoped(e),r=new x(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:oe.Debug});try{const a=[],s=this.scope!==void 0?this.scope.length+1:0,o=this.getKeysCore(t);for(const u of o){const l=s!==0?u.substr(s):u;X.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${l}, scopedKey=${u}`);try{await this.storeCore(l,u,void 0)}catch(h){X.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${l}, scopedKey=${u}`),a.push(l)}}if(a.length)throw new Error(`Failed to delete keys: ${a.join(", ")}`)}finally{r.stop()}}with(e){return new Vr(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}i(Vr,"MementoStorageService");class Lr{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new v.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new x(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await v.workspace.fs.readFile(v.Uri.joinPath(this.storageUri,t))}catch(a){return}finally{r.stop()}}async store(e,t){const r=this.getScoped(e),a=new x(`ExtFileStorageService.store(${e}): scopedKey=${r}`,{logLevel:oe.Debug});try{return await this.storeCore(e,r,t)}finally{a.stop()}}async storeCore(e,t,r){await v.workspace.fs.writeFile(v.Uri.joinPath(this.storageUri,t),r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new x(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:oe.Debug});try{return await v.workspace.fs.delete(v.Uri.joinPath(this.storageUri,t))}finally{r.stop()}}with(e){return new Lr(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}i(Lr,"ExtFileStorageService");const tr=i(async(n,e,t)=>{const r=await Promise.resolve().then(En.bind(En,5326)),a=await Promise.resolve().then(En.bind(En,9865)),s=new r.AppInsightsCore,o=new a.PostChannel,u={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){u.extensionConfig={};const b={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[o.identifier]=b}const h=e.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(u,[]),s.addTelemetryInitializer(b=>{var Z,P;!h||(b.ext=(Z=b.ext)!=null?Z:{},b.ext.utc=(P=b.ext.utc)!=null?P:{},b.ext.utc.flags=8462029)}),s},"getAICore"),Ti=i(async(n,e,t)=>{const r=await tr(n,e,t);return{logEvent:(s,o)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{r==null||r.unload()}catch(s){throw new Error(`Failed to flush app insights!
`+s.message)}}}},"oneDataSystemClientFactory");var Er;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(Er||(Er={}));class Qr{constructor(e,t,r){this.osShim=r,this._instantiationStatus=Er.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this.ignoreBuiltInCommonProperties=!1,this._clientFactory=t,this._key=e}get additionalCommonProperties(){return{"common.os":this.osShim.platform,"common.nodeArch":this.osShim.architecture,"common.platformversion":(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.2-preview"}}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==Er.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==Er.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===Er.NOT_INSTANTIATED&&(this._instantiationStatus=Er.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Er.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Er.INSTANTIATED}))}}i(Qr,"BaseTelemetryAppender");class Dn{constructor(e,t){this.telemetryAppender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetryAppender),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetryAppender.instantiateAppender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,a){a?this.telemetryAppender.logEvent(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendDangerousTelemetryEvent(e,t,r){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,a){a?this.telemetryAppender.logEvent(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}internalSendTelemetryException(e,t,r,a){a?this.telemetryAppender.logException(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!1)}sendDangerousTelemetryException(e,t,r){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}i(Dn,"BaseTelemetryReporter");class hr{static applyReplacements(e,t){for(const r of Object.keys(e))for(const a of t)a.lookup.test(r)&&(a.replacementString!==void 0?e[r]=a.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(){return hr._instance||(hr._instance=new hr),hr._instance}}i(hr,"TelemetryUtil");const Ai=i(async(n,e)=>{let t;try{const a=await Promise.resolve().then(En.bind(En,5783));t=new a.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(a){return Promise.reject(a)}return{logEvent:(a,s)=>{const o={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};(e==null?void 0:e.length)&&hr.applyReplacements(o,e),t==null||t.track({name:a,data:o})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");class ui extends Dn{constructor(e,t){let r=i(s=>Ai(s,t),"clientFactory");hr.shouldUseOneDataSystemSDK(e)&&(r=i(s=>Ti(s,v),"clientFactory"));const a=new Qr(e,r,{release:navigator.appVersion,platform:"web",architecture:"web"});if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,v)}}i(ui,"TelemetryReporter");const ri="Type of classified event does not match event properties",Mr=i(class{constructor(n){this.context=n,this.sharedProperties={},Mr._instance=this,this.reporter=new ui(Mr.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(n,e){e!==ri&&this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e})}sendEvent(n,e,t){this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e},t)}sendErrorEvent(n,e,t){this.reporter.sendTelemetryErrorEvent(n,{...this.sharedProperties,...e},t)}sendException(n,e,t){this.reporter.sendTelemetryException(n,{...this.sharedProperties,...e},t)}setSharedProperty(n,e){this.sharedProperties[n]=e}reportWorkbenchLoadResult(n){const e="_codespaces.webeditor.connectWorkspace";v.env.appHost==="github.dev"&&(X.debug(`Executing ${e}`),n={...n,errorDetail:n.errorDetail instanceof Error?n.errorDetail.name:void 0},v.commands.executeCommand(e,n).then(t=>{},t=>{X.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let li=Mr;li.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Jr;var ii;(function(n){function e(t){const r=fi(t);return Jr=v.env.uiKind===v.UIKind.Web,X.warn(`Running on the ${Jr?"web":"desktop"}${t.extensionRuntime!==v.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${t.globalStorageUri.toString(!0)}`),r}i(e,"configure"),n.configure=e})(ii||(ii={}));const ci=/\/workspaceStorage\/(?<id>[^/]+)/i;function fi(n){var e;if(n.storageUri===void 0)return"";const t=ci.exec(n.storageUri.path);let r;if((e=t==null?void 0:t.groups)==null?void 0:e.id)r=t.groups.id;else{r=n.storageUri.path;const a=Gn(n.globalStorageUri.path,r),s=`/${n.extension.id}`;r.endsWith(s)?r=r.slice(a,-s.length):r=r.substr(a)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}i(fi,"getWorkspaceId");function di(n,e){return n.reduce((r,a)=>{const s=e(a),o=r.get(s);return o===void 0?r.set(s,[a]):o.push(a),r},new Map)}i(di,"groupBy");function Hi(n){let e=0;for(const t of n){if(t===0)return!0;if(e++,e>8e3)break}return!1}i(Hi,"isBinary");function ki(n,e,t=r=>r){return[...n.reduce((a,s)=>{const o=e(s),u=a.get(o);if(u===void 0)a.set(o,s);else{const l=t(u,s);l!==void 0&&a.set(o,l)}return a},new Map).values()]}i(ki,"uniqueBy");const qn=i(class{constructor(n,e,t,r,a){this.providerService=n,this.storageService=e,this.changeStore=t,this.workspaceId=r,this.context=a,this._onDidChange=new v.EventEmitter,this.cache=new Map,this.lock=new he("WorkspaceRepositories"),this.disposable=v.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),ge.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const n=await v.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void v.window.showTextDocument(n)}onConfigurationChanged(n){if(!ge.changed(n,"experimental.syncRecentList"))return;const e=ge.get("experimental.syncRecentList")===!0?[qn.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(n){const e=ki(n.map(t=>t.rootUri),t=>O(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(n){this.addOrUpdate(n.added)}onRepositoryChanged(n){this.addOrUpdate([n.repository])}async get(n){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((r,a)=>a.timestamp-r.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(n){const t=O(n);e=e.filter(r=>O(r.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(qn.storageKey))}async getRecents(n=10){return(await this.get()).slice(0,n)}async getRemoteWorkspaceSourceProvider(n){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===n)}refresh(){this.cache.clear()}async remove(n){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${n.workspaceId}/${O(n.uri)}`,r=e.get(t);if(r===void 0)return;const a=this.changeStore.getScopedChangeStore(r),s=await a.getChanges(r.uri);if(s.length!==0){const o={title:v.l10n.t("Yes")},u={title:v.l10n.t("No"),isCloseAffordance:!0};if(await v.window.showWarningMessage(s.length===1?v.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):v.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,s.length),{modal:!0},o,u)!==o)return;await a.discardAll(r.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(qn.storageKey,this.toStorage(e))}catch(o){throw X.error(o,"Failed to save workspace repositories"),o}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(n){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of n){const[{HEAD:r,pullRequest:a},s]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),o=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${O(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:r.type,name:r.name},idx:(s==null?void 0:s.type)&&me.hasIndex(s.type)?{type:s.type}:void 0,pullRequest:a?{id:a.id}:void 0,changes:Bi(o),timestamp:Date.now()})}try{await this.storageService.store(qn.storageKey,this.toStorage(e))}catch(t){throw X.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(n){if(!n)return new Map;try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?v.Uri.from(r):r);return new Map(e.workspaceRepositories)}catch(e){return X.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(n){const e={schemaVersion:qn.storageSchemaVersion,workspaceRepositories:[...n]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Zr=qn;Zr.storageKey="workspaceRepositories",Zr.storageSchemaVersion=1;function qr(n){return n!==void 0&&(n.added!==0||n.changed!==0||n.deleted!==0)}i(qr,"hasChanges");function hi(n){return qr(n.changes)}i(hi,"hasUncommittedChanges");function Bi(n){let e=0,t=0,r=0;for(const a of n)switch(a.type){case H.Created:e++;break;case H.Changed:t++;break;case H.Deleted:r++;break}return e||t||r?{added:e,changed:t,deleted:r,timestamp:Date.now()}:void 0}i(Bi,"toChangesSummary");function ai(n,{compact:e=!0,preamble:t,separator:r=", ",short:a=!1,single:s=!1}={}){if(!qr(n))return l10n.t("Everything up to date");const{added:o,changed:u,deleted:l}=n;if(s){const b=o+u+l;return b===1?l10n.t("{0} change",b):l10n.t("{0} changes",b)}let h=`${t!=null?t:""}`;return(o||!e)&&(h+=a?`+${o}`:o===1?l10n.t("{0} file added",o):l10n.t("{0} files added",o),(u||l||!e)&&(h+=r)),(u||!e)&&(h+=a?`~${u}`:u===1?l10n.t("{0} file changed",u):l10n.t("{0} files changed",u),(l||!e)&&(h+=r)),(l||!e)&&(h+=a?`-${l}`:l===1?l10n.t("{0} file deleted",l):l10n.t("{0} files deleted",l)),h}i(ai,"formatChangesSummary");const vi=globalThis.fetch;async function bi(n,e,t){const r=new AbortController;t.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(n,{...e,signal:r.signal})}catch(a){throw t.isCancellationRequested?new CancellationError:a}}i(bi,"fetchWithCancellation");async function $i(n,e,t,r,a){if(t===0)throw new CancellationError;const s=new CancellationTokenSource;r.onCancellationRequested(()=>s.cancel());try{const o=await bi(n,e,s.token);if(o.body){const u=[];let l=0;const h=o.body.getReader();let b=3;for(;;){let{done:Z,value:P}=await h.read();if(Z){const Ie=u.reduce((st,vt)=>st+vt.length,0),Ce=new Uint8Array(Ie);let xe=0;for(const st of u)Ce.set(st,xe),xe+=st.length;return Ce}P&&(u.push(P),l+=P.length);const ae=Math.floor(l/(1024*1024));if(b<ae){b=ae;const Ie={message:ae+" MB"};a.report(Ie)}if(t!==void 0&&l>t)throw h.cancel(),s.cancel(),new Error("LIMIT_HIT")}}}catch(o){throw r.isCancellationRequested?new CancellationError:o}throw new CancellationError}i($i,"fetchUInt8ArrayWithMaxSizeAndCancellation");var Ri=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,kr=i((n,e,t,r)=>{for(var a=r>1?void 0:r?Ii(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(a=(r?o(e,t,a):o(a))||a);return r&&a&&Ri(e,t,a),a},"messages_decorateClass");class mr{async showStatus401Message(e){if(!e)return void v.window.showErrorMessage(v.l10n.t("The provided credentials are either invalid or expired."),v.l10n.t("OK"));const t=v.l10n.t("Reauthenticate");await v.window.showErrorMessage(v.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus403Message(e){if(!e)return void v.window.showErrorMessage(v.l10n.t("The provided credentials do not have the required access."),v.l10n.t("OK"));const t=v.l10n.t("Reauthenticate");await v.window.showErrorMessage(v.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?"),t)===t&&e()}async showRepositoryEmptyMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const r=v.l10n.t("Open Pull Request");await v.window.showErrorMessage(v.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),r)===r&&v.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){const r=v.l10n.t("OK");await v.window.showWarningMessage(v.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,t),r)}async showRepositoryForbiddenMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showRepositoryNotFoundMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const t=v.l10n.t("Open Repository");await v.window.showErrorMessage(v.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),t)===t&&v.commands.executeCommand("remoteHub.openRepository")}}i(mr,"Messages"),kr([Cn(()=>"")],mr.prototype,"showStatus401Message",1),kr([Cn(()=>"")],mr.prototype,"showStatus403Message",1),kr([Cn()],mr.prototype,"showRepositoryEmptyMessage",1),kr([Cn()],mr.prototype,"showPullRequestNotFoundMessage",1),kr([Cn()],mr.prototype,"showPullRequestHeadNotFoundMessage",1),kr([Cn()],mr.prototype,"showRepositoryForbiddenMessage",1),kr([Cn()],mr.prototype,"showRepositoryNotFoundMessage",1),kr([Cn()],mr.prototype,"showUnableToOpenRepositoryMessage",1);const Nn=new mr,Zn="microsoft",Wi=null;class $n{constructor(e){this.authService=e,this.apiVersion="7.0",this.apiPageSize=100}async getAccounts(){var e;try{const t=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"profile/profiles/me"});if(t===void 0)throw new Error("Profile information could not be read.");const r={memberId:t.publicAlias},a=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"accounts",query:r});return(e=a==null?void 0:a.value)==null?void 0:e.map(s=>s.accountName).sort((s,o)=>s.localeCompare(o))}catch(t){X.error(t);return}}async getProjects(e){let t=0,r=0;const a=[],s={};do{s.$top=this.apiPageSize,s.$skip=r*this.apiPageSize;const o=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"projects",query:s});if(!o)break;t=o.value.length,a.push(...o.value),r++}while(t===this.apiPageSize);return a.sort((o,u)=>o.name.localeCompare(u.name))}async createPullRequest(e,t,r,a){const s={supportsIterations:!0};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pullrequests",query:s,method:"POST",body:JSON.stringify(a)})}async createPushes(e,t,r,a){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pushes",method:"POST",body:JSON.stringify(a)})}async getBlob(e,t,r,a){return await this.sendRequestBuffer({baseUrl:this.getGitBaseUrl(e,t,r),url:`blobs/${a}`})}async getBranchStats(e,t,r,a){try{const s={name:a};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"stats/branches",query:s})}catch(s){X.error(s);return}}async getCommit(e,t,r,a){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`commits/${a}`})}async getCommits(e,t,r,a){var s,o,u,l;const h={"searchCriteria.$top":(s=a==null?void 0:a.limit)!=null?s:this.apiPageSize,"searchCriteria.itemPath":(o=a==null?void 0:a.path)!=null?o:"/","searchCriteria.itemVersion.version":(l=(u=a==null?void 0:a.cursor)!=null?u:a==null?void 0:a.ref)!=null?l:"","searchCriteria.itemVersion.versionType":"commit"},b=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"commits",query:h});return b==null?void 0:b.value}async getDiffs(e,t,r,a,s){var o,u,l;const h={diffCommonCommit:!1,baseVersion:a,baseVersionType:"commit",targetVersion:s,targetVersionType:"commit"};let b=0;const Z=[];let P;do{if(h.$top=this.apiPageSize,h.$skip=b*this.apiPageSize,P=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"diffs/commits",query:h}),P==null)break;Z.push(...(o=P.changes)!=null?o:[]),b++}while(!P.allChangesIncluded);return{ahead:(u=P==null?void 0:P.aheadCount)!=null?u:0,behind:(l=P==null?void 0:P.behindCount)!=null?l:0,changes:Z}}async getItem(e,t,r,a,s,o){const u={path:o===void 0||o===""?"/":o,recursionLevel:"none","versionDescriptor.version":a,"versionDescriptor.versionType":s};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:u})}async getItems(e,t,r,a,s,o,u){const l={scopePath:u===void 0||u===""?"/":u,recursionLevel:o,"versionDescriptor.version":a,"versionDescriptor.versionType":s},h=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:l});return h==null?void 0:h.value}async getPullRequest(e,t,r,a){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`pullrequests/${a}`})}async getRefs(e,t,r,a){var s,o,u;try{const l={filter:a.filter,filterContains:(s=a.filterContains)!=null?s:"",$top:(o=a.top)!=null?o:this.apiPageSize},h=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",query:l});return(u=h==null?void 0:h.value)!=null?u:[]}catch(l){return X.error(l),[]}}async getRepositories(e,t){try{const r=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t)});return r==null?void 0:r.value.filter(a=>a.defaultBranch&&!a.isDisabled).sort((a,s)=>a.name.localeCompare(s.name))}catch(r){X.error(r);return}}async getRepository(e,t,r){try{const a=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r)});if(a===void 0)throw new Error(`Repository '${r}' does not exist in Azure DevOps organization/project '${e}/${t}'.`);return a}catch(a){throw X.error(a),a}}async getTree(e,t,r,a,s){const o={recursive:s};return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`trees/${a}`,query:o})}async updateRefs(e,t,r,a){return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",method:"POST",body:JSON.stringify(a)})}async getSearchableBranches(e,t,r){try{return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:`search/status/repositories/${r}`,method:"GET"})}catch(a){X.error(a);return}}async searchCode(e,t,r,a,s){try{const o={searchText:s,$skip:0,$top:1e3,filters:{Project:[t],Repository:[r],Branch:[a],Path:["/"]},$orderBy:[{field:"filename",sortOrder:"ASC"}],includeSnippet:!0};return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:"search/codesearchresults",method:"POST",body:JSON.stringify(o)})}catch(o){X.error(o);return}}async getGitSecurityNamespace(e){try{const t="2e9eb7ed-3c0a-47d4-87c1-0ffdd275fd87",r=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:`securitynamespaces/${t}`,method:"GET"});return(r==null?void 0:r.count)===1?r.value[0]:void 0}catch(t){X.error(t);return}}async getSecurityPermissionEvaluation(e,t,r){try{const a=t.actions.map(o=>({securityNamespaceId:t.namespaceId,token:r,permissions:o.bit})),s=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"security/permissionevaluationbatch",method:"POST",body:JSON.stringify({alwaysallowadministrators:!1,evaluations:a})});return s==null?void 0:s.evaluations}catch(a){X.error(a);return}}getGitBaseUrl(e,t,r){return`https://dev.azure.com/${e}/${t}/_apis/git/repositories${r?`/${r}`:""}`}getOrganizationBaseUrl(e){return`https://dev.azure.com/${e}/_apis`}getQueryParameters(e={}){return e={...e,"api-version":this.apiVersion},Object.entries(e).map(([t,r])=>`${t}=${r}`).join("&")}async sendRequest(e){e={...e,headers:{Accept:"application/json","Content-Type":"application/json"}};const t=await this._sendRequest(e);if(t===void 0)return;const r=await t.json();return r!=null?r:void 0}async sendRequestBuffer(e){e={...e,headers:{Accept:"application/octet-stream"}};const t=await this._sendRequest(e);if(t!==void 0)return t.arrayBuffer()}async _sendRequest(e){var t;const r=`${e.baseUrl}${e.url?`/${e.url}`:""}?${this.getQueryParameters(e.query)}`;try{const a=await this.authService.getBase64AuthenticationSessionToken();if(!a)throw J.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate());const s={...e.headers,Authorization:`Basic ${a}`},o=await vi(r,{method:(t=e.method)!=null?t:"GET",body:e.body,headers:s});if(o.status===401)throw J.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate());if(o.status===403)throw J.CommitToProtectedBranchError(o.statusText);return o.status===404?void 0:o}catch(a){throw X.error(a),J.asVirtualProviderErrorCode(a)===Re.InvalidCredentialsError&&Nn.showStatus401Message(a.action),a}}}i($n,"AdoClient");var zi=Object.defineProperty,Br=Object.getOwnPropertyDescriptor,jr=i((n,e,t,r)=>{for(var a=r>1?void 0:r?Br(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(a=(r?o(e,t,a):o(a))||a);return r&&a&&zi(e,t,a),a},"authentication_decorateClass");const vr="microsoft",Sr=["499b84ac-1321-427f-aa17-267ca6975798/.default","offline_access"];class gi{async ensureAuthenticated(e=!1){const t=new x("AzDO.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return e?await v.authentication.getSession(vr,Sr,{forceNewSession:e}):await v.authentication.getSession(vr,Sr,{createIfNone:!0})}catch{try{const s=await v.authentication.getSession(vr,Sr,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function o(){const l=await v.authentication.getSession(vr,Sr,{createIfNone:!0});l!==void 0&&s(l)}i(o,"getSession");const u=v.authentication.onDidChangeSessions(async l=>{l.provider.id===vr&&(u.dispose(),await o())})})}}i(r,"waitUntilAuthenticated"),this._session=await r();const a=v.authentication.onDidChangeSessions(async s=>{if(this._session===void 0){a.dispose();return}s.provider.id===vr&&(await v.authentication.getSession(vr,Sr,{silent:!0})||(this.clearAuthenticationSession(),a.dispose()))})}return this._session}finally{t.stop()}}getBase64AuthenticationSessionToken(e){if(this._sessionTokenBase64===void 0){if(e===void 0)return this.ensureAuthenticated().then(t=>(this._sessionTokenBase64=Fn(`PAT:${t.accessToken}`),this._sessionTokenBase64));this._sessionTokenBase64=Fn(`PAT:${e.accessToken}`)}return this._sessionTokenBase64}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}clearAuthenticationSession(){this._session=void 0,this._sessionTokenBase64=void 0}}i(gi,"AdoAuthenticationService"),jr([Cn()],gi.prototype,"ensureAuthenticated",1);var pi=En(7360),Oi=En(919),mi=En.n(Oi);function Ki(n,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(n);let r;if(e==null?void 0:e.length){const a=new Set([...e,...e.map(o=>`${o}/**`)]),s=mi()(n,[...a],{dot:!0,nocase:!0});r=new Set(s)}if(t==null?void 0:t.length){const a=new Set([...t,...t.map(s=>`${s}/**`)]);if(r===void 0){const s=mi().not(n,[...a],{dot:!0,nocase:!0});r=new Set(s)}else mi()(n,[...a],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}i(Ki,"globFilter");const ji="";function Yi(...n){if(n.length===1){const e=n[0];return e===void 0?ji:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof v.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}i(Yi,"serialize_defaultResolver");function _i(n){return(e,t,r)=>{let a;if(typeof r.value=="function"?a=r.value:typeof r.get=="function"&&(a=r.get),a===void 0)throw new Error("Not supported");const s=`$serialize$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:Yi)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];const h=i(()=>a.apply(this,o),"run");return l===void 0?l=h():l=l.then(h,h),this[u]=l,l}}}i(_i,"serialize");function yi(n){const e=n.path.startsWith("/")?n.path.slice(1):n.path,[t,r,a]=e.split("/");return{organization:t,project:r,name:a}}i(yi,"getRepositoryDescriptor");var Gi=Object.defineProperty,Pi=Object.getOwnPropertyDescriptor,Ei=i((n,e,t,r)=>{for(var a=r>1?void 0:r?Pi(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(a=(r?o(e,t,a):o(a))||a);return r&&a&&Gi(e,t,a),a},"fs_decorateClass");const Vi=v.FileSystemError.FileNotFound().code,Qi=/(\/|\\)/g;class ei{constructor(e,t,r,a){this.providerService=e,this.changeStore=t,this.azdo=r,this.adoClient=a,this._onDidChangeFile=new v.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=v.Disposable.from(v.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),v.workspace.registerFileSearchProvider(this.scheme,this),v.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.azdo.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>w.getProviderId(t)===this.scheme).map(t=>w.getProviderUri(t)),e.length!==0){X.log(`AzDOFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,r]of[...this.pendingUriRequests])e.some(a=>I(r.uri,a))&&(this.pendingUriRequests.delete(t),r.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=w.getOpenUris(this.scheme,e);for(const[a,s]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(o=>I(s,o))&&(this.implicitlyWatchedUris.delete(a),t.set(a,s));X.debug(`AzDOFS.updateOpenOrWatchedUris(${e.map(a=>a.toString()).join(", ")}): uris=${t.size}`);for(const a of e)t.set(O(a),a);const r=[...t.values()].map(a=>({type:v.FileChangeType.Changed,uri:a}));setTimeout(()=>{X.debug(`AzDOFS.updateOpenOrWatchedUris: Firing events=${r.map(a=>a.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(e,t){const r=O(e);return this.watchedUris.set(r,e),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(e){var t;const r=O(e);this.implicitlyWatchedUris.set(r,e);const a=this.azdo.getProviderRootUri(e),{organization:s,project:o,name:u}=yi(e),l=this.providerService.getRelativeFilePath(a,e),h={uri:e,outdated:!1};if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s&&o&&u)try{this.pendingUriRequests.set(`stat:${r}`,h);const b=await this.azdo.getFileTree(e),Z=await b.get(l);if(Z==null?void 0:Z.stat)return Z.stat;if(this.implicitlyWatchedUris.delete(r),e.query==="~")return{type:v.FileType.File,size:0,ctime:0,mtime:(t=b.timestamp)!=null?t:Date.now(),permissions:v.FilePermission.Readonly};throw v.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${r}`),(h==null?void 0:h.outdated)&&setTimeout(()=>{X.log(`AzDOFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:v.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}return{type:v.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:v.FilePermission.Readonly}}async readDirectory(e,t){var r,a,s;this.implicitlyWatchedUris.set(O(e),e);const{organization:o,project:u,name:l}=yi(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o&&u&&l){const h=await this.azdo.getFileTree(e),b=this.providerService.getVirtualRootUri(e),Z=this.providerService.getRelativeFilePath(b,e),P=(await h.getChildren(Z,t)).map(([ae,{stat:{type:Ie}}])=>[ae,Ie]);return Z===""&&x.stop("Time to root directory"),P}else if(o){if(o&&!u)return((a=await this.adoClient.getProjects(o))!=null?a:[]).map(h=>[h.name,v.FileType.Directory]);if(o&&u&&!l)return((s=await this.adoClient.getRepositories(o,u))!=null?s:[]).map(h=>[h.name,v.FileType.Directory])}else return((r=await this.adoClient.getAccounts())!=null?r:[]).map(h=>[h,v.FileType.Directory]);throw v.FileSystemError.FileNotFound(e)}createDirectory(e){throw v.FileSystemError.NoPermissions()}async readFile(e){const t=O(e);this.implicitlyWatchedUris.set(t,e);const r={uri:e,outdated:!1};try{return this.pendingUriRequests.set(t,r),await this.azdo.getFileContent(e)}catch(a){if(this.implicitlyWatchedUris.delete(t),a instanceof v.FileSystemError&&a.code===Vi&&e.query==="~")return new Uint8Array(0);throw a}finally{this.pendingUriRequests.delete(t),(r==null?void 0:r.outdated)&&setTimeout(()=>{X.log(`AzDOFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:v.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,r){throw v.FileSystemError.NoPermissions()}delete(e,t){throw v.FileSystemError.NoPermissions()}rename(e,t,r){throw v.FileSystemError.NoPermissions()}copy(e,t,r){throw v.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:r,includes:a,excludes:s},o){const u=`${O(t)}|${JSON.stringify({includes:a,excludes:s})}`;let l=this.fileSearchCache.get(u);if(l===void 0){const b=await this.providerService.getMetadata(t),Z=await this.azdo.getRepoItems(b,"",!0);let P=[];for(const ae of Z)ae.isFolder||P.push(ae.path);if(P.length===0||o.isCancellationRequested)return[];((a==null?void 0:a.length)||(s==null?void 0:s.length))&&(P=[...Ki(P,a,s)]),l=P.map(ae=>pi.prepareSlow(ae)),this.fileSearchCache.set(u,l)}let h;return e.pattern===""?h=l.map(b=>v.Uri.joinPath(t,b.target)):(h=pi.go(e.pattern.replace(Qi,"/"),l,{allowTypo:!0,limit:r}).map(b=>v.Uri.joinPath(t,b.target)),pi.cleanup()),r!==void 0&&r!==0&&r<h.length&&(h=h.slice(0,r)),h}async provideTextSearchResults(e,t,r,a){const s=[],o=await this.providerService.getMetadata(t.folder);if(o.HEAD.type!==j.Branch)return s.push({text:v.l10n.t("Code search is only supported on branches. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:v.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};if(!(await this.azdo.getSearchableBranches(o)).includes(o.HEAD.name))return s.push({text:v.l10n.t("The current branch has not been configured for code search. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:v.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};(e.isCaseSensitive||e.isRegExp||e.isWordMatch)&&s.push({text:v.l10n.t("Search flags are not supported."),type:v.TextSearchCompleteMessageType.Warning});const l=await this.azdo.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(l.warnings&&l.warnings.forEach(b=>{s.push({text:b,type:v.TextSearchCompleteMessageType.Warning})}),l===void 0)return{limitHit:!0,message:s};let h;for(const b of l.matches)h=v.Uri.joinPath(t.folder,b.path),r.report({uri:h,ranges:b.ranges,preview:{text:b.preview,matches:b.matches}});return{limitHit:!1,message:s}}}i(ei,"AzDOFS"),Ei([_i()],ei.prototype,"stat",1),Ei([_i()],ei.prototype,"readDirectory",1),Ei([_i()],ei.prototype,"readFile",1);var Ji=En(6470),Ni;(function(n){n[n.Force=0]="Force",n[n.ForceWithLease=1]="ForceWithLease"})(Ni||(Ni={}));var si;(function(n){n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag"})(si||(si={}));var Ar;(function(n){n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Ar||(Ar={}));var Li;(function(n){n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.PermissionDenied="PermissionDenied",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n.NoPathFound="NoPathFound",n.UnknownPath="UnknownPath"})(Li||(Li={}));function*Si(n,e){for(const t of n)yield*e(t)}i(Si,"flatMap");function*Xi(n,e){for(const t of n)e(t)&&(yield t)}i(Xi,"filter");function*qi(n,e){for(const t of n){const r=e(t);r!=null&&(yield r)}}i(qi,"filterMap");function Mi(n,e){for(const t of n)if(e(t))return t}i(Mi,"find");function Zi(n,e){let t="";const r=n[Symbol.iterator]();let a=r.next();if(a.done)return t;for(;;){const s=a.value.toString();if(a=r.next(),a.done){t+=s;break}t+=s,t+=e}return t}i(Zi,"join");function*Fi(n,e){for(const t of n)yield e(t)}i(Fi,"map");function wi(n,e){for(const t of n)if(e(t))return!0;return!1}i(wi,"some");function*ea(...n){for(const e of n)for(const t of e)yield t}i(ea,"union");function*ta(n){const e=new Set;for(const t of n)e.has(t)||(e.add(t),yield t)}i(ta,"unique");class Ci{constructor(e,t){this.path=e,this.relativePath=t}}i(Ci,"TrieNode");class S{constructor(){this.root=new Ci("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const a of e.split("/")){const s=(t=r.children)==null?void 0:t.get(a);if(s===void 0)return;r=s}return r.path===e?r.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;if(e)for(const a of e.split("/")){const s=(t=r.children)==null?void 0:t.get(a);if(s===void 0)return[];r=s}return r.children===void 0?[]:[...r.children.values()].map(a=>[a.relativePath,a.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;const a=[];if(e)for(const s of e.split("/")){const o=(t=r.children)==null?void 0:t.get(s);if(o===void 0)return a;r=o}if(r.children!==void 0){let s=i(function(o,u,l){for(const h of o.values()){const b=`${u?`${u}/`:""}${h.relativePath}`;h.data&&l.push([b,h.data]),h.children!==void 0&&s(h.children,b,l)}},"getDescendantsCore");s(r.children,"",a)}return a}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const a of e.split("/")){const s=(t=r.children)==null?void 0:t.get(a);if(s===void 0)return!1;r=s}return r.path===e}set(e,t){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let a=this.root,s="";for(const o of e.split("/")){let u=(r=a.children)==null?void 0:r.get(o);s=`${s?`${s}/`:""}${o}`,u===void 0&&(a.children===void 0&&(a.children=new Map),u=new Ci(s,o),a.children.set(o,u)),a=u}a.data=t}}i(S,"Trie");var f=En(5431),T=En.n(f);class M{constructor(e,t,r,a,s){if(this.rootUri=e,this.sha=t,this.timestamp=r,this.provider=a,this.trie=new S,this._hasEntireTree=!1,this._isContentCached=!1,a===void 0)return;const o=[a];a.onDidTriggerContentCaching!==void 0&&a.tryCachingContent!==void 0&&o.push(a.onDidTriggerContentCaching(u=>{(!u||O(u.rootUri)===O(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&a.tryCachingContent(this.trie.get.bind(this.trie)).then(l=>this._isContentCached=l,()=>this._isContentCached=!0)})),this._loading=this.load(s==null?void 0:s.path,s==null?void 0:s.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var l;return void((l=a.tryCachingContent)==null?void 0:l.call(a,this.trie.get.bind(this.trie)).then(h=>this._isContentCached=h,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(s==null?void 0:s.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=v.Disposable.from(...o)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:v.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(e);return r!==void 0||(await this.ensureLoaded(e),r=this.trie.get(e)),r}async getChildren(e,t){await this.ensureLoaded(e,!0);const r=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?r:r.filter(([,a])=>a.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let a;if(this.preloading!==void 0)if(t)a=this.preloading.get(e);else{const s=Mi(this.preloading,([o])=>e.startsWith(o)&&e.lastIndexOf("/")===(o?o.length:-1));a=s==null?void 0:s[1]}await(a!=null?a:this._loading)}if(this.hasEntireTree||e==="")return;let r=this.trie.get(e);if(r)return t&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),r=this.trie.get(e),t&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(e,t=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const a=new x(`FileTree.load(${this.sha}:${e})`);let s;try{a.logStep("Tree query");const o=await this.provider.getTree(e,t);if(o.truncated){X.warn(`Loading file tree for path=${e} was truncated`),a.logStep("Fixing directories",{message:`: Tree=${o.sha};`,suffix:" \u2022 Fixing directories..."});for(const[l,h]of this.trie.getDescendants(""))h.stat.type===v.FileType.Directory&&(h.loadChildren=T()(()=>this.load(l).then(()=>h.loadChildren=void 0)));return s=` \u2022 Tree=${o.sha} \u2022 Truncated`,{sha:o.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(a.logStep("Permissions query",{message:`: Tree=${o.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),a.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:l,item:h}of o.tree)if(l!==void 0){switch(l=e?`${e}/${l}`:l,h.stat.permissions=u,h.stat.type){case v.FileType.File:h.getContent=T()(()=>this.provider.getContent(h,l));break;case v.FileType.Directory:t||(h.loadChildren=T()(()=>this.load(l).then(()=>h.loadChildren=void 0)));break}this.trie.set(l,h)}return s=` \u2022 Tree=${o.sha}`,{sha:o.sha,recursive:t,success:!0}}catch(o){return s=`\u2022 Loading for path=${e} failed; ${String(o)}`,{error:o,success:!1}}finally{a.stop(s?{suffix:s}:void 0)}}}i(M,"FileTree");const de=/^https?:\/\/dev\.azure\.com(?:\/defaultcollection)?\/(?<organization>[^/]+)(?:\/(?<project>[^_/][^/]*))?(?:\/_git)?\/(?<repo>[^/?#]+)(?:\/commit\/(?<commit>[0-9a-f]{40})|\/pullrequest\/(?<pull>\d+))?/i,Ee=1,Ne=Object.freeze({id:"azurerepos",name:"Azure Repos"});function Ue(n){return(n.query.includes("&")?n.query:decodeURIComponent(n.query)).split("&").reduce((t,r)=>{const a=r.split("=");return t[a[0]]=a[1],t},{})}i(Ue,"parseQuery");function nt(n){const{scheme:e,metadata:t}=w.decodeAuthority(n),[,r,a,s,...o]=n.path.split("/");return{scheme:e,provider:Ne,name:`${r}/${a}/${s}`,repo:{organization:r,project:a,name:s},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}i(nt,"getAzDOMetadata");function lt(n,e){const{repo:t}=e!=null?e:nt(n);return n.with({path:`/${t.organization}/${t.project}/${t.name}`,query:"",fragment:""})}i(lt,"getAzDORootUri");function pt(n,e,t){const{repo:{organization:r,name:a}}=n instanceof v.Uri?nt(n):n;return v.Uri.parse(`azurerepos://${w.encodeAuthority("azurerepos",{v:Ee,ref:{type:Te.Commit,id:e}})}/${r}/${a}/${t}`)}i(pt,"getAzDORevisionUri");function Pt(n){var e,t,r,a,s,o;const u=de.exec(n);if((u==null?void 0:u.groups)===void 0)return;const{organization:l,project:h,repo:b,commit:Z,pull:P}=u.groups,ae=Ue(v.Uri.parse(n)),Ie=/^GB(?<branchName>.+)/i.exec((e=ae.version)!=null?e:""),Ce=/^GT(?<tagName>.+)/i.exec((t=ae.version)!=null?t:""),xe=/^GC(?<commit>[0-9a-f]{40})/i.exec((r=ae.version)!=null?r:""),st=ae.path&&ae.path!=="/"?ae.path:void 0;return{organization:l,project:h,repo:b,branch:(a=Ie==null?void 0:Ie.groups)==null?void 0:a.branchName,tag:(s=Ce==null?void 0:Ce.groups)==null?void 0:s.tagName,commit:Z!=null?Z:(o=xe==null?void 0:xe.groups)==null?void 0:o.commit,pull:P,path:st}}i(Pt,"parseAzureReposUrl");class Gt{constructor(e,t,r,a){this.providerService=e,this.authService=t,this.metadataStore=r,this.adoClient=a,this.fileTreeCache=new Map,this.disposable=v.Disposable.from(e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get scheme(){return"azurerepos"}get repositories(){return[...this.providerService.getRepositories(Ne.id)]}dispose(){this.disposable.dispose()}getRemoteSourceProviders(){return[{name:"Azure Repos",icon:"azure-devops",supportsQuery:!1,placeholder:v.l10n.t("Choose a repository"),label:v.l10n.t("Open Repository from {0}","Azure Repos"),getRemoteSources:async e=>{var t,r,a;const s=(t=await this.getOrganizations())==null?void 0:t.label;if(!s)return;const o=(r=await this.getProjects(s))==null?void 0:r.label;return o?((a=await this.adoClient.getRepositories(s,o))!=null?a:[]).map(l=>({providerId:"azurerepos",name:l.name,icon:"repo",detail:void 0,url:l.webUrl})):void 0}}]}canOpenRemoteUrl(e){const t=Pt(e);if(t===void 0)return;const{branch:r,tag:a,commit:s,path:o,pull:u}=t;return u?ne.PullRequest:o?ne.File:r?ne.Branch:a?ne.Tag:s?ne.Commit:ne.Repository}async compareCommits(e,t){const r=await this.getMetadata(e),a=await this.getAheadBehindState(e,r,{base:t.base,head:t.compare});return a==null?void 0:a.incomingChanges}async createAndPushCommit(e,t,r,a,s,o){var u,l,h;const b=new x(`AzureRepos.createAndPushCommit(${e.toString()}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);if(r=r.filter(P=>P.fileType===v.FileType.File),r.length===0)throw b.stop({message:"Aborted; No changes to commit"}),J.NothingToCommitError("No changes to commit");let Z;try{const P=await this.getMetadata(e);let ae;if(a!==void 0)ae=a;else{if(P.HEAD.detached&&!P.HEAD.branch)throw J.DetachedHEADError("Unable to commit; no current branch");ae=P.HEAD.branch.name}const Ie=[];for(const xe of r){const st=en(xe);if(st===void 0)throw new Error("Unknown commit operation type.");switch(xe.type){case H.Created:case H.Changed:{try{const vt=await xe.content;Ie.push({changeType:st,item:{path:xe.path},newContent:{content:Fn(vt),contentType:"base64Encoded"}})}catch(vt){throw X.error(vt),J.CommitFailedError()}break}case H.Deleted:Ie.push({changeType:st,item:{path:xe.path}});break}}const Ce=await this.adoClient.createPushes(P.repo.organization,P.repo.project,P.repo.name,{commits:[{changes:Ie,comment:t}],refUpdates:[{name:`refs/heads/${ae}`,oldObjectId:(l=(u=P.HEAD.branch)==null?void 0:u.sha)!=null?l:""}]});if(Z=((h=Ce==null?void 0:Ce.refUpdates)==null?void 0:h.length)===1?Ce.refUpdates[0].newObjectId:void 0,Z===void 0)throw J.CommitFailedError();return a===void 0&&!P.HEAD.detached&&Z!==void 0&&await this.fastForwardTo(e,Z,P),Z}catch(P){const{statusCode:ae}=P;throw ae===409?J.MergeConflictError(P):(X.error(P),P)}finally{b.stop(Z?{message:`: Created and pushed commit ${Z}`}:void 0)}}async createBranch(e,t,r,a){try{const{repo:s}=await this.getMetadata(e);t.startsWith("refs/heads/")||(t=`refs/heads/${t}`);const o=await this.adoClient.updateRefs(s.organization,s.project,s.name,[{name:t,newObjectId:r,oldObjectId:"0000000000000000000000000000000000000000",repositoryId:s.name}]);if(!o||o.value.length!==1)throw new Error("Branch creation has failed. Unknown error.");const u=o.value[0];if(!u.success)throw u.updateStatus==="staleOldObjectId"?J.InvalidBranchNameError(t.substring(11),!0):J.InvalidBranchNameError(t.substring(11),!1);return u.name.substring(11)}catch(s){throw X.error(s),s}}async createMetadata(e,t){var r,a,s,o;const u=new x(`AzDO.createMetadata(${e.toString()}, ${t})`);let l;try{let{provider:h,name:b,repo:{organization:Z,project:P,name:ae},ref:Ie}=nt(e);if(!Ie||Ie.type===Te.Commit&&/HEAD/i.test(Ie.id))Ie={type:Te.Commit,id:"HEAD"};else if((Ie.type===Te.Branch||Ie.type===Te.Tag)&&(Ie=await this.validateBranchOrTagCasing(Z,P,ae,Ie.id,Ie.type),Ie===void 0))throw new Error(`Cannot get metadata for Uri(${e.toString(!0)}); Unable to find the specified branch or tag`);const Ce=await this.getRepositoryInfo(Z,P,ae,Ie);if(Ce===void 0)throw l=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let xe;if(t)xe=t;else if(Ie.type===Te.Commit&&Ie.id!=="HEAD")xe=Ie.id;else if(xe=(a=(r=Ce.ref)==null?void 0:r.sha)!=null?a:Ce.defaultBranch.sha,xe===void 0)throw l=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let st;((s=Ce.ref)==null?void 0:s.prefix)==="refs/heads/"?st={type:j.Branch,name:Ce.ref.name,sha:xe,branch:{name:Ce.ref.name,sha:Ce.ref.sha}}:((o=Ce.ref)==null?void 0:o.prefix)==="refs/tags/"?st={type:j.Tag,name:Ce.ref.name,sha:xe,detached:{type:j.Tag,name:Ce.ref.name}}:st={type:j.Commit,name:$(xe),sha:xe,detached:{type:j.Commit,name:$(xe)}};const vt={version:Je,timestamp:Date.now(),provider:h,name:b,repo:Ce.repo,accessLevel:Ce.accessLevel,HEAD:st,defaultBranch:Ce.defaultBranch,pullRequest:Ce.pullRequest,cloneUrl:Ce.cloneUrl};return l=` \u2022 HEAD=${st.sha}`,vt}finally{u.stop(l?{suffix:l}:void 0)}}async createPullRequest(e,t,r,a,s,o){var u,l;const h=new x(`GitHub.createPullRequest(${e.toString()}, ${t}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);try{const{repo:{organization:b,project:Z,name:P},HEAD:{branch:ae},defaultBranch:Ie}=await this.getMetadata(e),Ce=await this.adoClient.createPullRequest(b,Z,P,{title:r,description:a,sourceRefName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`,targetRefName:`refs/heads/${(u=ae==null?void 0:ae.name)!=null?u:Ie.name}`,isDraft:(l=s==null?void 0:s.draft)!=null?l:!1});if(Ce===void 0)throw new Error("Pull request creation failed. Unknown error.");const xe=Ce.pullRequestId.toString();return{id:xe,uri:v.Uri.parse(`${Ce.repository.webUrl}/pullrequest/${xe}`)}}catch(b){throw X.error(b),b}finally{h.stop()}}createVirtualUri(e,{repo:t,ref:r,idx:a},s){if((r==null?void 0:r.type)===Te.Tree)throw new Error(`Invalid ref type '${r.type}'`);const o=r!==void 0||a!==void 0?{v:Ee}:void 0;return o&&(r&&(o.ref={type:r.type,id:r.id}),a&&(o.idx=a)),e.with({authority:w.encodeAuthority("azurerepos",o),path:`/${t.organization}/${t.project}/${t.name}${(s==null?void 0:s.startsWith("/"))?s:`/${s!=null?s:""}`}`})}async createWorkspaceForRemoteUrl(e,t=se.CurrentWindow){const r=Pt(e);if(r===void 0)return;const{organization:a,project:s,repo:o,branch:u,tag:l,commit:h,path:b,pull:Z}=r;let P;u?P={type:Te.Branch,id:u}:l?P={type:Te.Tag,id:l}:h?P={type:Te.Commit,id:h}:Z&&(P={type:Te.PullRequest,id:Z});const ae=this.createVirtualUri(w.baseVirtualWorkspaceUri,{repo:{organization:a,project:s!=null?s:o,name:o},ref:P}),{name:Ie}=nt(w.getVirtualUri(this.getProviderRootUri(ae)));return{name:Ie,uri:ae,location:t,filesToOpen:b?[b]:void 0}}async fetch(e,t){const{fetched:r,metadata:a}=await this.fetchCore(e,!1,t);r&&await this.metadataStore.set(w.getVirtualUri(e),a.HEAD.sha,a)}async getAuthentication(e){const t=await this.authService.ensureAuthenticated();return{provider:Ne,session:t,getRichNavigationHeaders:()=>({"X-Git-AzureDevOps":`Basic ${this.authService.getBase64AuthenticationSessionToken(t)}`})}}async getBranch(e,t){const{branches:r}=await this.getBranches(e,{query:t,limit:1});return r[0]}async getBranches(e,t){const{repo:{organization:r,project:a,name:s}}=nt(e);return{branches:(await this.adoClient.getRefs(r,a,s,{filter:"heads/",filterContains:t.query,top:t.limit})).map(u=>({type:si.Head,name:u.name.substring(11),commit:u.objectId,commitUrl:u.url,locked:u.isLocked}))}}async getCommit(e,t){var r,a;try{const{repo:{organization:s,project:o,name:u}}=await this.getMetadata(e),l=await this.adoClient.getCommit(s,o,u,t);return l===void 0?void 0:{hash:l.commitId,message:(r=l.comment)!=null?r:"",parents:(a=l.parents)!=null?a:[],authorDate:new Date(l.author.date),authorEmail:l.author.email,authorName:l.author.name,commitDate:new Date(l.committer.date)}}catch(s){return}}async getCommits(e,t){var r;try{const{repo:{organization:a,project:s,name:o}}=await this.getMetadata(e),u=(r=t==null?void 0:t.limit)!=null?r:100,l=await this.adoClient.getCommits(a,s,o,{...t,limit:u+1});if(l===void 0)return;const h=l.map((Z,P)=>({hash:Z.commitId,message:Z.comment,parents:l[P+1]?[l[P+1].commitId]:[],authorDate:new Date(Z.author.date),authorEmail:Z.author.email,authorName:Z.author.name,commitDate:new Date(Z.committer.date)}));let b;return h.length>u&&(h.splice(h.length-1,1),b={cursor:h[h.length-1].hash,more:!0}),{commits:h,paging:b}}catch(a){return}}async getFileContent(e,t,r){try{let a;if(t&&r&&!this.hasFileTree(e,t)){const s=this.getProviderRootUri(e);r.startsWith("/")&&(r=r.slice(1));let o=(0,Ji.dirname)(r);(o==="."||o==="/")&&(o=""),a=await(await this.getFileTree(s,t,{path:o,cache:!1,recursive:!1})).get(r)}else{const[s,{path:o}]=await Promise.all([this.getFileTree(e,t),r?{path:void 0}:this.providerService.getMetadata(e)]);a=await s.get(r!=null?r:o)}if((a==null?void 0:a.sha)===void 0)throw v.FileSystemError.FileNotFound(e);return await a.getContent()}catch(a){throw X.logLevel===oe.Debug&&X.error(a),a}}async getIncomingChanges(e){var t,r;return(r=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?r:[]}async getModeRefType(e,t){const{HEAD:r,pullRequest:a}=await(t!=null?t:this.getMetadata(e));switch(r.type){case j.Branch:return a!==void 0?F.PullRequestBranch:F.Branch;case j.RemoteBranch:return a!==void 0?F.PullRequestRemoteBranch:F.RemoteBranch;case j.Tag:return F.Tag;case j.Commit:return F.Commit}}getProviderRootUri(e){return e=w.getProviderUri(e),lt(e)}getRelativeFilePath(e,t){let{path:r}=nt(e);const{path:a}=nt(E(e,t));return r.length!==0&&a!==r&&a.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,a.slice(r.length)):a}getRemoteUri(e){const t=`https://dev.azure.com/${e.repo.organization}/${e.repo.project}/_git/${e.repo.name}`,r=e.path?`&path=/${e.path}`:"";return e.pullRequest?v.Uri.parse(`${t}/pullrequest/${e.pullRequest.id}`):e.branch?v.Uri.parse(`${t}?version=GB${e.branch}${r}`):e.tag?v.Uri.parse(`${t}?version=GT${e.tag}${r}`):e.sha?v.Uri.parse(`${t}?version=GC${e.sha}${r}`):v.Uri.parse(t)}async getTags(e,t){const{repo:{organization:r,project:a,name:s}}=nt(e);return{tags:(await this.adoClient.getRefs(r,a,s,{filter:"tags/",filterContains:t.query,top:t.limit})).map(u=>({type:si.Tag,name:u.name.substring(10),commit:u.objectId,commitUrl:u.url}))}}getVirtualUriMetadata(e){const{provider:t,name:r,repo:a,ref:s}=nt(e);return{provider:t,name:r,repo:a,ref:s}}async switchTo(e,t,r){const{name:a,repo:s,HEAD:{branch:o}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?t.startsWith("refs/heads/")?u={type:Te.Branch,id:t.substr(11)}:t.startsWith("refs/tags/")?u={type:Te.Tag,id:t.substr(10)}:u={type:Te.Branch,id:t}:u={...t,type:t.type===Te.Tree?Te.Branch:t.type},(o==null?void 0:o.name)===u.id)))return{name:a,uri:this.createVirtualUri(e,{repo:s,ref:u}),location:(r==null?void 0:r.openInNewWindow)?se.NewWindow:se.CurrentWindow}}async sync(e,t,r){var a,s,o,u,l,h;const b=new x(`AzDO.sync(${e.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let Z;try{const{metadata:P}=await this.fetchCore(e,!0,{to:r.to});if(P.HEAD.detached){Z=" \u2022 Skipped; detached HEAD";return}if(((s=(a=P==null?void 0:P.state)==null?void 0:a.behind)!=null?s:0)>0&&await t.hasChanges(e)){b.logStep("Fetching upstream changes");const ae=[],Ie=(u=(o=P.state)==null?void 0:o.incomingChanges)!=null?u:[];if(Ie.length>0){const Ce=await t.getChanges(e);for(const xe of Ce){const st=this.getRelativeFilePath(e,xe.uri),vt=Ie.find(Vt=>Vt.uri.path===xe.uri.path);if(vt!==void 0){ae.push({path:st,current:xe,incomingType:vt.type});break}}}if(ae.length>0)switch(r.conflictResolution){case be.KeepCurrent:b.logStep("Syncing (keep) upstream changes",{message:`: ${ae.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const Ce of ae)await t.keep(Ce.current.uri,{type:Ce.incomingType,providerUri:pt(P,P.HEAD.branch.sha,Ce.path)});break;case be.DiscardCurrent:b.logStep("Syncing (discard) upstream changes",{message:`: ${ae.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const Ce of ae)await t.discard(Ce.current.uri);break;case be.Merge:b.logStep("Syncing (merge) upstream changes",{message:`: ${ae.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const Ce of ae)await t.merge(Ce.current.uri,{type:Ce.incomingType,providerUri:pt(P,P.HEAD.branch.sha,Ce.path)},{providerUri:pt(P,P.HEAD.sha,Ce.path)});break;case be.Abort:default:throw b.logStep("Syncing (abort) upstream changes",{message:`: ${ae.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.metadataStore.set(w.getVirtualUri(e),P.HEAD.sha,P),J.SyncOrFetchError()}}Z=` \u2022 to=${(l=r.to)!=null?l:P.HEAD.branch.sha}`,await this.fastForwardTo(e,(h=r.to)!=null?h:P.HEAD.branch.sha,P)}finally{b.stop(Z?{suffix:Z}:void 0)}}async fork(e){throw new Error("Forks are currently not supported")}async getFork(e){throw new Error("Forks are currently not supported")}async getObjectDetails(e,t,r){throw new Error("Not able to get object detail")}async getPullRequest(e,t){throw new Error("PRs are currently not supported")}async getTarGz(e,t,r){throw new Error("Getting zip is currently not supported")}async loadWorkspaceContents(e){return!1}async fastForwardTo(e,t,r){if(r.HEAD.detached)throw J.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===t&&r.state===void 0)return;const a=this.asFileTreeKey(e,r.HEAD.sha),s=this.fileTreeCache.get(a);this.fileTreeCache.delete(a),s==null||s.dispose(),X.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.metadataStore.set(w.getVirtualUri(e),t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:t},state:t!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),t!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(e,!1,{to:t})}async fetchCore(e,t,r){var a,s,o,u,l,h,b,Z;const{force:P,to:ae}={...r,force:t||(r==null?void 0:r.force)},Ie=new x(`AzDO.fetch(${e.toString()}, force=${P}, to=${ae})`);let Ce;try{const xe=await this.getMetadata(e);if(xe.HEAD.detached)return Ce=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:xe};if(xe.HEAD.type===j.RemoteBranch)return Ce=" \u2022 Skipped; remote branch",{fetched:!1,metadata:xe};const st=await this.getBranchTips(e);if(!st)throw Ce=" \u2022 Unable to fetch branch tips",J.SyncOrFetchError(t);if(!P&&!ae&&((a=st.defaultBranch)==null?void 0:a.sha)!==void 0&&st.defaultBranch.sha===xe.defaultBranch.sha&&((s=st.branch)==null?void 0:s.sha)!==void 0&&st.branch.sha===xe.HEAD.branch.sha)return Ce=" \u2022 No changes detected",{fetched:!1,metadata:xe};let vt;if(((o=st.defaultBranch)==null?void 0:o.sha)!==void 0&&st.defaultBranch.sha!==xe.defaultBranch.sha&&(vt={defaultBranch:{...xe.defaultBranch,sha:st.defaultBranch.sha}}),((u=st.branch)==null?void 0:u.sha)===void 0){if(Ce=" \u2022 Unable to find branch tip",P)throw J.SyncOrFetchError(t);return vt!==void 0?{fetched:!0,metadata:{...xe,...vt}}:{fetched:!1,metadata:xe}}if(st.branch.sha!==xe.HEAD.branch.sha&&(vt={...vt,HEAD:{...xe.HEAD,branch:{...xe.HEAD.branch,sha:st.branch.sha},detached:void 0}}),st.branch.sha===xe.HEAD.sha)return Ce=" \u2022 Up to date",xe.state!==void 0||vt!==void 0?{fetched:!0,metadata:{...xe,...vt,state:void 0}}:{fetched:!1,metadata:xe};Ie.logStep("Fetching upstream changes");try{const Vt=await this.getAheadBehindState(e,xe,{base:(l=r==null?void 0:r.to)!=null?l:xe.HEAD.sha,head:(Z=(b=(h=vt==null?void 0:vt.HEAD)==null?void 0:h.branch)==null?void 0:b.sha)!=null?Z:xe.HEAD.branch.sha});return Ce=` \u2022 Changes detected; ${Vt==null?void 0:Vt.behind} commits behind`,{fetched:!0,metadata:{...xe,...vt,state:Vt?{ahead:Vt.ahead,behind:Vt.behind,incomingChanges:Vt.incomingChanges}:void 0}}}catch(Vt){if(Ce=` \u2022 Failed fetching upstream changes; ${String(Vt)}`,P)throw J.SyncOrFetchError(t);return vt!==void 0?{fetched:!0,metadata:{...xe,...vt}}:{fetched:!1,metadata:xe}}}finally{Ie.stop(Ce?{suffix:Ce}:void 0)}}async getAheadBehindState(e,t,r){var a,s,o,u,l;const{base:h,head:b}={base:t.HEAD.sha,head:(a=t.HEAD.branch)==null?void 0:a.sha,...r},Z=new x(`AzureRepos.getAheadBehindState(${e.toString()}, base=${h}, head=${b})`);let P,ae;try{if(!b){P=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const Ie=await this.adoClient.getDiffs(t.repo.organization,t.repo.project,t.repo.name,h,b),Ce=[];for(const xe of(s=Ie==null?void 0:Ie.changes)!=null?s:[])switch(xe.changeType){case"add":Ce.push({uri:v.Uri.joinPath(e,xe.item.path),type:H.Created});break;case"delete":Ce.push({uri:v.Uri.joinPath(e,xe.item.path),type:H.Deleted});break;case"edit":Ce.push({uri:v.Uri.joinPath(e,xe.item.path),type:H.Changed});break;case"rename":case"targetRename":Ce.push({uri:v.Uri.joinPath(e,xe.item.path),type:H.Created});break;case"sourceRename":Ce.push({uri:v.Uri.joinPath(e,xe.item.path),type:H.Deleted});break;default:X.warn(`AzureRepos.getAheadBehindState(${e.toString()}, base=${h}, head=${b}): Unknown file status encountered '${xe.changeType}'`);break}return ae={ahead:(o=Ie==null?void 0:Ie.ahead)!=null?o:0,behind:(u=Ie==null?void 0:Ie.behind)!=null?u:0,incomingChanges:Ce},ae}catch(Ie){throw P=` \u2022 Failed; ${String(Ie)}`,X.error(Ie),Ie}finally{Z.stop({suffix:P!=null?P:` \u2022 ${(l=ae==null?void 0:ae.behind)!=null?l:0} commits behind`})}}async getBranchTips(e,t){try{const{repo:{organization:r,project:a,name:s},HEAD:{branch:o}}=await this.getMetadata(e);t===void 0?t=o?`heads/${o.name}`:"":t.startsWith("refs/")&&(t=t.slice(5));const l=(await this.adoClient.getRefs(r,a,s,{filter:t})).find(ae=>ae.name===`refs/${t}`);if(l===void 0)return;const h=await this.adoClient.getRepository(r,a,s),b=h.defaultBranch.startsWith("refs/")?h.defaultBranch.slice(5):h.defaultBranch,P=(await this.adoClient.getRefs(r,a,s,{filter:b})).find(ae=>ae.name===`refs/${b}`);return P===void 0?void 0:{branch:l.objectId?{sha:l.objectId}:void 0,defaultBranch:P.objectId?{sha:P.objectId}:void 0}}catch(r){return}}async getRepositoryAccessLevel(e,t,r){var a,s,o,u,l,h;const b=await this.adoClient.getGitSecurityNamespace(e);if(b===void 0)return N.None;try{const Z=await this.adoClient.getRepository(e,t,r),P=`repoV2/${Z.project.id}/${Z.id}`,ae=await this.adoClient.getSecurityPermissionEvaluation(e,b,P),Ie=(a=b.actions.find(st=>st.name==="Administer"))==null?void 0:a.bit;if(Ie&&((s=ae==null?void 0:ae.find(st=>st.permissions===Ie))==null?void 0:s.value))return N.Admin;const Ce=(o=b.actions.find(st=>st.name==="GenericContribute"))==null?void 0:o.bit;if(Ce&&((u=ae==null?void 0:ae.find(st=>st.permissions===Ce))==null?void 0:u.value))return N.Write;const xe=(l=b.actions.find(st=>st.name==="GenericRead"))==null?void 0:l.bit;if(xe&&((h=ae==null?void 0:ae.find(st=>st.permissions===xe))==null?void 0:h.value))return N.Read}catch(Z){X.error(Z)}return N.None}async getRepositoryInfo(e,t,r,a){var s,o,u;try{const l=await this.adoClient.getRepository(e,t,r);((s=l.defaultBranch)==null?void 0:s.startsWith("refs/heads/"))&&(l.defaultBranch=l.defaultBranch.substring(11));const h=await this.adoClient.getBranchStats(e,t,r,l.defaultBranch);if(h===void 0)throw new Error("Unable to retrieve the details of the default branch.");const b=await this.getRepositoryAccessLevel(e,t,r),Z={repo:{organization:e,project:t,name:r},accessLevel:b,defaultBranch:{name:h.name,sha:h.commit.commitId},cloneUrl:{http:l.remoteUrl,ssh:l.sshUrl}};switch(a.type){case Te.Branch:case Te.Tag:{const P=a.type===Te.Branch?"heads":"tags",Ie=(await this.adoClient.getRefs(e,t,r,{filter:`${P}/${a.id}`})).find(Ce=>Ce.name===`refs/${P}/${a.id}`);return Ie===void 0?void 0:{...Z,ref:{name:a.type===Te.Branch?Ie.name.substring(11):Ie.name.substring(10),sha:Ie.objectId,prefix:a.type===Te.Branch?"refs/heads/":"refs/tags/"}}}case Te.Commit:return{...Z,ref:{name:a.id==="HEAD"?l.defaultBranch:a.id,sha:R(a.id)?a.id:h.commit.commitId,prefix:R(a.id)?"":"refs/heads/"}};case Te.PullRequest:{const P=await this.adoClient.getPullRequest(e,t,r,a.id);return{...Z,ref:{name:P.sourceRefName.substring(11),sha:(u=(o=P.lastMergeCommit)==null?void 0:o.commitId)!=null?u:P.lastMergeSourceCommit.commitId,prefix:"refs/heads/"},pullRequest:{id:P.pullRequestId.toString(),state:tn(P.status),title:P.title}}}default:return}}catch(l){throw l instanceof Error&&l.message.includes("does not exist")?J.InvalidRepositoryError():l}}onRefreshOrRepositoryChanged(e){e=e.filter(t=>w.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async validateBranchOrTagCasing(e,t,r,a,s){const o=s===Te.Branch?"heads":"tags",u=`${o}/${a}`,h=(await this.adoClient.getRefs(e,t,r,{filter:u})).find(ae=>ae.name===`refs/${o}/${a}`);if(h)return s===Te.Branch?{type:Te.Branch,id:h.name.substring(11)}:{type:Te.Tag,id:h.name.substring(10)};const b=`${o}/`,P=(await this.adoClient.getRefs(e,t,r,{filter:b,filterContains:a})).find(ae=>{var Ie;return((Ie=ae.name)==null?void 0:Ie.toLowerCase())===`refs/${o}/${a.toLowerCase()}`});if(P)return s===Te.Branch?{type:Te.Branch,id:P.name.substring(11)}:{type:Te.Tag,id:P.name.substring(10)}}async getFileTree(e,t,r){var a,s,o,u,l;const h=this.isInWorkspace(e);let b=(a=r==null?void 0:r.cache)!=null?a:h,Z,P,ae;if(b||!t){const st=(o=(s=r==null?void 0:r.prefetched)==null?void 0:s.metadata)!=null?o:this.getMetadata(e);ae=h?this.getFileTreePermissions(e,st):void 0;let vt;({repo:P,HEAD:{sha:vt},timestamp:Z}=(u=r==null?void 0:r.prefetched)!=null?u:await st),t&&vt!==t?(b=!1,Z=Date.now()):t=vt}else({repo:P}=(l=r==null?void 0:r.prefetched)!=null?l:this.getVirtualUriMetadata(e)),Z=Date.now();const Ie=this.asFileTreeKey(e,t),Ce=this.getProviderRootUri(e),xe=new x(`AzureRepos.getFileTree(${Ie}): ${e.toString()}`,{log:!1,logLevel:oe.Debug});try{let st=i(function(){var Vt;const nn=new x(`AzureRepos.createFileTree(${Ie})`);let sn;const hn={dispose:()=>sn==null?void 0:sn.dispose(),permissions:ae,getContent:async yn=>{const pe=await this.adoClient.getBlob(P.organization,P.project,P.name,yn.sha);return new Uint8Array(pe)},getTree:async(yn,pe)=>{const je=await this.adoClient.getItem(P.organization,P.project,P.name,t,"commit",yn);if(je==null)throw new Error(`Git item was not found. CommitId: ${t}`);const tt=await this.adoClient.getTree(P.organization,P.project,P.name,je.objectId,pe);if(tt==null)throw new Error(`Git tree was not found. ObjectId: ${je.objectId}`);return{sha:tt.objectId,truncated:!1,tree:tt.treeEntries.map(St=>{var Qt;return{path:St.relativePath,item:{mode:St.mode,sha:St.objectId,stat:{type:Ft(St.gitObjectType),size:(Qt=St.size)!=null?Qt:0,ctime:0,mtime:Z}}}})}},onDidTriggerContentCaching:void 0,tryCachingContent:void 0};try{return new M(Ce,t,Z,hn,{path:r==null?void 0:r.path,recursive:(Vt=r==null?void 0:r.recursive)!=null?Vt:!1,preload:b||(r==null?void 0:r.recursive)})}catch(yn){return X.error(yn),new M(Ce,t,Z,void 0)}finally{nn.stop()}},"createFileTree"),vt=this.fileTreeCache.get(Ie);return vt!==void 0||(vt=st.call(this),b&&this.fileTreeCache.set(Ie,vt)),vt}finally{xe.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(r=>this.fileTreeCache.has(this.asFileTreeKey(e,r.HEAD.sha)))}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===k.Edit)return;const a=await this.providerService.getIndexMetadata(e);return V.isActive(a)?v.FilePermission.Readonly:void 0}asFileTreeKey(e,t){return e=w.getProviderUri(e),`${W(this.getProviderRootUri(e))}:${t}`}async getSearchableBranches(e){const t=await this.adoClient.getSearchableBranches(e.repo.organization,e.repo.project,e.repo.name);return t===void 0?(X.debug("AzDOProvider.getSearchableBranches returned empty result"),[]):t.indexedBranches.map(r=>r.name)}async getRepoItems(e,t,r){const[,,,,...a]=t.split("/");let s;e.HEAD.type===j.Commit?s={version:e.HEAD.sha,versionType:"commit"}:e.HEAD.type===j.Branch?s={version:e.HEAD.branch.name,versionType:"branch"}:e.HEAD.type===j.Tag&&(s={version:e.HEAD.name,versionType:"tag"});const o=await this.adoClient.getItems(e.repo.organization,e.repo.project,e.repo.name,s.version,s.versionType,r?"full":"oneLevel",a.join("/"));return o===void 0?(X.debug(`AzDOProvider.getRepoItems returned empty result for path ${t}`),[]):o}async searchCodeQuery(e,t,r){var a;const{repo:{organization:s,project:o,name:u},HEAD:l,defaultBranch:h}=await this.getMetadata(t);try{const b=await this.adoClient.searchCode(s,o,u,l.branch?l.branch.name:h.name,e),Z=new v.Range(0,0,0,0),P=[];let ae;for(const Ie of(a=b==null?void 0:b.results)!=null?a:[])for(const Ce of Ie.matches.content){ae={path:Ie.path,ranges:[],preview:"",matches:[]};const xe=Math.max(0,Ce.line-1),st=Ce.charOffset,vt=st+Ce.length;ae.preview=Ce.codeSnippet?Ce.codeSnippet:`CharOffset: ${Ce.charOffset}, Type: ${Ce.type}`,ae.ranges.push(new v.Range(xe,st,xe,vt)),ae.matches.push(Z),P.push(ae)}return{matches:P,limitHit:!1}}catch(b){return X.error(b),{matches:[],limitHit:!1}}}async getOrganizations(){const e=i(async()=>{const t=await this.adoClient.getAccounts();return t?t.map(r=>({label:r})):[]},"getQuickPickItems");return v.window.showQuickPick(e(),{placeHolder:"Choose an Azure DevOps Organization",title:"Choose an Azure DevOps Organization",ignoreFocusOut:!0})}async getProjects(e){const t=i(async()=>(await this.adoClient.getProjects(e)).map(a=>({label:a.name,description:a.description})),"getQuickPickItems");return v.window.showQuickPick(t(),{placeholder:"Choose an Azure DevOps project",title:"Choose an Azure DevOps project",ignoreFocusOut:!0})}async getMetadata(e){return this.providerService.getMetadata(e)}isInWorkspace(e){var t;return((t=v.workspace.getWorkspaceFolder(w.getVirtualUri(e)))==null?void 0:t.uri)!==void 0}}i(Gt,"AzDORepositoryProvider");function Ft(n){switch(n){case"blob":return v.FileType.File;case"tree":return v.FileType.Directory;default:return v.FileType.Unknown}}i(Ft,"gitObjectTypeToFileType");function en(n){switch(n.type){case H.Created:return"add";case H.Changed:return"edit";case H.Deleted:return"delete";default:return}}i(en,"operationTypeToVersionControlChangeType");function tn(n){switch(n){case"active":return q.Open;case"completed":return q.Merged;case"abandoned":return q.Closed}}i(tn,"toPullRequestState");function Le(n){return{registerVirtualProviderService:function(e){ye.configure("azureRepos",n),X.configure(n,"Azure Repos",ge.get("logLevel")),x.start("Time to root directory",{log:!1});const t=ii.configure(n),r=new li(n);try{const a=new Vr(n.globalState),s=a.with(t),o=new Lr(n.globalStorageUri,t),u=new Nr(s),l=new Hr(e,s,o,r,t);l.getWorkspacesWithChanges();const h=new Zr(e,a,l,t,n),b=new gi,Z=new $n(b),P=new Gt(e,b,u,Z),ae=new ei(e,l,P,Z);n.subscriptions.push(ge.onDidChange(Ie=>{!ge.changed(Ie,"logLevel")||(X.logLevel=ge.get("logLevel"))}),new fe(P),h,l,P,ae),e.register("azurerepos","Azure Repos",P,ae,a,l,u,h),r.publicLog2("activate")}catch(a){throw X.error(a),a}}}}i(Le,"activate")})(),module.exports=Ui})();
