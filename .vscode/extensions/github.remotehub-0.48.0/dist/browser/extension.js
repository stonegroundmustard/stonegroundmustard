var Yd=Object.defineProperty;var a=(fe,u)=>Yd(fe,"name",{value:u,configurable:!0});(()=>{var __webpack_modules__={5326:(fe,u,S)=>{"use strict";S.r(u),S.d(u,{AppInsightsCore:()=>$,BaseCore:()=>j,BaseTelemetryPlugin:()=>ut.i,CoreUtils:()=>O.Tr,DiagnosticLogger:()=>M.AQ,ESPromise:()=>se,ESPromiseScheduler:()=>_e,EventHelper:()=>Z.zB,EventLatency:()=>C,EventPersistence:()=>E,EventPropertyType:()=>f,EventsDiscardedReason:()=>Ze.h,FullVersionString:()=>O.vs,InternalAppInsightsCore:()=>K.F,InternalBaseCore:()=>D.A,LoggingSeverity:()=>w.X,MinChannelPriorty:()=>Ie,NotificationManager:()=>ee.f,PerfEvent:()=>R.zn,PerfManager:()=>R.Jk,ProcessTelemetryContext:()=>qe.Vi,TraceLevel:()=>b,Undefined:()=>me.jA,Utils:()=>O.cQ,ValueKind:()=>F,ValueSanitizer:()=>Fe,Version:()=>O.Gf,_ExtendedInternalMessageId:()=>_,_InternalLogMessage:()=>M.lQ,_InternalMessageId:()=>w.v,__getRegisteredEvents:()=>te.um,_logInternalMessage:()=>M.L4,_throwInternal:()=>M.kP,_warnToConsole:()=>M.jV,addEventHandler:()=>te.Ib,addEventListeners:()=>te.yw,addPageHideEventListener:()=>te.TJ,addPageShowEventListener:()=>te.nD,addPageUnloadEventListener:()=>te.c9,areCookiesSupported:()=>Ge.p7,arrForEach:()=>y.tO,arrIndexOf:()=>y.UA,arrMap:()=>y.Mr,arrReduce:()=>y.Xz,attachEvent:()=>te.pZ,cookieAvailable:()=>Ge.p7,createCookieMgr:()=>Ge.Nz,createEnumStyle:()=>g.By,createGuid:()=>O.cm,createProcessTelemetryContext:()=>qe.CD,createTraceParent:()=>Re.SU,createUniqueNamespace:()=>st.J,createUnloadHandlerContainer:()=>Se.Y,dateNow:()=>y.m6,deleteCookie:()=>O.kT,detachEvent:()=>te.pD,disableCookies:()=>O.oF,disallowsSameSiteNone:()=>Ge.UY,doPerf:()=>R.Lm,dumpObj:()=>q.eU,eventOff:()=>te.QY,eventOn:()=>te.XO,extend:()=>O.l7,findW3cTraceParent:()=>Re.lq,formatTraceParent:()=>Re.aR,generateW3CId:()=>Z.DO,getCommonSchemaMetaData:()=>O.Vv,getConsole:()=>q.dr,getCookie:()=>O.ej,getCookieValue:()=>O.Do,getCrypto:()=>q.MX,getDocument:()=>q.Me,getExceptionName:()=>y.jj,getFieldValueType:()=>O.Sy,getGlobal:()=>Ce.Rd,getGlobalInst:()=>q.a8,getHistory:()=>q.s1,getIEVersion:()=>q.sA,getISOString:()=>y.Y6,getJSON:()=>q.xA,getLocation:()=>q.k$,getMsCrypto:()=>q.gz,getNavigator:()=>q.jW,getPerformance:()=>q.r,getSetValue:()=>y.qK,getTenantId:()=>O.jM,getTime:()=>O.hK,getWindow:()=>q.Jj,hasDocument:()=>q.Nv,hasHistory:()=>q.fE,hasJSON:()=>q.nS,hasNavigator:()=>q.d6,hasOwnProperty:()=>y.nr,hasWindow:()=>q.Ym,isArray:()=>y.kJ,isArrayValid:()=>O.JT,isBeaconsSupported:()=>q.MF,isBoolean:()=>y.jn,isChromium:()=>O.mJ,isDate:()=>y.J_,isDocumentObjectAvailable:()=>O.x9,isError:()=>y.VZ,isFetchSupported:()=>q.JO,isFunction:()=>y.mf,isIE:()=>q.w1,isLatency:()=>O.r7,isNotTruthy:()=>y.F,isNullOrUndefined:()=>y.le,isNumber:()=>y.hj,isObject:()=>y.Kn,isReactNative:()=>q.b$,isSampledFlag:()=>Re.Pn,isString:()=>y.HD,isTruthy:()=>y.fQ,isTypeof:()=>y.Ym,isUint8ArrayAvailable:()=>O.IZ,isUndefined:()=>y.o8,isValidSpanId:()=>Re.Lc,isValidTraceId:()=>Re.jN,isValidTraceParent:()=>Re.J6,isValueAssigned:()=>O.Sn,isValueKind:()=>O.oS,isWindowObjectAvailable:()=>O.dH,isXhrSupported:()=>q.Z3,mergeEvtNamespace:()=>te.jU,newGuid:()=>Z.GW,newId:()=>ae.pZ,normalizeJsName:()=>y.Gf,objCreate:()=>Ce.pu,objDefineAccessors:()=>y.l_,objForEachKey:()=>y.rW,objFreeze:()=>y.FL,objKeys:()=>y.FY,objSeal:()=>y.Xi,openXhr:()=>O.ot,optimizeObject:()=>y.Ax,parseTraceParent:()=>Re.j_,perfNow:()=>Z.Jj,proxyAssign:()=>y.cf,proxyFunctionAs:()=>y.Oi,proxyFunctions:()=>y.Vb,random32:()=>ae._l,randomValue:()=>ae.az,removeEventHandler:()=>te.C1,removeEventListeners:()=>te.nJ,removePageHideEventListener:()=>te.C9,removePageShowEventListener:()=>te.Yl,removePageUnloadEventListener:()=>te.JA,safeGetCookieMgr:()=>Ge.JP,safeGetLogger:()=>M.vH,sanitizeProperty:()=>O.yj,setCookie:()=>O.d8,setEnableEnvMocks:()=>q.dI,setProcessTelemetryTimings:()=>O.if,setValue:()=>y.sO,strContains:()=>y._Q,strEndsWith:()=>y.Id,strFunction:()=>me.cb,strObject:()=>me.fK,strPrototype:()=>me.hB,strStartsWith:()=>y.xe,strTrim:()=>y.nd,strUndefined:()=>me.jA,throwError:()=>y._y,toISOString:()=>y.Y6,useXDomainRequest:()=>q.cp});var p=S(1088),g=S(4873),y=S(6708),w=S(7310),F=(0,g.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),C=(0,g.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,g.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),E=(0,g.By)({Normal:1,Critical:2}),b=(0,g.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),_=(0,y.FL)((0,p.uc)((0,p.uc)({},w.v),(0,g.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),x=S(1679),M=S(5018),R=S(9288),q=S(7630),K=S(5121),oe=S(7984),O=S(3599),z=function(Te){(0,p.ne)(xe,Te);function xe(){var ke=Te.call(this)||this;return ke.pluginVersionStringArr=[],(0,x.Z)(xe,ke,function(pe,ct){(!pe.logger||!pe.logger.queue)&&(pe.logger=new M.AQ({loggingLevelConsole:1})),pe.initialize=function(We,U,J,ge){(0,R.Lm)(pe,function(){return"AppInsightsCore.initialize"},function(){var Qe=pe.pluginVersionStringArr;if(We){We.endpointUrl||(We.endpointUrl=oe.YT);var lt=We.propertyStorageOverride;lt&&(!lt.getProperty||!lt.setProperty)&&(0,y._y)("Invalid property storage override passed."),We.channels&&(0,y.tO)(We.channels,function(A){A&&(0,y.tO)(A,function(d){if(d.identifier&&d.version){var v=d.identifier+"="+d.version;Qe.push(v)}})})}pe.getWParam=function(){return typeof document!="undefined"||!!We.enableWParam?0:-1},U&&(0,y.tO)(U,function(A){if(A&&A.identifier&&A.version){var d=A.identifier+"="+A.version;Qe.push(d)}}),pe.pluginVersionString=Qe.join(";"),pe.pluginVersionStringArr=Qe;try{ct.initialize(We,U,J,ge),pe.pollInternalLogs("InternalLog")}catch(A){var yt=pe.logger,it=(0,q.eU)(A);it.indexOf("channels")!==-1&&(it+=`
 - Channels must be provided through config.channels only!`),(0,M.kP)(yt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+it)}},function(){return{config:We,extensions:U,logger:J,notificationManager:ge}})},pe.track=function(We){(0,R.Lm)(pe,function(){return"AppInsightsCore.track"},function(){var U=We;if(U){U.timings=U.timings||{},U.timings.trackStart=(0,O.hK)(),(0,O.r7)(U.latency)||(U.latency=1);var J=U.ext=U.ext||{};J.sdk=J.sdk||{},J.sdk.ver=O.vs;var ge=U.baseData=U.baseData||{};ge[oe.o6]=ge[oe.o6]||{};var Qe=ge[oe.o6];Qe[oe.p8]=Qe[oe.p8]||pe.pluginVersionString||oe.qS}ct.track(U)},function(){return{item:We}},!We.sync)}}),ke}return a(xe,"AppInsightsCore"),xe.__ieDyn=1,xe}(K.F);const $=z;var D=S(6900),P=function(Te){(0,p.ne)(xe,Te);function xe(){var ke=Te.call(this)||this;return(0,x.Z)(xe,ke,function(pe,ct){pe.initialize=function(We,U,J,ge){We&&!We.endpointUrl&&(We.endpointUrl=oe.YT),pe.getWParam=function(){return O.x9||!!We.enableWParam?0:-1};try{ct.initialize(We,U,J,ge)}catch(Qe){(0,M.kP)(pe.logger,1,514,"Initialization Failed: "+(0,q.eU)(Qe)+`
 - Note: Channels must be provided through config.channels only`)}},pe.track=function(We){var U=We;if(U){var J=U.ext=U.ext||{};J.sdk=J.sdk||{},J.sdk.ver=O.vs}ct.track(U)}}),ke}return a(xe,"BaseCore"),xe.__ieDyn=1,xe}(D.A);const j=P;var X=y.mf;function re(Te,xe,ke){return function(pe){Te[xe]=pe,ke()}}a(re,"_createPromiseAllOnResolvedFunction");var ne=function(){function Te(xe){var ke=0,pe=null,ct=[];(0,x.Z)(Te,this,function(Qe){Qe.then=function(lt,yt){return new Te(function(it,A){We(lt,yt,it,A)})},Qe.catch=function(lt){return Qe.then(null,lt)}});function We(Qe,lt,yt,it){ct.push(function(){var A;try{ke===1?A=X(Qe)?Qe(pe):pe:A=X(lt)?lt(pe):pe,A instanceof Te?A.then(yt,it):ke===2&&!X(lt)?it(A):yt(A)}catch(d){it(d);return}}),ke!==0&&U()}a(We,"_enqueue");function U(){if(ct.length>0){var Qe=ct.slice();ct=[],setTimeout(function(){for(var lt=0,yt=Qe.length;lt<yt;++lt)try{Qe[lt]()}catch(it){}},0)}}a(U,"_processQueue");function J(Qe){ke===0&&(pe=Qe,ke=1,U())}a(J,"_resolve");function ge(Qe){ke===0&&(pe=Qe,ke=2,U())}a(ge,"_reject"),a(function(){if(!X(xe))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{xe(J,ge)}catch(lt){ge(lt)}},"_initialize")()}return a(Te,"ESPromise"),Te.resolve=function(xe){return xe instanceof Te?xe:xe&&X(xe.then)?new Te(function(ke,pe){try{xe.then(ke,pe)}catch(ct){pe(ct)}}):new Te(function(ke){ke(xe)})},Te.reject=function(xe){return new Te(function(ke,pe){pe(xe)})},Te.all=function(xe){if(!(!xe||!xe.length))return new Te(function(ke,pe){try{for(var ct=[],We=0,U=0;U<xe.length;U++){var J=xe[U];J&&X(J.then)?(We++,J.then(re(ct,U,function(){--We==0&&ke(ct)}),pe)):ct[U]=J}We===0&&setTimeout(function(){ke(ct)},0)}catch(ge){pe(ge)}})},Te.race=function(xe){return new Te(function(ke,pe){if(!(!xe||!xe.length))try{for(var ct=a(function(U){var J=xe[U];J&&X(J.then)?J.then(ke,pe):setTimeout(function(){ke(J)},0)},"_loop_1"),We=0;We<xe.length;We++)ct(We)}catch(U){pe(U)}})},Te}();const se=ne;var Ce=S(2091),ie=6e5,G=0,ve=[],Me=[],Le=[];function le(){return new Date().getTime()}a(le,"_getTime");var Y=function(){function Te(xe,ke){var pe=0,ct=(xe||"<unnamed>")+"."+G;G++,(0,x.Z)(Te,this,function(J){var ge=null,Qe=0;J.scheduleEvent=function(yt,it,A){var d=ct+"."+Qe;Qe++,it&&(d+="-("+it+")");var v=d+"{"+pe+"}";pe++;var Q={evt:null,tm:le(),id:v,isRunning:!1,isAborted:!1};return ge?Q.evt=kt(Q,ge):Q.evt=vt(Q),ge=Q,ge.evt._schId=v,Q.evt;function de(nt){for(var Jt=le(),ir=Jt-ie,Qt=nt.length,Yt=0;Yt<Qt;){var mr=nt[Yt];if(mr&&mr.tm<ir){var Dr=null;mr.abort?(Dr="Aborting ["+mr.id+"] due to Excessive runtime ("+(Jt-mr.tm)+" ms)",mr.abort(Dr)):Dr="Removing ["+mr.id+"] due to Excessive runtime ("+(Jt-mr.tm)+" ms)",U(Dr),nt.splice(Yt,1),Qt--}else Yt++}}a(de,"_abortAndRemoveOldEvents");function Ne(nt,Jt){var ir=!1,Qt=lt(ve,nt);if(Qt||(Qt=lt(Le,nt),ir=!0),Qt){Qt.to&&(clearTimeout(Qt.to),Qt.to=null);var Yt=le()-Qt.tm;Jt?ir?U("Timed out event ["+nt+"] finally complete -- "+Yt+" ms"):We("Promise ["+nt+"] Complete -- "+Yt+" ms"):(Le.push(Qt),U("Event ["+nt+"] Timed out and removed -- "+Yt+" ms"))}else We("Failed to remove ["+nt+"] from running queue");ge&&ge.id===nt&&(ge=null),de(ve),de(Me),de(Le)}a(Ne,"_cleanup");function he(nt,Jt){return function(ir){return Ne(nt,!0),Jt&&Jt(ir),ir}}a(he,"_removeScheduledEvent");function ot(nt,Jt,ir,Qt){Jt.then(function(Yt){return Yt instanceof se?(We("Event ["+nt+"] returned a promise -- waiting"),ot(nt,Yt,ir,Qt),Yt):he(nt,ir)(Yt)},he(nt,Qt))}a(ot,"_waitForFinalResult");function Ft(nt,Jt){var ir=nt.id;return new se(function(Qt,Yt){We("Event ["+ir+"] Starting -- waited for "+(nt.wTm||"--")+" ms"),nt.isRunning=!0,nt.abort=function(Dr){nt.abort=null,nt.isAborted=!0,Ne(ir,!1),Yt(new Error(Dr))};var mr=Jt(ir);mr instanceof se?(A&&(nt.to=setTimeout(function(){Ne(ir,!1),Yt(new Error("Timed out after ["+A+"] ms"))},A)),ot(ir,mr,function(Dr){We("Event ["+ir+"] Resolving after "+(le()-nt.tm)+" ms"),Qt(Dr)},Yt)):(We("Promise ["+ir+"] Auto completed as the start action did not return a promise"),Qt())})}a(Ft,"_createScheduledEvent");function vt(nt){var Jt=le();return nt.wTm=Jt-nt.tm,nt.tm=Jt,nt.isAborted?se.reject(new Error("["+d+"] was aborted")):(ve.push(nt),Ft(nt,yt))}a(vt,"_startWaitingEvent");function kt(nt,Jt){var ir=new se(function(Qt,Yt){var mr=le()-Jt.tm,Dr=Jt.id;We("["+d+"] is waiting for ["+Dr+":"+mr+" ms] to complete before starting -- ["+Me.length+"] waiting and ["+ve.length+"] running"),nt.abort=function(Cn){nt.abort=null,lt(Me,d),nt.isAborted=!0,Yt(new Error(Cn))},Jt.evt.then(function(Cn){lt(Me,d),vt(nt).then(Qt,Yt)},function(Cn){lt(Me,d),vt(nt).then(Qt,Yt)})});return Me.push(nt),ir}a(kt,"_waitForPreviousEvent")};function lt(yt,it){for(var A=0;A<yt.length;A++)if(yt[A].id===it)return yt.splice(A,1)[0];return null}a(lt,"_removeQueuedEvent")});function We(J){var ge=(0,Ce.Rd)();ge&&ge.QUnit&&console&&console.log("ESPromiseScheduler["+ct+"] "+J)}a(We,"_debugLog");function U(J){(0,M.jV)(ke,"ESPromiseScheduler["+ct+"] "+J)}a(U,"_warnLog")}return a(Te,"ESPromiseScheduler"),Te.incomplete=function(){return ve},Te.waitingToStart=function(){return Me},Te}();const _e=Y;var Fe=function(){function Te(xe){var ke=this,pe={},ct=[],We=[];xe&&We.push(xe);function U(lt,yt){var it,A=pe[lt];if(A&&(it=A[yt]),!it&&it!==null){if((0,y.HD)(lt)&&(0,y.HD)(yt))if(We.length>0){for(var d=0;d<We.length;d++)if(We[d].handleField(lt,yt)){it={canHandle:!0,fieldHandler:We[d]};break}}else ct.length===0&&(it={canHandle:!0});if(!it&&it!==null){it=null;for(var d=0;d<ct.length;d++)if(ct[d].handleField(lt,yt)){it={canHandle:!0,handler:ct[d],fieldHandler:null};break}}A||(A=pe[lt]={}),A[yt]=it}return it}a(U,"_getFieldSanitizer"),ke.addSanitizer=function(lt){lt&&(ct.push(lt),pe={})},ke.addFieldSanitizer=function(lt){lt&&(We.push(lt),pe={})},ke.handleField=function(lt,yt){var it=U(lt,yt);return it?it.canHandle:!1},ke.value=function(lt,yt,it,A){var d=U(lt,yt);if(d&&d.canHandle){if(!d||!d.canHandle)return null;if(d.handler)return d.handler.value(lt,yt,it,A);if(!(0,y.HD)(yt)||(0,y.le)(it)||it===oe.qS)return null;var v=null,Q=(0,O.Sy)(it);if((Q&8192)==8192){var de=Q&~8192;if(v=it,!(0,O.Sn)(v.value)||de!==1&&de!==2&&de!==3&&(de&4096)!=4096)return null}else Q===1||Q===2||Q===3||(Q&4096)==4096?v=ge(lt,yt,it):Q===4&&(v=ge(lt,yt,A?JSON.stringify(it):it));if(v)return J(d,lt,yt,Q,v,A)}return null},ke.property=function(lt,yt,it,A){var d=U(lt,yt);if(!d||!d.canHandle||!(0,y.HD)(yt)||(0,y.le)(it)||!(0,O.Sn)(it.value))return null;var v=(0,O.Sy)(it.value);return v===0?null:J(d,lt,yt,v,it,A)};function J(lt,yt,it,A,d,v){if(lt.handler)return lt.handler.property(yt,it,d,v);if(!(0,y.le)(d.kind)){if((A&4096)==4096||!(0,O.oS)(d.kind))return null;d.value=d.value.toString()}return Qe(lt.fieldHandler,yt,it,A,d)}a(J,"_handleProperty");function ge(lt,yt,it){return(0,O.Sn)(it)?{value:it}:null}a(ge,"_convertToProperty");function Qe(lt,yt,it,A,d){if(d&&lt){var v=lt.getSanitizer(yt,it,A,d.kind,d.propertyType);if(v)if(A===4){var Q={},de=d.value;(0,y.rW)(de,function(he,ot){var Ft=yt+"."+it;if((0,O.Sn)(ot)){var vt=ge(Ft,he,ot);vt=Qe(lt,Ft,he,(0,O.Sy)(ot),vt),vt&&(Q[he]=vt.value)}}),d.value=Q}else{var Ne={path:yt,name:it,type:A,prop:d,sanitizer:ke};d=v.call(ke,Ne)}}return d}a(Qe,"_callFieldSanitizer")}return a(Te,"ValueSanitizer"),Te.getFieldType=O.Sy,Te}(),Ie=100,ee=S(1880),ut=S(4063),qe=S(1589),Ze=S(5928),Z=S(5843),te=S(4869),ae=S(4878),me=S(4392),Ge=S(3242),st=S(5883),Se=S(310),Re=S(4206)},7984:(fe,u,S)=>{"use strict";S.d(u,{qS:()=>p,YT:()=>g,p8:()=>F,o6:()=>C});var p="",g="https://browser.events.data.microsoft.com/OneCollector/1.0/",y="pluginVersionString",w=y+"Arr",F="version",C="properties"},3599:(fe,u,S)=>{"use strict";S.d(u,{Gf:()=>x,vs:()=>M,x9:()=>z,dH:()=>$,Sn:()=>D,jM:()=>P,IZ:()=>j,r7:()=>X,yj:()=>re,Vv:()=>ne,oF:()=>se,d8:()=>Ce,kT:()=>ie,ej:()=>G,Do:()=>ve,cm:()=>Me,l7:()=>Le,hK:()=>le,oS:()=>Y,JT:()=>Ie,if:()=>ee,Sy:()=>ut,cQ:()=>qe,Tr:()=>Ze,mJ:()=>Z,ot:()=>te});var p=S(7630),g=S(6708),y=S(3242),w=S(5843),F=S(4392),C=S(4869),f=S(4878),E=S(2091),b=S(7984),_,x="3.2.8",M="1DS-Web-JS-"+x,R="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",q="withCredentials",K="timeout",oe=(_={},_[0]=0,_[2]=6,_[1]=1,_[3]=7,_[4096|2]=6,_[4096|1]=1,_[4096|3]=7,_),O=null,z=Boolean((0,p.Me)()),$=Boolean((0,p.Jj)());function D(ae){return!(ae===b.qS||(0,g.le)(ae))}a(D,"isValueAssigned");function P(ae){if(ae){var me=ae.indexOf("-");if(me>-1)return ae.substring(0,me)}return b.qS}a(P,"getTenantId");function j(){return O===null&&(O=!(0,g.o8)(Uint8Array)&&!Fe()&&!(0,p.b$)()),O}a(j,"isUint8ArrayAvailable");function X(ae){return!!(ae&&(0,g.hj)(ae)&&ae>=1&&ae<=4)}a(X,"isLatency");function re(ae,me,Ge){if(!me&&!D(me)||typeof ae!="string")return null;var st=typeof me;if(st==="string"||st==="number"||st==="boolean"||(0,g.kJ)(me))me={value:me};else if(st==="object"&&!F.CY.call(me,"value"))me={value:Ge?JSON.stringify(me):me};else if((0,g.le)(me.value)||me.value===b.qS||!(0,g.HD)(me.value)&&!(0,g.hj)(me.value)&&!(0,g.jn)(me.value)&&!(0,g.kJ)(me.value))return null;if((0,g.kJ)(me.value)&&!Ie(me.value))return null;if(!(0,g.le)(me.kind)){if((0,g.kJ)(me.value)||!Y(me.kind))return null;me.value=me.value.toString()}return me}a(re,"sanitizeProperty");function ne(ae,me,Ge){var st=-1;if(!(0,g.o8)(ae))if(me>0&&(me===32?st=1<<13:me<=13&&(st=me<<5)),_e(Ge))st===-1&&(st=0),st|=Ge;else{var Se=oe[ut(ae)]||-1;st!==-1&&Se!==-1?st|=Se:Se===6&&(st=Se)}return st}a(ne,"getCommonSchemaMetaData");function se(){(0,y.JP)(null).setEnabled(!1)}a(se,"disableCookies");function Ce(ae,me,Ge){(0,y.p7)(null)&&(0,y.JP)(null).set(ae,me,Ge*86400,null,"/")}a(Ce,"setCookie");function ie(ae){(0,y.p7)(null)&&(0,y.JP)(null).del(ae)}a(ie,"deleteCookie");function G(ae){return(0,y.p7)(null)?ve((0,y.JP)(null),ae):b.qS}a(G,"getCookie");function ve(ae,me,Ge){Ge===void 0&&(Ge=!0);var st;return ae&&(st=ae.get(me),Ge&&st&&decodeURIComponent&&(st=decodeURIComponent(st))),st||b.qS}a(ve,"getCookieValue");function Me(ae){ae===void 0&&(ae="D");var me=(0,w.GW)();return ae==="B"?me="{"+me+"}":ae==="P"?me="("+me+")":ae==="N"&&(me=me.replace(/-/g,b.qS)),me}a(Me,"createGuid");function Le(ae,me,Ge,st,Se){var Re={},Te=!1,xe=0,ke=arguments.length,pe=Object[F.hB],ct=arguments;for(pe.toString.call(ct[0])==="[object Boolean]"&&(Te=ct[0],xe++);xe<ke;xe++){var ae=ct[xe];(0,g.rW)(ae,function(U,J){Te&&J&&(0,g.Kn)(J)?(0,g.kJ)(J)?(Re[U]=Re[U]||[],(0,g.tO)(J,function(ge,Qe){ge&&(0,g.Kn)(ge)?Re[U][Qe]=Le(!0,Re[U][Qe],ge):Re[U][Qe]=ge})):Re[U]=Le(!0,Re[U],J):Re[U]=J})}return Re}a(Le,"extend");var le=w.Jj;function Y(ae){return ae===0||ae>0&&ae<=13||ae===32}a(Y,"isValueKind");function _e(ae){return ae>=0&&ae<=9}a(_e,"isDataType");function Fe(){var ae=(0,p.jW)();if(!(0,g.o8)(ae)&&ae.userAgent){var me=ae.userAgent.toLowerCase();if((me.indexOf("safari")>=0||me.indexOf("firefox")>=0)&&me.indexOf("chrome")<0)return!0}return!1}a(Fe,"isSafariOrFirefox");function Ie(ae){return ae.length>0}a(Ie,"isArrayValid");function ee(ae,me){var Ge=ae;Ge.timings=Ge.timings||{},Ge.timings.processTelemetryStart=Ge.timings.processTelemetryStart||{},Ge.timings.processTelemetryStart[me]=le()}a(ee,"setProcessTelemetryTimings");function ut(ae){var me=0;if(ae!=null){var Ge=typeof ae;Ge==="string"?me=1:Ge==="number"?me=2:Ge==="boolean"?me=3:Ge===F.fK&&(me=4,(0,g.kJ)(ae)?(me=4096,ae.length>0&&(me|=ut(ae[0]))):F.CY.call(ae,"value")&&(me=8192|ut(ae.value)))}return me}a(ut,"getFieldValueType");var qe={Version:x,FullVersionString:M,strUndefined:F.jA,strObject:F.fK,Undefined:F.jA,arrForEach:g.tO,arrIndexOf:g.UA,arrMap:g.Mr,arrReduce:g.Xz,objKeys:g.FY,toISOString:g.Y6,isReactNative:p.b$,isString:g.HD,isNumber:g.hj,isBoolean:g.jn,isFunction:g.mf,isArray:g.kJ,isObject:g.Kn,strTrim:g.nd,isDocumentObjectAvailable:z,isWindowObjectAvailable:$,isValueAssigned:D,getTenantId:P,isBeaconsSupported:p.MF,isUint8ArrayAvailable:j,isLatency:X,sanitizeProperty:re,getISOString:g.Y6,useXDomainRequest:p.cp,getCommonSchemaMetaData:ne,cookieAvailable:y.p7,disallowsSameSiteNone:y.UY,setCookie:Ce,deleteCookie:ie,getCookie:G,createGuid:Me,extend:Le,getTime:le,isValueKind:Y,isArrayValid:Ie,objDefineAccessors:g.l_,addPageUnloadEventListener:C.c9,setProcessTelemetryTimings:ee,addEventHandler:C.Ib,getFieldValueType:ut,strEndsWith:g.Id,objForEachKey:g.rW},Ze={_canUseCookies:void 0,isTypeof:g.Ym,isUndefined:g.o8,isNullOrUndefined:g.le,hasOwnProperty:g.nr,isFunction:g.mf,isObject:g.Kn,isDate:g.J_,isArray:g.kJ,isError:g.VZ,isString:g.HD,isNumber:g.hj,isBoolean:g.jn,toISOString:g.Y6,arrForEach:g.tO,arrIndexOf:g.UA,arrMap:g.Mr,arrReduce:g.Xz,strTrim:g.nd,objCreate:E.pu,objKeys:g.FY,objDefineAccessors:g.l_,addEventHandler:C.Ib,dateNow:g.m6,isIE:p.w1,disableCookies:se,newGuid:w.GW,perfNow:w.Jj,newId:f.pZ,randomValue:f.az,random32:f._l,mwcRandomSeed:f.CN,mwcRandom32:f.F6,generateW3CId:w.DO};function Z(){return!!(0,p.a8)("chrome")}a(Z,"isChromium");function te(ae,me,Ge,st,Se,Re){st===void 0&&(st=!1),Se===void 0&&(Se=!1);function Te(ke,pe,ct){try{ke[pe]=ct}catch(We){}}a(Te,"_wrapSetXhrProp");var xe=new XMLHttpRequest;return st&&Te(xe,R,st),Ge&&Te(xe,q,Ge),xe.open(ae,me,!Se),Ge&&Te(xe,q,Ge),!Se&&Re&&Te(xe,K,Re),xe}a(te,"openXhr")},9865:(fe,u,S)=>{"use strict";S.r(u),S.d(u,{BE_PROFILE:()=>q,NRT_PROFILE:()=>R,PostChannel:()=>Nr,RT_PROFILE:()=>M});var p=S(1088),g=S(1679),y=S(9288),w=S(4869),F=S(5883),C=S(3599),f=S(6708),E=S(7630),b=S(5928),_=S(5018),x=S(4063),M="REAL_TIME",R="NEAR_REAL_TIME",q="BEST_EFFORT",K="",oe="POST",O="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",z="drop",$="send",D="requeue",P="rspFail",j="oth",X="no-cache, no-store",re="application/x-json-stream",ne="cache-control",se="content-type",Ce="kill-tokens",ie="kill-duration",G="kill-duration-seconds",ve="time-delta-millis",Me="client-version",Le="client-id",le="time-delta-to-apply-millis",Y="upload-time",_e="apikey",Fe="AuthMsaDeviceTicket",Ie="AuthXToken",ee="sdk-version",ut="NoResponseBody",qe="msfpc",Ze="trace",Z="user";function te(Ct){var Rt=(Ct.ext||{}).intweb;return Rt&&(0,C.Sn)(Rt[qe])?Rt[qe]:null}a(te,"_getEventMsfpc");function ae(Ct){for(var Rt=null,$t=0;Rt===null&&$t<Ct.length;$t++)Rt=te(Ct[$t]);return Rt}a(ae,"_getMsfpc");var me=function(){function Ct(Rt,$t){var mt=$t?[].concat($t):[],Xt=this,zt=ae(mt);Xt.iKey=function(){return Rt},Xt.Msfpc=function(){return zt||K},Xt.count=function(){return mt.length},Xt.events=function(){return mt},Xt.addEvent=function(bt){return bt?(mt.push(bt),zt||(zt=te(bt)),!0):!1},Xt.split=function(bt,tr){var ar;if(bt<mt.length){var pr=mt.length-bt;(0,f.le)(tr)||(pr=tr<pr?tr:pr),ar=mt.splice(bt,pr),zt=ae(mt)}return new Ct(Rt,ar)}}return a(Ct,"EventBatch"),Ct.create=function(Rt,$t){return new Ct(Rt,$t)},Ct}(),Ge=function(){function Ct(){var Rt=!0,$t=!0,mt=!0,Xt="use-collector-delta",zt=!1;(0,g.Z)(Ct,this,function(bt){bt.allowRequestSending=function(){return Rt},bt.firstRequestSent=function(){mt&&(mt=!1,zt||(Rt=!1))},bt.shouldAddClockSkewHeaders=function(){return $t},bt.getClockSkewHeaderValue=function(){return Xt},bt.setClockSkew=function(tr){zt||(tr?(Xt=tr,$t=!0,zt=!0):$t=!1,Rt=!0)}})}return a(Ct,"ClockSkewManager"),Ct.__ieDyn=1,Ct}();const st=Ge;var Se=1e3,Re=function(){function Ct(){var Rt={};function $t(mt){var Xt=[];return mt&&(0,f.tO)(mt,function(zt){Xt.push((0,f.nd)(zt))}),Xt}a($t,"_normalizeTenants"),(0,g.Z)(Ct,this,function(mt){mt.setKillSwitchTenants=function(Xt,zt){if(Xt&&zt)try{var bt=$t(Xt.split(","));if(zt==="this-request-only")return bt;for(var tr=parseInt(zt,10)*Se,ar=0;ar<bt.length;++ar)Rt[bt[ar]]=(0,f.m6)()+tr}catch(pr){return[]}return[]},mt.isTenantKilled=function(Xt){var zt=Rt,bt=(0,f.nd)(Xt);return zt[bt]!==void 0&&zt[bt]>(0,f.m6)()?!0:(delete zt[bt],!1)}})}return a(Ct,"KillSwitch"),Ct.__ieDyn=1,Ct}();const Te=Re;var xe=S(4392),ke=.8,pe=1.2,ct=3e3,We=6e5;function U(Ct){return!(Ct>=300&&Ct<500&&Ct!=408&&Ct!=429||Ct==501||Ct==505)}a(U,"retryPolicyShouldRetryForStatus");function J(Ct){var Rt=0,$t=ct*ke,mt=ct*pe,Xt=Math.floor(Math.random()*(mt-$t))+$t;return Rt=Math.pow(2,Ct)*Xt,Math.min(Rt,We)}a(J,"retryPolicyGetMillisToBackoffForRetry");var ge=20,Qe=3984588,lt=65e3,yt=2e6,it=Math.min(yt,lt),A="metadata",d="f",v=/\./,Q=function(){function Ct(Rt,$t,mt,Xt){var zt="data",bt="baseData",tr="ext",ar=!!Xt,pr=!0,hr=$t,Wr={};(0,g.Z)(Ct,this,function(Sr){Sr.createPayload=function(Lt,rr,er,_r,Kt,sr){return{apiKeys:[],payloadBlob:K,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Lt,isTeardown:rr,isSync:er,isBeacon:_r,sendType:sr,sendReason:Kt}},Sr.appendPayload=function(Lt,rr,er){var _r=Lt&&rr&&!Lt.overflow;return _r&&(0,y.Lm)(Rt,function(){return"Serializer:appendPayload"},function(){for(var Kt=rr.events(),sr=Lt.payloadBlob,vr=Lt.numEvents,Tr=!1,nr=[],xr=[],$r=Lt.isBeacon,Ar=$r?lt:Qe,zr=$r?it:yt,Xe=0,kr=0;Xe<Kt.length;){var Vt=Kt[Xe];if(Vt){if(vr>=er){Lt.overflow=rr.split(Xe);break}var Ot=Sr.getEventBlob(Vt);if(Ot&&Ot.length<=zr){var Lr=Ot.length,Tn=sr.length;if(Tn+Lr>Ar){Lt.overflow=rr.split(Xe);break}sr&&(sr+=`
`),sr+=Ot,kr++,kr>ge&&(sr.substr(0,1),kr=0),Tr=!0,vr++}else Ot?nr.push(Vt):xr.push(Vt),Kt.splice(Xe,1),Xe--}Xe++}if(nr&&nr.length>0&&Lt.sizeExceed.push(me.create(rr.iKey(),nr)),xr&&xr.length>0&&Lt.failedEvts.push(me.create(rr.iKey(),xr)),Tr){Lt.batches.push(rr),Lt.payloadBlob=sr,Lt.numEvents=vr;var jr=rr.iKey();(0,f.UA)(Lt.apiKeys,jr)===-1&&Lt.apiKeys.push(jr)}},function(){return{payload:Lt,theBatch:{iKey:rr.iKey(),evts:rr.events()},max:er}}),_r},Sr.getEventBlob=function(Lt){try{return(0,y.Lm)(Rt,function(){return"Serializer.getEventBlob"},function(){var rr={};rr.name=Lt.name,rr.time=Lt.time,rr.ver=Lt.ver,rr.iKey="o:"+(0,C.jM)(Lt.iKey);var er={},_r=Lt[tr];_r&&(rr[tr]=er,(0,f.rW)(_r,function(vr,Tr){var nr=er[vr]={};fr(Tr,nr,"ext."+vr,!0,null,null,!0)}));var Kt=rr[zt]={};Kt.baseType=Lt.baseType;var sr=Kt[bt]={};return fr(Lt.baseData,sr,bt,!1,[bt],function(vr,Tr,nr){de(er,vr,Tr,nr)},pr),fr(Lt.data,Kt,zt,!1,[],function(vr,Tr,nr){de(er,vr,Tr,nr)},pr),JSON.stringify(rr)},function(){return{item:Lt}})}catch(rr){return null}};function Rr(Lt,rr){var er=Wr[Lt];return er===void 0&&(Lt.length>=7&&(er=(0,f.xe)(Lt,"ext.metadata")||(0,f.xe)(Lt,"ext.web")),Wr[Lt]=er),er}a(Rr,"_isReservedField");function fr(Lt,rr,er,_r,Kt,sr,vr){(0,f.rW)(Lt,function(Tr,nr){var xr=null;if(nr||(0,C.Sn)(nr)){var $r=er,Ar=Tr,zr=Kt,Xe=rr;if(ar&&!_r&&v.test(Tr)){var kr=Tr.split("."),Vt=kr.length;if(Vt>1){zr&&(zr=zr.slice());for(var Ot=0;Ot<Vt-1;Ot++){var Lr=kr[Ot];Xe=Xe[Lr]=Xe[Lr]||{},$r+="."+Lr,zr&&zr.push(Lr)}Ar=kr[Vt-1]}}var Tn=_r&&Rr($r,Ar);if(!Tn&&hr&&hr.handleField($r,Ar)?xr=hr.value($r,Ar,nr,mt):xr=(0,C.yj)(Ar,nr,mt),xr){var jr=xr.value;if(Xe[Ar]=jr,sr&&sr(zr,Ar,xr),vr&&typeof jr=="object"&&!(0,f.kJ)(jr)){var rn=zr;rn&&(rn=rn.slice(),rn.push(Ar)),fr(nr,jr,$r+"."+Ar,_r,rn,sr,vr)}}}})}a(fr,"_processPathKeys")})}return a(Ct,"Serializer"),Ct.__ieDyn=1,Ct}();function de(Ct,Rt,$t,mt){if(mt&&Ct){var Xt=(0,C.Vv)(mt.value,mt.kind,mt.propertyType);if(Xt>-1){var zt=Ct[A];zt||(zt=Ct[A]={f:{}});var bt=zt[d];if(bt||(bt=zt[d]={}),Rt)for(var tr=0;tr<Rt.length;tr++){var ar=Rt[tr];bt[ar]||(bt[ar]={f:{}});var pr=bt[ar][d];pr||(pr=bt[ar][d]={}),bt=pr}bt=bt[$t]={},(0,f.kJ)(mt.value)?bt.a={t:Xt}:bt.t=Xt}}}a(de,"_addJSONPropertyMetaData");var Ne,he="sendAttempt",ot="&"+ut+"=true",Ft=(Ne={},Ne[1]=D,Ne[100]=D,Ne[200]="sent",Ne[8004]=z,Ne[8003]=z,Ne),vt={},kt={};function nt(Ct,Rt,$t){vt[Ct]=Rt,$t!==!1&&(kt[Rt]=Ct)}a(nt,"_addCollectorHeaderQsMapping"),nt(Fe,Fe,!1),nt(Me,Me),nt(Le,"Client-Id"),nt(_e,_e),nt(le,le),nt(Y,Y),nt(Ie,Ie);function Jt(Ct){try{return Ct.responseText}catch(Rt){}return K}a(Jt,"_getResponseText");function ir(Ct,Rt){var $t=!1;if(Ct&&Rt){var mt=(0,f.FY)(Ct);if(mt&&mt.length>0)for(var Xt=Rt.toLowerCase(),zt=0;zt<mt.length;zt++){var bt=mt[zt];if(bt&&(0,f.nr)(Rt,bt)&&bt.toLowerCase()===Xt){$t=!0;break}}}return $t}a(ir,"_hasHeader");function Qt(Ct,Rt,$t,mt){Rt&&$t&&$t.length>0&&(mt&&vt[Rt]?(Ct.hdrs[vt[Rt]]=$t,Ct.useHdrs=!0):Ct.url+="&"+Rt+"="+$t)}a(Qt,"_addRequestDetails");function Yt(Ct,Rt){return Rt&&((0,f.hj)(Rt)?Ct=[Rt].concat(Ct):(0,f.kJ)(Rt)&&(Ct=Rt.concat(Ct))),Ct}a(Yt,"_prependTransports");var mr=function(){function Ct(Rt,$t,mt,Xt,zt){this._responseHandlers=[];var bt="?cors=true&"+se.toLowerCase()+"="+re,tr=new Te,ar=!1,pr=new st,hr=!1,Wr=0,Sr,Rr,fr,Lt,rr=!0,er=[],_r={},Kt=[],sr=null,vr=!1,Tr,nr=!1,xr=!1,$r,Ar,zr,Xe,kr;(0,g.Z)(Ct,this,function(Vt){var Ot=!0;Vt.initialize=function(Ae,N,W,we,Ke){var Tt;Ke||(Ke={}),bt=Ae+bt,xr=(0,f.o8)(Ke.avoidOptions)?!0:!Ke.avoidOptions,Lt=N,Tr=N.getCookieMgr(),vr=!Lt.config.disableEventTimings;var ht=!!Lt.config.enableCompoundKey;Sr=W,Rr=Sr.diagLog();var Ee=Ke.valueSanitizer,Pe=Ke.stringifyObjects;(0,f.o8)(Ke.enableCompoundKey)||(ht=!!Ke.enableCompoundKey),$r=Ke.xhrTimeout,Ar=!!Ke.disableXhrSync,zr=!!Ke.disableFetchKeepAlive,kr=Ke.addNoResponse!==!1,hr=!(0,E.b$)(),sr=new Q(Lt,Ee,Pe,ht),(0,f.le)(Ke.useSendBeacon)||(hr=!!Ke.useSendBeacon);var He=we,tt=Ke.alwaysUseXhrOverride?we:null,gt=Ke.alwaysUseXhrOverride?we:null,wt=[3,2];if(!we){rr=!1;var Ut=(0,E.k$)();Ut&&Ut.protocol&&Ut.protocol.toLowerCase()==="file:"&&(Ot=!1);var Mt=[];(0,E.b$)()?(Mt=[2,1],wt=[2,1,3]):Mt=[1,2,3],Mt=Yt(Mt,Ke.transports),we=Lr(Mt,!1),we||(0,_.jV)(Rr,"No available transport to send events"),He=Lr(Mt,!0)}tt||(wt=Yt(wt,Ke.unloadTransports),tt=Lr(wt,!0)),Xe=!rr&&(hr&&(0,E.MF)()||!zr&&(0,E.JO)(!0)),fr=(Tt={},Tt[0]=we,Tt[1]=He||Lr([1,2,3],!0),Tt[2]=tt||He||Lr([1],!0),Tt[3]=gt||Lr([2,3],!0)||He||Lr([1],!0),Tt)};function Lr(Ae,N){for(var W=0,we=null,Ke=0;we==null&&Ke<Ae.length;)W=Ae[Ke],W===1?(0,E.cp)()?we=Tn:(0,E.Z3)()&&(we=rn):W===2&&(0,E.JO)(N)&&(!N||N&&!zr)?we=jr:hr&&W===3&&(0,E.MF)()&&(we=$n),Ke++;return we?{_transport:W,_isSync:N,sendPOST:we}:null}a(Lr,"_getSenderInterface"),Vt._getDbgPlgTargets=function(){return[fr[0],tr,sr,fr]};function Tn(Ae,N,W){var we=new XDomainRequest;we.open(oe,Ae.urlString),Ae.timeout&&(we.timeout=Ae.timeout),we.onload=function(){var Ke=Jt(we);Kr(N,200,{},Ke),Cr(Ke)},we.onerror=function(){Kr(N,400,{})},we.ontimeout=function(){Kr(N,500,{})},we.onprogress=function(){},W?we.send(Ae.data):zt.set(function(){we.send(Ae.data)},0)}a(Tn,"_xdrSendPost");function jr(Ae,N,W){var we,Ke=Ae.urlString,Tt=!1,ht=!1,Ee=(we={body:Ae.data,method:oe},we[O]=!0,we);W&&(Ee.keepalive=!0,Ae._sendReason===2&&(Tt=!0,kr&&(Ke+=ot))),Ot&&(Ee.credentials="include"),Ae.headers&&(0,f.FY)(Ae.headers).length>0&&(Ee.headers=Ae.headers),fetch(Ke,Ee).then(function(Pe){var He={},tt=K,gt=Pe.headers;gt&&gt.forEach(function(wt,Ut){He[Ut]=wt}),Pe.body&&Pe.text().then(function(wt){tt=wt}),ht||(ht=!0,Kr(N,Pe.status,He,tt),Cr(tt))}).catch(function(Pe){ht||(ht=!0,Kr(N,0,{}))}),Tt&&!ht&&(ht=!0,Kr(N,200,{})),!ht&&Ae.timeout>0&&zt.set(function(){ht||(ht=!0,Kr(N,500,{}))},Ae.timeout)}a(jr,"_fetchSendPost");function rn(Ae,N,W){var we=Ae.urlString;function Ke(Pe,He,tt){if(!Pe[tt]&&He&&He.getResponseHeader){var gt=He.getResponseHeader(tt);gt&&(Pe[tt]=(0,f.nd)(gt))}return Pe}a(Ke,"_appendHeader");function Tt(Pe){var He={};return Pe.getAllResponseHeaders?He=qn(Pe.getAllResponseHeaders()):(He=Ke(He,Pe,ve),He=Ke(He,Pe,ie),He=Ke(He,Pe,G)),He}a(Tt,"_getAllResponseHeaders");function ht(Pe,He){Kr(N,Pe.status,Tt(Pe),He)}a(ht,"xhrComplete"),W&&Ae.disableXhrSync&&(W=!1);var Ee=(0,C.ot)(oe,we,Ot,!0,W,Ae.timeout);(0,f.rW)(Ae.headers,function(Pe,He){Ee.setRequestHeader(Pe,He)}),Ee.onload=function(){var Pe=Jt(Ee);ht(Ee,Pe),Cr(Pe)},Ee.onerror=function(){ht(Ee)},Ee.ontimeout=function(){ht(Ee)},Ee.send(Ae.data)}a(rn,"_xhrSendPost");function Kr(Ae,N,W,we){try{Ae(N,W,we)}catch(Ke){(0,_.kP)(Rr,2,518,(0,E.eU)(Ke))}}a(Kr,"_doOnComplete");function $n(Ae,N,W){var we=Ae,Ke=200,Tt=we._thePayload,ht=Ae.urlString+(kr?ot:K);try{var Ee=(0,E.jW)();if(!Ee.sendBeacon(ht,Ae.data))if(Tt){var Pe=[];(0,f.tO)(Tt.batches,function(He){if(Pe&&He&&He.count()>0){for(var tt=He.events(),gt=0;gt<tt.length;gt++)if(!Ee.sendBeacon(ht,sr.getEventBlob(tt[gt]))){Pe.push(He.split(gt));break}}else Pe.push(He.split(0))}),Mr(Pe,8003,Tt.sendType,!0)}else Ke=0}catch(He){(0,_.jV)(Rr,"Failed to send telemetry using sendBeacon API. Ex:"+(0,E.eU)(He)),Ke=0}finally{Kr(N,Ke,{},K)}}a($n,"_beaconSendPost");function nn(Ae){return Ae===2||Ae===3}a(nn,"_isBeaconPayload");function Hr(Ae){return nr&&nn(Ae)&&(Ae=2),Ae}a(Hr,"_adjustSendType"),Vt.addQueryStringParameter=function(Ae,N){for(var W=0;W<er.length;W++)if(er[W].name===Ae){er[W].value=N;return}er.push({name:Ae,value:N})},Vt.addHeader=function(Ae,N){_r[Ae]=N},Vt.canSendRequest=function(){return Yn()&&pr.allowRequestSending()},Vt.sendQueuedRequests=function(Ae,N){(0,f.o8)(Ae)&&(Ae=0),nr&&(Ae=Hr(Ae),N=2),yn(Kt,Ae,0)&&En(wn(),0,!1,Ae,N||0)},Vt.isCompletelyIdle=function(){return!ar&&Wr===0&&Kt.length===0},Vt.setUnloading=function(Ae){nr=Ae},Vt.addBatch=function(Ae){if(Ae&&Ae.count()>0){if(tr.isTenantKilled(Ae.iKey()))return!1;Kt.push(Ae)}return!0},Vt.teardown=function(){Kt.length>0&&En(wn(),0,!0,2,2)},Vt.pause=function(){ar=!0},Vt.resume=function(){ar=!1,Vt.sendQueuedRequests(0,4)},Vt.sendSynchronousBatch=function(Ae,N,W){Ae&&Ae.count()>0&&((0,f.le)(N)&&(N=1),nr&&(N=Hr(N),W=2),En([Ae],0,!1,N,W||0))};function Yn(){return!ar&&Wr<$t}a(Yn,"_hasIdleConnection");function wn(){var Ae=Kt;return Kt=[],Ae}a(wn,"_clearQueue");function yn(Ae,N,W){var we=!1;return Ae&&Ae.length>0&&!ar&&fr[N]&&sr&&(we=N!==0||Yn()&&(W>0||pr.allowRequestSending())),we}a(yn,"_canSendPayload");function An(Ae){var N={};return Ae&&(0,f.tO)(Ae,function(W,we){N[we]={iKey:W.iKey(),evts:W.events()}}),N}a(An,"_createDebugBatches");function En(Ae,N,W,we,Ke){if(!(!Ae||Ae.length===0)){if(ar){Mr(Ae,1,we);return}we=Hr(we);try{var Tt=Ae,ht=we!==0;(0,y.Lm)(Lt,function(){return"HttpManager:_sendBatches"},function(Ee){Ee&&(Ae=Ae.slice(0));for(var Pe=[],He=null,tt=(0,C.hK)(),gt=fr[we]||(ht?fr[1]:fr[0]),wt=gt&&gt._transport,Ut=Xe&&(nr||nn(we)||wt===3||gt._isSync&&wt===2);yn(Ae,we,N);){var Mt=Ae.shift();Mt&&Mt.count()>0&&(tr.isTenantKilled(Mt.iKey())?Pe.push(Mt):(He=He||sr.createPayload(N,W,ht,Ut,Ke,we),sr.appendPayload(He,Mt,Rt)?He.overflow!==null&&(Ae=[He.overflow].concat(Ae),He.overflow=null,dn(He,tt,(0,C.hK)(),Ke),tt=(0,C.hK)(),He=null):(dn(He,tt,(0,C.hK)(),Ke),tt=(0,C.hK)(),Ae=[Mt].concat(Ae),He=null)))}He&&dn(He,tt,(0,C.hK)(),Ke),Ae.length>0&&(Kt=Ae.concat(Kt)),Mr(Pe,8004,we)},function(){return{batches:An(Tt),retryCount:N,isTeardown:W,isSynchronous:ht,sendReason:Ke,useSendBeacon:nn(we),sendType:we}},!ht)}catch(Ee){(0,_.kP)(Rr,2,48,"Unexpected Exception sending batch: "+(0,E.eU)(Ee))}}}a(En,"_sendBatches");function ci(Ae,N){var W={url:bt,hdrs:{},useHdrs:!1};N?(W.hdrs=(0,C.l7)(W.hdrs,_r),W.useHdrs=(0,f.FY)(W.hdrs).length>0):(0,f.rW)(_r,function(Ee,Pe){kt[Ee]?Qt(W,kt[Ee],Pe,!1):(W.hdrs[Ee]=Pe,W.useHdrs=!0)}),Qt(W,Le,"NO_AUTH",N),Qt(W,Me,C.vs,N);var we=K;(0,f.tO)(Ae.apiKeys,function(Ee){we.length>0&&(we+=","),we+=Ee}),Qt(W,_e,we,N),Qt(W,Y,(0,f.m6)().toString(),N);var Ke=On(Ae);if((0,C.Sn)(Ke)&&(W.url+="&ext.intweb.msfpc="+Ke),pr.shouldAddClockSkewHeaders()&&Qt(W,le,pr.getClockSkewHeaderValue(),N),Lt.getWParam){var Tt=Lt.getWParam();Tt>=0&&(W.url+="&w="+Tt)}for(var ht=0;ht<er.length;ht++)W.url+="&"+er[ht].name+"="+er[ht].value;return W}a(ci,"_buildRequestDetails");function Sn(Ae,N,W){Ae[N]=Ae[N]||{},Ae[N][Sr.identifier]=W}a(Sn,"_setTimingValue");function dn(Ae,N,W,we){if(Ae&&Ae.payloadBlob&&Ae.payloadBlob.length>0){var Ke=!!Vt.sendHook,Tt=fr[Ae.sendType];!nn(Ae.sendType)&&Ae.isBeacon&&Ae.sendReason===2&&(Tt=fr[2]||fr[3]||Tt);var ht=xr;(Ae.isBeacon||Tt._transport===3)&&(ht=!1);var Ee=ci(Ae,ht);ht=ht||Ee.useHdrs;var Pe=(0,C.hK)();(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend"},function(){for(var He=0;He<Ae.batches.length;He++)for(var tt=Ae.batches[He],gt=tt.events(),wt=0;wt<gt.length;wt++){var Ut=gt[wt];if(vr){var Mt=Ut.timings=Ut.timings||{};Sn(Mt,"sendEventStart",Pe),Sn(Mt,"serializationStart",N),Sn(Mt,"serializationCompleted",W)}Ut[he]>0?Ut[he]++:Ut[he]=1}Mr(Ae.batches,1e3+(we||0),Ae.sendType,!0);var qt={data:Ae.payloadBlob,urlString:Ee.url,headers:Ee.hdrs,_thePayload:Ae,_sendReason:we,timeout:$r,disableXhrSync:Ar,disableFetchKeepAlive:zr};ht&&(ir(qt.headers,ne)||(qt.headers[ne]=X),ir(qt.headers,se)||(qt.headers[se]=re));var Yr=null;Tt&&(Yr=a(function(jt){pr.firstRequestSent();var en=a(function(tn,bn){kn(tn,bn,Ae,we)},"onComplete"),Vr=Ae.isTeardown||Ae.isSync;try{Tt.sendPOST(jt,en,Vr),Vt.sendListener&&Vt.sendListener(qt,jt,Vr,Ae.isBeacon)}catch(tn){(0,_.jV)(Rr,"Unexpected exception sending payload. Ex:"+(0,E.eU)(tn)),Kr(en,0,{})}},"sender")),(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Yr)if(Ae.sendType===0&&Wr++,Ke&&!Ae.isBeacon&&Tt._transport!==3){var jt={data:qt.data,urlString:qt.urlString,headers:(0,C.l7)({},qt.headers),timeout:qt.timeout,disableXhrSync:qt.disableXhrSync,disableFetchKeepAlive:qt.disableFetchKeepAlive},en=!1;(0,y.Lm)(Lt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Vt.sendHook(jt,function(Vr){en=!0,!rr&&!Vr._thePayload&&(Vr._thePayload=Vr._thePayload||qt._thePayload,Vr._sendReason=Vr._sendReason||qt._sendReason),Yr(Vr)},Ae.isSync||Ae.isTeardown)}catch(Vr){en||Yr(qt)}})}else Yr(qt)})},function(){return{thePayload:Ae,serializationStart:N,serializationCompleted:W,sendReason:we}},Ae.isSync)}Ae.sizeExceed&&Ae.sizeExceed.length>0&&Mr(Ae.sizeExceed,8003,Ae.sendType),Ae.failedEvts&&Ae.failedEvts.length>0&&Mr(Ae.failedEvts,8002,Ae.sendType)}a(dn,"_doPayloadSend");function Pn(Ae,N){vr&&(0,f.tO)(Ae,function(W){var we=W.timings=W.timings||{};Sn(we,"sendEventCompleted",N)})}a(Pn,"_addEventCompletedTimings");function kn(Ae,N,W,we){var Ke=9e3,Tt=null,ht=!1,Ee=!1;try{var Pe=!0;if(typeof Ae!==xe.jA){if(N){pr.setClockSkew(N[ve]);var He=N[ie]||N["kill-duration-seconds"];(0,f.tO)(tr.setKillSwitchTenants(N[Ce],He),function(gt){(0,f.tO)(W.batches,function(wt){if(wt.iKey()===gt){Tt=Tt||[];var Ut=wt.split(0);W.numEvents-=Ut.count(),Tt.push(Ut)}})})}if(Ae==200||Ae==204){Ke=200;return}(!U(Ae)||W.numEvents<=0)&&(Pe=!1),Ke=9e3+Ae%1e3}if(Pe){Ke=100;var tt=W.retryCnt;W.sendType===0&&(tt<mt?(ht=!0,Dn(function(){W.sendType===0&&Wr--,En(W.batches,tt+1,W.isTeardown,nr?2:W.sendType,5)},nr,J(tt))):(Ee=!0,nr&&(Ke=8001)))}}finally{ht||(pr.setClockSkew(),ni(W,Ke,we,Ee)),Mr(Tt,8004,W.sendType)}}a(kn,"_retryRequestIfNeeded");function ni(Ae,N,W,we){try{we&&Sr._backOffTransmission(),N===200&&(!we&&!Ae.isSync&&Sr._clearBackOff(),Vn(Ae.batches)),Mr(Ae.batches,N,Ae.sendType,!0)}finally{Ae.sendType===0&&(Wr--,W!==5&&Vt.sendQueuedRequests(Ae.sendType,W))}}a(ni,"_handleRequestFinished");function Vn(Ae){if(vr){var N=(0,C.hK)();(0,f.tO)(Ae,function(W){W&&W.count()>0&&Pn(W.events(),N)})}}a(Vn,"_addCompleteTimings");function Dn(Ae,N,W){N?Ae():zt.set(Ae,W)}a(Dn,"_doAction");function qn(Ae){var N={};if((0,f.HD)(Ae)){var W=(0,f.nd)(Ae).split(/[\r\n]+/);(0,f.tO)(W,function(we){if(we){var Ke=we.indexOf(": ");if(Ke!==-1){var Tt=(0,f.nd)(we.substring(0,Ke)).toLowerCase(),ht=(0,f.nd)(we.substring(Ke+1));N[Tt]=ht}else N[(0,f.nd)(we)]=1}})}return N}a(qn,"_convertAllHeadersToMap");function On(Ae){for(var N=0;N<Ae.batches.length;N++){var W=Ae.batches[N].Msfpc();if(W)return encodeURIComponent(W)}return K}a(On,"_getMsfpc");function Cr(Ae){var N=Vt._responseHandlers;try{for(var W=0;W<N.length;W++)try{N[W](Ae)}catch(Ke){(0,_.kP)(Rr,1,519,"Response handler failed: "+Ke)}if(Ae){var we=JSON.parse(Ae);(0,C.Sn)(we.webResult)&&(0,C.Sn)(we.webResult[qe])&&Tr.set("MSFPC",we.webResult[qe],365*86400)}}catch(Ke){}}a(Cr,"_handleCollectorResponse");function Mr(Ae,N,W,we){if(Ae&&Ae.length>0&&Xt){var Ke=Xt[br(N)];if(Ke){var Tt=W!==0;(0,y.Lm)(Lt,function(){return"HttpManager:_sendBatchesNotification"},function(){Dn(function(){try{Ke.call(Xt,Ae,N,Tt,W)}catch(ht){(0,_.kP)(Rr,1,74,"send request notification failed: "+ht)}},we||Tt,0)},function(){return{batches:An(Ae),reason:N,isSync:Tt,sendSync:we,sendType:W}},!Tt)}}}a(Mr,"_sendBatchesNotification");function br(Ae){var N=Ft[Ae];return(0,C.Sn)(N)||(N=j,Ae>=9e3&&Ae<=9999?N=P:Ae>=8e3&&Ae<=8999?N=z:Ae>=1e3&&Ae<=1999&&(N=$)),N}a(br,"_getNotificationAction")})}return a(Ct,"HttpManager"),Ct.__ieDyn=1,Ct}();function Dr(Ct,Rt){for(var $t=[],mt=2;mt<arguments.length;mt++)$t[mt-2]=arguments[mt];return setTimeout(Ct,Rt,$t)}a(Dr,"defaultSetTimeout");function Cn(Ct){clearTimeout(Ct)}a(Cn,"defaultClearTimeout");function Jr(Ct,Rt){return{set:Ct||Dr,clear:Rt||Cn}}a(Jr,"createTimeoutWrapper");var Or=.25,Un=500,_n=20,Gn=6,Nn=2,Fn=4,Bn=2,ce=1,Je="eventsDiscarded",pt="overrideInstrumentationKey",xt="maxEventRetryAttempts",Ht="maxUnloadEventRetryAttempts",Bt="addUnloadCb",Pr=function(Ct){(0,p.ne)(Rt,Ct);function Rt(){var $t=Ct.call(this)||this;$t.identifier="PostChannel",$t.priority=1011,$t.version="3.2.8";var mt,Xt=!1,zt=[],bt=null,tr=!1,ar=0,pr=500,hr=0,Wr=1e4,Sr={},Rr=M,fr=null,Lt=null,rr=0,er=0,_r,Kt,sr={},vr,Tr,nr=-1,xr,$r=!0,Ar=!1,zr=Gn,Xe=Nn,kr,Vt;return(0,g.Z)(Rt,$t,function(Ot,Lr){Yn(),Ot._getDbgPlgTargets=function(){return[Kt]},Ot.initialize=function(Ee,Pe,He){(0,y.Lm)(Pe,function(){return"PostChannel:initialize"},function(){var tt=Pe;Lr.initialize(Ee,Pe,He);try{var gt=!!Pe[Bt];kr=(0,w.jU)((0,F.J)(Ot.identifier),Pe.evtNamespace&&Pe.evtNamespace());var wt=Ot._getTelCtx();Ee.extensionConfig[Ot.identifier]=Ee.extensionConfig[Ot.identifier]||{},mt=wt.getExtCfg(Ot.identifier),Vt=Jr(mt.setTimeoutOverride,mt.clearTimeoutOverride),$r=!mt.disableOptimizeObj&&(0,C.mJ)(),Tn(tt),mt.eventsLimitInMem>0&&(Wr=mt.eventsLimitInMem),mt.immediateEventLimit>0&&(pr=mt.immediateEventLimit),mt.autoFlushEventsLimit>0&&(vr=mt.autoFlushEventsLimit),(0,f.hj)(mt[xt])&&(zr=mt[xt]),(0,f.hj)(mt[Ht])&&(Xe=mt[Ht]),ht(),mt.httpXHROverride&&mt.httpXHROverride.sendPOST&&(_r=mt.httpXHROverride),(0,C.Sn)(Ee.anonCookieName)&&Kt.addQueryStringParameter("anoncknm",Ee.anonCookieName),Kt.sendHook=mt.payloadPreprocessor,Kt.sendListener=mt.payloadListener;var Ut=mt.overrideEndpointUrl?mt.overrideEndpointUrl:Ee.endpointUrl;Ot._notificationManager=Pe.getNotifyMgr(),Kt.initialize(Ut,Ot.core,Ot,_r,mt);var Mt=Ee.disablePageUnloadEvents||[];(0,w.c9)(jr,Mt,kr),(0,w.TJ)(jr,Mt,kr),(0,w.nD)(rn,Ee.disablePageShowEvents,kr)}catch(qt){throw Ot.setInitialized(!1),qt}},function(){return{coreConfig:Ee,core:Pe,extensions:He}})},Ot.processTelemetry=function(Ee,Pe){(0,C.if)(Ee,Ot.identifier),Pe=Ot._getTelCtx(Pe);var He=Pe.getExtCfg(Ot.identifier),tt=!!mt.disableTelemetry;He&&(tt=tt||!!He.disableTelemetry);var gt=Ee;!tt&&!Xt&&(mt[pt]&&(gt.iKey=mt[pt]),He&&He[pt]&&(gt.iKey=He[pt]),Kr(gt,!0),Ar?An(2,2):Hr()),Ot.processNext(gt,Pe)},Ot._doTeardown=function(Ee,Pe){An(2,2),Xt=!0,Kt.teardown(),(0,w.JA)(null,kr),(0,w.C9)(null,kr),(0,w.Yl)(null,kr),Yn()};function Tn(Ee){var Pe=Ee.getWParam;Ee.getWParam=function(){var He=0;return mt.ignoreMc1Ms0CookieProcessing&&(He=He|2),He|Pe()}}a(Tn,"_hookWParam");function jr(Ee){var Pe=Ee||(0,E.Jj)().event;Pe.type!=="beforeunload"&&(Ar=!0,Kt.setUnloading(Ar)),An(2,2)}a(jr,"_handleUnloadEvents");function rn(Ee){Ar=!1,Kt.setUnloading(Ar)}a(rn,"_handleShowEvents");function Kr(Ee,Pe){if(Ee.sendAttempt||(Ee.sendAttempt=0),Ee.latency||(Ee.latency=1),Ee.ext&&Ee.ext[Ze]&&delete Ee.ext[Ze],Ee.ext&&Ee.ext[Z]&&Ee.ext[Z].id&&delete Ee.ext[Z].id,$r&&(C.if,Ee.ext=(0,f.Ax)(Ee.ext),Ee.baseData&&(Ee.baseData=(0,f.Ax)(Ee.baseData)),Ee.data&&(Ee.data=(0,f.Ax)(Ee.data))),Ee.sync){if(rr||tr)Ee.latency=3,Ee.sync=!1;else if(Kt){$r&&(Ee=(0,f.Ax)(Ee)),Kt.sendSynchronousBatch(me.create(Ee.iKey,[Ee]),Ee.sync===!0?1:Ee.sync,3);return}}var He=Ee.latency,tt=hr,gt=Wr;He===4&&(tt=ar,gt=pr);var wt=!1;if(tt<gt)wt=!dn(Ee,Pe);else{var Ut=1,Mt=_n;He===4&&(Ut=4,Mt=1),wt=!0,Pn(Ee.iKey,Ee.latency,Ut,Mt)&&(wt=!dn(Ee,Pe))}wt&&br(Je,[Ee],b.h.QueueFull)}a(Kr,"_addEventToQueues"),Ot.setEventQueueLimits=function(Ee,Pe){Wr=Ee>0?Ee:1e4,vr=Pe>0?Pe:0,ht();var He=hr>Ee;if(!He&&Tr>0)for(var tt=1;!He&&tt<=3;tt++){var gt=sr[tt];gt&&gt.batches&&(0,f.tO)(gt.batches,function(wt){wt&&wt.count()>=Tr&&(He=!0)})}Sn(!0,He)},Ot.pause=function(){yn(),tr=!0,Kt.pause()},Ot.resume=function(){tr=!1,Kt.resume(),Hr()},Ot.addResponseHandler=function(Ee){Kt._responseHandlers.push(Ee)},Ot._loadTransmitProfiles=function(Ee){qn(),(0,f.rW)(Ee,function(Pe,He){var tt=He.length;if(tt>=2){var gt=tt>2?He[2]:0;if(He.splice(0,tt-2),He[1]<0&&(He[0]=-1),He[1]>0&&He[0]>0){var wt=He[0]/He[1];He[0]=Math.ceil(wt)*He[1]}gt>=0&&He[1]>=0&&gt>He[1]&&(gt=He[1]),He.push(gt),Sr[Pe]=He}})},Ot.flush=function(Ee,Pe,He){if(Ee===void 0&&(Ee=!0),!tr)if(He=He||1,Ee)bt==null?(yn(),ni(1,0,He),bt=wn(function(){bt=null,Vn(Pe,He)},0)):zt.push(Pe);else{var tt=yn();$n(1,1,He),Pe!=null&&Pe(),tt&&Hr()}},Ot.setMsaAuthTicket=function(Ee){Kt.addHeader(Fe,Ee)},Ot.hasEvents=nn,Ot._setTransmitProfile=function(Ee){Rr!==Ee&&Sr[Ee]!==void 0&&(yn(),Rr=Ee,Hr())};function $n(Ee,Pe,He){var tt=ni(Ee,Pe,He);return Kt.sendQueuedRequests(Pe,He),tt}a($n,"_sendEventsForLatencyAndAbove");function nn(){return hr>0}a(nn,"_hasEvents");function Hr(){if(nr>=0&&ni(nr,0,xr)&&Kt.sendQueuedRequests(0,xr),ar>0&&!Lt&&!tr){var Ee=Sr[Rr][2];Ee>=0&&(Lt=wn(function(){Lt=null,$n(4,0,1),Hr()},Ee))}var Pe=Sr[Rr][1];!fr&&!bt&&Pe>=0&&!tr&&(nn()?fr=wn(function(){fr=null,$n(er===0?3:1,0,1),er++,er%=2,Hr()},Pe):er=0)}a(Hr,"_scheduleTimer"),Ot._backOffTransmission=function(){rr<Fn&&(rr++,yn(),Hr())},Ot._clearBackOff=function(){rr&&(rr=0,yn(),Hr())};function Yn(){mt=null,Xt=!1,zt=[],bt=null,tr=!1,ar=0,pr=500,hr=0,Wr=1e4,Sr={},Rr=M,fr=null,Lt=null,rr=0,er=0,_r=null,sr={},vr=void 0,Tr=0,nr=-1,xr=null,$r=!0,Ar=!1,zr=Gn,Xe=Nn,kr=null,Vt=Jr(),Kt=new mr(Un,Bn,ce,{requeue:Cr,send:N,sent:W,drop:we,rspFail:Ke,oth:Tt},Vt),On(),En(),ht()}a(Yn,"_initDefaults");function wn(Ee,Pe){Pe===0&&rr&&(Pe=1);var He=1e3;return rr&&(He=J(rr-1)),Vt.set(Ee,Pe*He)}a(wn,"_createTimer");function yn(){return fr!==null?(Vt.clear(fr),fr=null,er=0,!0):!1}a(yn,"_clearScheduledTimer");function An(Ee,Pe){yn(),bt&&(Vt.clear(bt),bt=null),tr||$n(1,Ee,Pe)}a(An,"_releaseAllQueues");function En(){sr[4]={batches:[],iKeyMap:{}},sr[3]={batches:[],iKeyMap:{}},sr[2]={batches:[],iKeyMap:{}},sr[1]={batches:[],iKeyMap:{}}}a(En,"_clearQueues");function ci(Ee,Pe,He){var tt=sr[Pe];tt||(Pe=1,tt=sr[Pe]);var gt=tt.iKeyMap[Ee];return!gt&&He&&(gt=me.create(Ee),tt.batches.push(gt),tt.iKeyMap[Ee]=gt),gt}a(ci,"_getEventBatch");function Sn(Ee,Pe){Kt.canSendRequest()&&!rr&&(vr>0&&hr>vr&&(Pe=!0),Pe&&bt==null&&Ot.flush(Ee,null,20))}a(Sn,"_performAutoFlush");function dn(Ee,Pe){$r&&(Ee=(0,f.Ax)(Ee));var He=Ee.latency,tt=ci(Ee.iKey,He,!0);return tt.addEvent(Ee)?(He!==4?(hr++,Pe&&Ee.sendAttempt===0&&Sn(!Ee.sync,Tr>0&&tt.count()>=Tr)):ar++,!0):!1}a(dn,"_addEventToProperQueue");function Pn(Ee,Pe,He,tt){for(;He<=Pe;){var gt=ci(Ee,Pe,!0);if(gt&&gt.count()>0){var wt=gt.split(0,tt),Ut=wt.count();if(Ut>0)return He===4?ar-=Ut:hr-=Ut,Ae(Je,[wt],b.h.QueueFull),!0}He++}return kn(),!1}a(Pn,"_dropEventWithLatencyOrLess");function kn(){for(var Ee=0,Pe=0,He=a(function(gt){var wt=sr[gt];wt&&wt.batches&&(0,f.tO)(wt.batches,function(Ut){gt===4?Ee+=Ut.count():Pe+=Ut.count()})},"_loop_1"),tt=1;tt<=4;tt++)He(tt);hr=Pe,ar=Ee}a(kn,"_resetQueueCounts");function ni(Ee,Pe,He){var tt=!1,gt=Pe===0;return!gt||Kt.canSendRequest()?(0,y.Lm)(Ot.core,function(){return"PostChannel._queueBatches"},function(){for(var wt=[],Ut=4;Ut>=Ee;){var Mt=sr[Ut];Mt&&Mt.batches&&Mt.batches.length>0&&((0,f.tO)(Mt.batches,function(qt){Kt.addBatch(qt)?tt=tt||qt&&qt.count()>0:wt=wt.concat(qt.events()),Ut===4?ar-=qt.count():hr-=qt.count()}),Mt.batches=[],Mt.iKeyMap={}),Ut--}wt.length>0&&br(Je,wt,b.h.KillSwitch),tt&&nr>=Ee&&(nr=-1,xr=0)},function(){return{latency:Ee,sendType:Pe,sendReason:He}},!gt):(nr=nr>=0?Math.min(nr,Ee):Ee,xr=Math.max(xr,He)),tt}a(ni,"_queueBatches");function Vn(Ee,Pe){$n(1,0,Pe),kn(),Dn(function(){Ee&&Ee(),zt.length>0?bt=wn(function(){bt=null,Vn(zt.shift(),Pe)},0):(bt=null,Hr())})}a(Vn,"_flushImpl");function Dn(Ee){Kt.isCompletelyIdle()?Ee():bt=wn(function(){bt=null,Dn(Ee)},Or)}a(Dn,"_waitForIdleManager");function qn(){yn(),On(),Rr=M,Hr()}a(qn,"_resetTransmitProfiles");function On(){Sr={},Sr[M]=[2,1,0],Sr[R]=[6,3,0],Sr[q]=[18,9,0]}a(On,"_initializeProfiles");function Cr(Ee,Pe){var He=[],tt=zr;Ar&&(tt=Xe),(0,f.tO)(Ee,function(gt){gt&&gt.count()>0&&(0,f.tO)(gt.events(),function(wt){wt&&(wt.sync&&(wt.latency=4,wt.sync=!1),wt.sendAttempt<tt?((0,C.if)(wt,Ot.identifier),Kr(wt,!1)):He.push(wt))})}),He.length>0&&br(Je,He,b.h.NonRetryableStatus),Ar&&An(2,2)}a(Cr,"_requeueEvents");function Mr(Ee,Pe){var He=Ot._notificationManager||{},tt=He[Ee];if(tt)try{tt.apply(He,Pe)}catch(gt){(0,_.kP)(Ot.diagLog(),1,74,Ee+" notification failed: "+gt)}}a(Mr,"_callNotification");function br(Ee,Pe){for(var He=[],tt=2;tt<arguments.length;tt++)He[tt-2]=arguments[tt];Pe&&Pe.length>0&&Mr(Ee,[Pe].concat(He))}a(br,"_notifyEvents");function Ae(Ee,Pe){for(var He=[],tt=2;tt<arguments.length;tt++)He[tt-2]=arguments[tt];Pe&&Pe.length>0&&(0,f.tO)(Pe,function(gt){gt&&gt.count()>0&&Mr(Ee,[gt.events()].concat(He))})}a(Ae,"_notifyBatchEvents");function N(Ee,Pe,He){Ee&&Ee.length>0&&Mr("eventsSendRequest",[Pe>=1e3&&Pe<=1999?Pe-1e3:0,He!==!0])}a(N,"_sendingEvent");function W(Ee,Pe){Ae("eventsSent",Ee,Pe),Hr()}a(W,"_eventsSentEvent");function we(Ee,Pe){Ae(Je,Ee,Pe>=8e3&&Pe<=8999?Pe-8e3:b.h.Unknown)}a(we,"_eventsDropped");function Ke(Ee){Ae(Je,Ee,b.h.NonRetryableStatus),Hr()}a(Ke,"_eventsResponseFail");function Tt(Ee,Pe){Ae(Je,Ee,b.h.Unknown),Hr()}a(Tt,"_otherEvent");function ht(){!mt||!mt.disableAutoBatchFlushLimit?Tr=Math.max(Un*(Bn+1),Wr/6):Tr=0}a(ht,"_setAutoLimits"),(0,f.l_)(Ot,"_setTimeoutOverride",function(){return Vt.set},function(Ee){Vt=Jr(Ee,Vt.clear)}),(0,f.l_)(Ot,"_clearTimeoutOverride",function(){return Vt.clear},function(Ee){Vt=Jr(Vt.set,Ee)})}),$t}return a(Rt,"PostChannel"),Rt.__ieDyn=1,Rt}(x.i);const Nr=Pr},4873:(fe,u,S)=>{"use strict";S.d(u,{By:()=>g,cc:()=>w});var p=S(6708);function g(F){var C={};return(0,p.rW)(F,function(f,E){C[f]=E,C[E]=f}),(0,p._A)(C)}a(g,"createEnumStyle");function y(F){var C={};return objForEachKey(F,function(f,E){C[f]=f,C[E]=f}),deepFreeze(C)}a(y,"createEnumMap");function w(F){var C={};return(0,p.rW)(F,function(f,E){C[f]=E[1],C[E[0]]=E[1]}),(0,p._A)(C)}a(w,"createValueMap")},5928:(fe,u,S)=>{"use strict";S.d(u,{h:()=>g});var p=S(4873),g=(0,p.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(fe,u,S)=>{"use strict";S.d(u,{X:()=>z,v:()=>$});var p=S(4873),g,y="Failed",w=y+"MonitorAjax",F="Track",C="Start",f="Stop",E="Event",b="AuthContext",_="Exception",x="Local",M="Session",R="Storage",q="Browser",K="Cannot",oe="Buffer",O="InstrumentationKey",z=(0,p.By)({CRITICAL:1,WARNING:2}),$=(0,p.By)((g={},g[q+"DoesNotSupport"+x+R]=0,g[q+K+"Read"+x+R]=1,g[q+K+"Read"+M+R]=2,g[q+K+"Write"+x+R]=3,g[q+K+"Write"+M+R]=4,g[q+y+"RemovalFrom"+x+R]=5,g[q+y+"RemovalFrom"+M+R]=6,g[K+"SendEmptyTelemetry"]=7,g.ClientPerformanceMathError=8,g["ErrorParsingAI"+M+"Cookie"]=9,g.ErrorPVCalc=10,g[_+"WhileLoggingError"]=11,g[y+"AddingTelemetryTo"+oe]=12,g[w+"Abort"]=13,g[w+"Dur"]=14,g[w+"Open"]=15,g[w+"RSC"]=16,g[w+"Send"]=17,g[w+"GetCorrelationHeader"]=18,g[y+"ToAddHandlerForOnBeforeUnload"]=19,g[y+"ToSendQueuedTelemetry"]=20,g[y+"ToReportDataLoss"]=21,g["Flush"+y]=22,g.MessageLimitPerPVExceeded=23,g.MissingRequiredFieldSpecification=24,g.NavigationTimingNotSupported=25,g.OnError=26,g[M+"RenewalDateIsZero"]=27,g.SenderNotInitialized=28,g[C+F+E+y]=29,g[f+F+E+y]=30,g[C+F+y]=31,g[f+F+y]=32,g.TelemetrySampledAndNotSent=33,g[F+E+y]=34,g[F+_+y]=35,g[F+"Metric"+y]=36,g[F+"PV"+y]=37,g[F+"PV"+y+"Calc"]=38,g[F+"Trace"+y]=39,g["Transmission"+y]=40,g[y+"ToSet"+R+oe]=41,g[y+"ToRestore"+R+oe]=42,g.InvalidBackendResponse=43,g[y+"ToFixDepricatedValues"]=44,g.InvalidDurationValue=45,g.TelemetryEnvelopeInvalid=46,g.CreateEnvelopeError=47,g[K+"SerializeObject"]=48,g[K+"SerializeObjectNonSerializable"]=49,g.CircularReferenceDetected=50,g["Clear"+b+y]=51,g[_+"Truncated"]=52,g.IllegalCharsInName=53,g.ItemNotInArray=54,g.MaxAjaxPerPVExceeded=55,g.MessageTruncated=56,g.NameTooLong=57,g.SampleRateOutOfRange=58,g["Set"+b+y]=59,g["Set"+b+y+"AccountName"]=60,g.StringValueTooLong=61,g.StartCalledMoreThanOnce=62,g.StopCalledWithoutStart=63,g["TelemetryInitializer"+y]=64,g.TrackArgumentsNotSpecified=65,g.UrlTooLong=66,g[M+R+oe+"Full"]=67,g[K+"AccessCookie"]=68,g.IdTooLong=69,g.InvalidEvent=70,g[w+"SetRequestHeader"]=71,g["Send"+q+"InfoOnUserInit"]=72,g["Plugin"+_]=73,g["Notification"+_]=74,g.SnippetScriptLoadFailure=99,g["Invalid"+O]=100,g[K+"ParseAiBlobValue"]=101,g.InvalidContentBlob=102,g[F+"PageAction"+E+y]=103,g[y+"AddingCustomDefinedRequestContext"]=104,g["InMemory"+R+oe+"Full"]=105,g[O+"Deprecation"]=106,g))},5121:(fe,u,S)=>{"use strict";S.d(u,{F:()=>_});var p=S(1088),g=S(1679),y=S(8096),w=S(6900),F=S(5018),C=S(6708),f=S(6041),E=S(1880),b=S(9288),_=function(x){(0,p.ne)(M,x);function M(){var R=x.call(this)||this;return(0,g.Z)(M,R,function(q,K){q[y.VL]=function(z,$,D,P){K[y.VL](z,$,D||new F.AQ(z),P||new E.f(z))},q.track=function(z){(0,b.Lm)(q[f.kl](),function(){return"AppInsightsCore:track"},function(){z===null&&(O(z),(0,C._y)("Invalid telemetry item")),oe(z),K.track(z)},function(){return{item:z}},!z.sync)};function oe(z){(0,C.le)(z[y.I])&&(O(z),(0,C._y)("telemetry name required"))}a(oe,"_validateTelemetryItem");function O(z){var $=q[y.tb]();$&&$[f.$F]([z],2)}a(O,"_notifyInvalidEvent")}),R}return a(M,"AppInsightsCore"),M.__ieDyn=1,M}(w.A)},6900:(fe,u,S)=>{"use strict";S.d(u,{A:()=>Le});var p=S(1088),g=S(1679),y=S(2091),w=S(8096),F=S(6708),C=S(6041),f=S(1589),E=S(3833),b=500,_="Channel has invalid priority - ";function x(le,Y,_e){Y&&(0,F.kJ)(Y)&&Y[w.R5]>0&&(Y=Y.sort(function(Fe,Ie){return Fe[C.yi]-Ie[C.yi]}),(0,F.tO)(Y,function(Fe){Fe[C.yi]<b&&(0,F._y)(_+Fe[w.pZ])}),le[w.MW]({queue:(0,F.FL)(Y),chain:(0,f.jV)(Y,_e[w.TC],_e)}))}a(x,"_addChannelQueue");function M(le,Y){function _e(){return(0,f.CD)(null,Y[w.TC],Y,null)}a(_e,"_getTelCtx");function Fe(Z,te,ae,me){var Ge=Z?Z[w.R5]+1:1;function st(){Ge--,Ge===0&&(me&&me(),me=null)}a(st,"_runChainOnComplete"),Ge>0&&(0,F.tO)(Z,function(Se){if(Se&&Se.queue[w.R5]>0){var Re=Se.chain,Te=te[w.zV](Re);Te[w.Fc](st),ae(Te)}else Ge--}),st()}a(Fe,"_processChannelQueue");function Ie(Z,te){var ae=te||{reason:0};return Fe(le,Z,function(me){me[w.uL](ae)},function(){Z[w.uL](ae)}),!0}a(Ie,"_doUpdate");function ee(Z,te){var ae=te||{reason:0,isAsync:!1};return Fe(le,Z,function(me){me[w.uL](ae)},function(){Z[w.uL](ae),qe=!1}),!0}a(ee,"_doTeardown");function ut(Z){var te=null;return le&&le[w.R5]>0&&(0,F.tO)(le,function(ae){if(ae&&ae.queue[w.R5]>0&&((0,F.tO)(ae.queue,function(me){if(me[w.pZ]===Z)return te=me,-1}),te))return-1}),te}a(ut,"_getChannel");var qe=!1,Ze={identifier:"ChannelControllerPlugin",priority:b,initialize:function(Z,te,ae,me){qe=!0,(0,F.tO)(le,function(Ge){Ge&&Ge.queue[w.R5]>0&&(0,E.bP)((0,f.CD)(Ge.chain,Z,te),ae)})},isInitialized:function(){return qe},processTelemetry:function(Z,te){Fe(le,te||_e(),function(ae){ae[w.uL](Z)},function(){te[w.uL](Z)})},update:Ie,pause:function(){Fe(le,_e(),function(Z){Z.iterate(function(te){te.pause&&te.pause()})},null)},resume:function(){Fe(le,_e(),function(Z){Z.iterate(function(te){te.resume&&te.resume()})},null)},teardown:ee,getChannel:ut,flush:function(Z,te,ae,me){var Ge=1,st=!1,Se=null;me=me||5e3;function Re(){Ge--,st&&Ge===0&&(Se&&(clearTimeout(Se),Se=null),te&&te(st),te=null)}return a(Re,"doCallback"),Fe(le,_e(),function(Te){Te.iterate(function(xe){if(xe[w.kL]){Ge++;var ke=!1;xe[w.kL](Z,function(){ke=!0,Re()},ae)||ke||(Z&&Se==null?Se=setTimeout(function(){Se=null,Re()},me):Re())}})},function(){st=!0,Re()}),!0},_setQueue:function(Z){le=Z}};return Ze}a(M,"createChannelControllerPlugin");function R(le,Y,_e){var Fe=[];if(le&&(0,F.tO)(le,function(ee){return x(Fe,ee,_e)}),Y){var Ie=[];(0,F.tO)(Y,function(ee){ee[C.yi]>b&&Ie[w.MW](ee)}),x(Fe,Ie,_e)}return Fe}a(R,"createChannelQueues");var q=S(3242),K=S(5883),oe=S(7158),O=S(5018),z=S(9288),$=S(4063),D=S(7630),P=function(le){(0,p.ne)(Y,le);function Y(){var _e=le.call(this)||this;_e.identifier="TelemetryInitializerPlugin",_e.priority=199;var Fe,Ie;ee(),(0,g.Z)(Y,_e,function(ut,qe){ut.addTelemetryInitializer=function(Ze){var Z={id:Fe++,fn:Ze};Ie[w.MW](Z);var te={remove:function(){(0,F.tO)(Ie,function(ae,me){if(ae.id===Z.id)return Ie[w.cb](me,1),-1})}};return te},ut[C.hL]=function(Ze,Z){for(var te=!1,ae=Ie[w.R5],me=0;me<ae;++me){var Ge=Ie[me];if(Ge)try{if(Ge.fn[w.ZV](null,[Ze])===!1){te=!0;break}}catch(st){(0,O.kP)(Z[w.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,F.jj)(st),{exception:(0,D.eU)(st)},!0)}}te||ut[w.uL](Ze,Z)},ut[w.F3]=function(){ee()}});function ee(){Fe=0,Ie=[]}return a(ee,"_initDefaults"),_e}return a(Y,"TelemetryInitializerPlugin"),Y.__ieDyn=1,Y}($.i),j=S(310),X="Plugins must provide initialize method",re="_notificationManager",ne="SDK is still unloading...",se="SDK is not initialized",Ce={loggingLevelConsole:1};function ie(le,Y){return new z.Jk(Y)}a(ie,"_createPerfManager");function G(le,Y,_e){var Fe,Ie=[],ee={};return(0,F.tO)(_e,function(ut){((0,F.le)(ut)||(0,F.le)(ut[w.VL]))&&(0,F._y)(X);var qe=ut[C.yi],Ze=ut[w.pZ];ut&&qe&&((0,F.le)(ee[qe])?ee[qe]=Ze:(0,O.jV)(le,"Two extensions have same priority #"+qe+" - "+ee[qe]+", "+Ze)),(!qe||qe<Y)&&Ie[w.MW](ut)}),Fe={all:_e},Fe[C.oV]=Ie,Fe}a(G,"_validateExtensions");function ve(le,Y){var _e=!1;return(0,F.tO)(Y,function(Fe){if(Fe===le)return _e=!0,-1}),_e}a(ve,"_isPluginPresent");function Me(){var le;return(0,y.pu)((le={},le[w.g]=function(Y){},le[w.n7]=function(Y){},le[C.uC]=function(Y){},le[C.$F]=function(Y,_e){},le[C.f_]=function(Y,_e){},le))}a(Me,"_createDummyNotificationManager");var Le=function(){function le(){var Y,_e,Fe,Ie,ee,ut,qe,Ze,Z,te,ae,me,Ge,st,Se,Re,Te,xe,ke,pe,ct=0;(0,g.Z)(le,this,function(We){U(),We[w.yl]=function(){return _e},We[w.VL]=function(he,ot,Ft,vt){st&&(0,F._y)(ne),We[w.yl]()&&(0,F._y)("Core should not be initialized more than once"),Y=he||{},We[w.TC]=Y,(0,F.le)(he[w.p$])&&(0,F._y)("Please provide instrumentation key"),Ie=vt,We[re]=vt,d(),v(),Q(),Ft&&(We[w.eZ]=Ft);var kt=(0,F.qK)(Y,C.js,[]);Z=[],Z[w.MW].apply(Z,(0,p.$h)((0,p.$h)([],ot,!1),kt,!1)),me=(0,F.qK)(Y,C.Z,[]),ge(null),(!Ge||Ge[w.R5]===0)&&(0,F._y)("No "+C.Z+" available"),_e=!0,We.releaseQueue()},We.getTransmissionControls=function(){var he=[];return Ge&&(0,F.tO)(Ge,function(ot){he[w.MW](ot.queue)}),(0,F.FL)(he)},We.track=function(he){he.iKey=he.iKey||Y[w.p$],he[w.Z_]=he[w.Z_]||(0,F.Y6)(new Date),he.ver=he.ver||"4.0",!st&&We[w.yl]()?J()[w.uL](he):Fe[w.MW](he)},We[w.SD]=J,We[w.tb]=function(){return Ie||(Ie=Me(),We[re]=Ie),Ie},We[w.g]=function(he){Ie&&Ie[w.g](he)},We[w.n7]=function(he){Ie&&Ie[w.n7](he)},We.getCookieMgr=function(){return qe||(qe=(0,q.Nz)(Y,We[w.eZ])),qe},We.setCookieMgr=function(he){qe=he},We[C.kl]=function(){if(!ee&&!ut&&(0,F.v4)(Y.enablePerfMgr)){var he=(0,F.v4)(Y[C.DN]);(0,F.mf)(he)&&(ut=he(We,We[w.tb]()))}return ee||ut||(0,z.j5)()},We.setPerfMgr=function(he){ee=he},We.eventCnt=function(){return Fe[w.R5]},We.releaseQueue=function(){if(_e&&Fe[w.R5]>0){var he=Fe;Fe=[],(0,F.tO)(he,function(ot){J()[w.uL](ot)})}},We.pollInternalLogs=function(he){Re=he||null;var ot=(0,F.v4)(Y.diagnosticLogInterval);return(!ot||!(ot>0))&&(ot=1e4),ct&&clearInterval(ct),ct=setInterval(function(){it()},ot),ct},We[w.LS]=function(){ct&&(clearInterval(ct),ct=0,it())},(0,F.Vb)(We,function(){return Se},["addTelemetryInitializer"]),We.unload=function(he,ot,Ft){var vt;he===void 0&&(he=!0),_e||(0,F._y)(se),st&&(0,F._y)(ne);var kt=(vt={reason:50},vt[w.d]=he,vt.flushComplete=!1,vt),nt=(0,f.Bt)(lt(),We);nt[w.Fc](function(){U(),ot&&ot(kt)},We);function Jt(ir){kt.flushComplete=ir,st=!0,xe.run(nt,kt),We[w.LS](),nt[w.uL](kt)}a(Jt,"_doUnload"),A(he,Jt,6,Ft)||Jt(!1)},We[w.TO]=Qe,We.addPlugin=function(he,ot,Ft,vt){if(!he){vt&&vt(!1),Ne(X);return}var kt=Qe(he[w.pZ]);if(kt&&!ot){vt&&vt(!1),Ne("Plugin ["+he[w.pZ]+"] is already loaded!");return}var nt={reason:16};function Jt(Yt){Z[w.MW](he),nt.added=[he],ge(nt),vt&&vt(!0)}if(a(Jt,"_addPlugin"),kt){var ir=[kt.plugin],Qt={reason:2,isAsync:!!Ft};yt(ir,Qt,function(Yt){Yt?(nt.removed=ir,nt.reason|=32,Jt(!0)):vt&&vt(!1)})}else Jt(!1)},We.evtNamespace=function(){return Te},We[w.kL]=A,We.getTraceCtx=function(he){return pe||(pe=(0,E.Yn)()),pe},We.setTraceCtx=function(he){pe=he||null},(0,F.Oi)(We,"addUnloadCb",function(){return xe},"add");function U(){_e=!1,Y=(0,F.mm)(!0,{},Ce),We[w.TC]=Y,We[w.eZ]=new O.AQ(Y),We[w.iC]=[],Se=new P,Fe=[],Ie=null,ee=null,ut=null,qe=null,Ze=null,te=null,Z=[],ae=null,me=null,Ge=null,st=!1,Re=null,Te=(0,K.J)("AIBaseCore",!0),xe=(0,j.Y)(),pe=null}a(U,"_initDefaults");function J(){return(0,f.CD)(lt(),Y,We)}a(J,"_createTelCtx");function ge(he){var ot=G(We[w.eZ],b,Z);te=ot[C.oV],Ze=null;var Ft=ot.all;if(Ge=(0,F.FL)(R(me,Ft,We)),ae){var vt=(0,F.UA)(Ft,ae);vt!==-1&&Ft[w.cb](vt,1),vt=(0,F.UA)(te,ae),vt!==-1&&te[w.cb](vt,1),ae._setQueue(Ge)}else ae=M(Ge,We);Ft[w.MW](ae),te[w.MW](ae),We[w.iC]=(0,E.AA)(Ft),ae[w.VL](Y,We,Ft),(0,E.bP)(J(),Ft),We[w.iC]=(0,F.FL)((0,E.AA)(te||[])).slice(),he&&de(he)}a(ge,"_initPluginChain");function Qe(he){var ot,Ft=null,vt=null;return(0,F.tO)(We[w.iC],function(kt){if(kt[w.pZ]===he&&kt!==ae&&kt!==Se)return vt=kt,-1}),!vt&&ae&&(vt=ae.getChannel(he)),vt&&(Ft=(ot={plugin:vt},ot[w.$h]=function(kt){(0,E.OY)(vt)[C.mE]=!kt},ot.isEnabled=function(){var kt=(0,E.OY)(vt);return!kt[w.fi]&&!kt[C.mE]},ot.remove=function(kt,nt){var Jt;kt===void 0&&(kt=!0);var ir=[vt],Qt=(Jt={reason:1},Jt[w.d]=kt,Jt);yt(ir,Qt,function(Yt){Yt&&ge({reason:32,removed:ir}),nt&&nt(Yt)})},ot)),Ft}a(Qe,"_getPlugin");function lt(){if(!Ze){var he=(te||[]).slice();(0,F.UA)(he,Se)===-1&&he[w.MW](Se),Ze=(0,f.jV)((0,E.AA)(he),Y,We)}return Ze}a(lt,"_getPluginChain");function yt(he,ot,Ft){if(he&&he[w.R5]>0){var vt=(0,f.jV)(he,Y,We),kt=(0,f.Bt)(vt,We);kt[w.Fc](function(){var nt=!1,Jt=[];(0,F.tO)(Z,function(Qt,Yt){ve(Qt,he)?nt=!0:Jt[w.MW](Qt)}),Z=Jt;var ir=[];me&&((0,F.tO)(me,function(Qt,Yt){var mr=[];(0,F.tO)(Qt,function(Dr){ve(Dr,he)?nt=!0:mr[w.MW](Dr)}),ir[w.MW](mr)}),me=ir),Ft&&Ft(nt)}),kt[w.uL](ot)}else Ft(!1)}a(yt,"_removePlugins");function it(){var he=We[w.eZ]?We[w.eZ].queue:[];he&&((0,F.tO)(he,function(ot){var Ft,vt=(Ft={},Ft[w.I]=Re||"InternalMessageId: "+ot[w.Gc],Ft.iKey=(0,F.v4)(Y[w.p$]),Ft.time=(0,F.Y6)(new Date),Ft.baseType=O.lQ.dataType,Ft.baseData={message:ot[w.gU]},Ft);We.track(vt)}),he[w.R5]=0)}a(it,"_flushInternalLogs");function A(he,ot,Ft,vt){return ae?ae[w.kL](he,ot,Ft||6,vt):(ot&&ot(!1),!0)}a(A,"_flushChannels");function d(){var he=(0,F.v4)(Y.disableDbgExt);he===!0&&ke&&(Ie[w.n7](ke),ke=null),Ie&&!ke&&he!==!0&&(ke=(0,oe.p)(Y),Ie[w.g](ke))}a(d,"_initDebugListener");function v(){var he=(0,F.v4)(Y.enablePerfMgr);!he&&ut&&(ut=null),he&&(0,F.qK)(Y,C.DN,ie)}a(v,"_initPerfManager");function Q(){var he=(0,F.qK)(Y,C.Zh,{});he.NotificationManager=Ie}a(Q,"_initExtConfig");function de(he){var ot=(0,f.xy)(lt(),We);(!We._updateHook||We._updateHook(ot,he)!==!0)&&ot[w.uL](he)}a(de,"_doUpdate");function Ne(he){var ot=We[w.eZ];ot?(0,O.kP)(ot,2,73,he):(0,F._y)(he)}a(Ne,"_logOrThrowError")})}return a(le,"BaseCore"),le.__ieDyn=1,le}()},4063:(fe,u,S)=>{"use strict";S.d(u,{i:()=>E});var p=S(1679),g=S(8096),y=S(6708),w=S(6041),F=S(1589),C=S(310),f="getPlugin",E=function(){function b(){var _=this,x,M,R,q,K;z(),(0,p.Z)(b,_,function($){$[g.VL]=function(D,P,j,X){O(D,P,X),x=!0},$[g.fi]=function(D,P){var j,X=$[w.oV];if(!X||D&&X!==D[w.oV]())return;var re,ne=!1,se=D||(0,F.Bt)(null,X,R&&R[f]?R[f]():R),Ce=P||(j={reason:0},j[g.d]=!1,j);function ie(){if(!ne){ne=!0,q.run(se,P);var G=K;K=[],(0,y.tO)(G,function(ve){ve.rm()}),re===!0&&se[g.uL](Ce),z()}}return a(ie,"_unloadCallback"),!$[g.F3]||$[g.F3](se,Ce,ie)!==!0?ie():re=!0,re},$[g.Tu]=function(D,P){var j=$[w.oV];if(!j||D&&j!==D[w.oV]())return;var X,re=!1,ne=D||(0,F.xy)(null,j,R&&R[f]?R[f]():R),se=P||{reason:0};function Ce(){re||(re=!0,O(ne.getCfg(),ne.core(),ne[g.W2]()))}return a(Ce,"_updateCallback"),!$._doUpdate||$._doUpdate(ne,se,Ce)!==!0?Ce():X=!0,X},$._addHook=function(D){D&&((0,y.kJ)(D)?K=K.concat(D):K[g.MW](D))},(0,y.Oi)($,"_addUnloadCb",function(){return q},"add")}),_[g.mc]=function($){return oe($)[g.mc]()},_[g.yl]=function(){return x},_.setInitialized=function($){x=$},_[g.Jd]=function($){R=$},_[g.uL]=function($,D){D?D[g.uL]($):R&&(0,y.mf)(R[w.hL])&&R[w.hL]($,null)},_._getTelCtx=oe;function oe($){$===void 0&&($=null);var D=$;if(!D){var P=M||(0,F.CD)(null,{},_[w.oV]);R&&R[f]?D=P[g.zV](null,R[f]):D=P[g.zV](null,R)}return D}a(oe,"_getTelCtx");function O($,D,P){$&&(0,y.sO)($,w.Zh,[],null,y.le),!P&&D&&(P=D[g.SD]()[g.W2]());var j=R;R&&R[f]&&(j=R[f]()),_[w.oV]=D,M=(0,F.CD)(P,$,D,j)}a(O,"_setDefaults");function z(){x=!1,_[w.oV]=null,M=null,R=null,K=[],q=(0,C.Y)()}a(z,"_initDefaults")}return a(b,"BaseTelemetryPlugin"),b.__ieDyn=1,b}()},3242:(fe,u,S)=>{"use strict";S.d(u,{kj:()=>D,JP:()=>ne,Nz:()=>se,p7:()=>Ce,UY:()=>le});var p=S(8096),g=S(5018),y=S(7630),w=S(6708),F=S(6041),C="toGMTString",f="toUTCString",E="cookie",b="expires",_="enabled",x="isCookieUseDisabled",M="disableCookiesUsage",R="_ckMgr",q=null,K=null,oe=null,O=(0,y.Me)(),z={},$={};function D(Y,_e){var Fe=se[R]||$[R];return Fe||(Fe=se[R]=se(Y,_e),$[R]=Fe),Fe}a(D,"_gblCookieMgr");function P(Y){return Y?Y.isEnabled():!0}a(P,"_isMgrEnabled");function j(Y){var _e=Y[p.Lk]=Y[p.Lk]||{};if((0,w.sO)(_e,"domain",Y.cookieDomain,w.BX,w.le),(0,w.sO)(_e,"path",Y.cookiePath||"/",null,w.le),(0,w.le)(_e[_])){var Fe=void 0;(0,w.o8)(Y[x])||(Fe=!Y[x]),(0,w.o8)(Y[M])||(Fe=!Y[M]),_e[_]=Fe}return _e}a(j,"_createCookieMgrConfig");function X(Y,_e){return _e&&Y&&(0,w.kJ)(Y.ignoreCookies)?Y.ignoreCookies[p.ou](_e)!==-1:!1}a(X,"_isIgnoredCookie");function re(Y,_e){return _e&&Y&&(0,w.kJ)(Y.blockedCookies)&&Y.blockedCookies[p.ou](_e)!==-1?!0:X(Y,_e)}a(re,"_isBlockedCookie");function ne(Y,_e){var Fe;if(Y)Fe=Y.getCookieMgr();else if(_e){var Ie=_e[p.Lk];Ie[R]?Fe=Ie[R]:Fe=se(_e)}return Fe||(Fe=D(_e,(Y||{})[p.eZ])),Fe}a(ne,"safeGetCookieMgr");function se(Y,_e){var Fe,Ie=j(Y||$),ee=Ie.path||"/",ut=Ie.domain,qe=Ie[_]!==!1,Ze=(Fe={isEnabled:function(){var Z=qe&&Ce(_e),te=$[R];return Z&&te&&Ze!==te&&(Z=P(te)),Z}},Fe[p.$h]=function(Z){qe=Z!==!1},Fe.set=function(Z,te,ae,me,Ge){var st=!1;if(P(Ze)&&!re(Ie,Z)){var Se={},Re=(0,w.nd)(te||F.qS),Te=Re[p.ou](";");if(Te!==-1&&(Re=(0,w.nd)(te[p.zc](0,Te)),Se=ie(te[p.zc](Te+1))),(0,w.sO)(Se,"domain",me||ut,w.fQ,w.o8),!(0,w.le)(ae)){var xe=(0,y.w1)();if((0,w.o8)(Se[b])){var ke=(0,w.m6)(),pe=ke+ae*1e3;if(pe>0){var ct=new Date;ct.setTime(pe),(0,w.sO)(Se,b,G(ct,xe?C:f)||G(ct,xe?C:f)||F.qS,w.fQ)}}xe||(0,w.sO)(Se,"max-age",F.qS+ae,null,w.o8)}var We=(0,y.k$)();We&&We.protocol==="https:"&&((0,w.sO)(Se,"secure",null,null,w.o8),K===null&&(K=!le(((0,y.jW)()||{})[p.qV])),K&&(0,w.sO)(Se,"SameSite","None",null,w.o8)),(0,w.sO)(Se,"path",Ge||ee,null,w.o8);var U=Ie.setCookie||Le;U(Z,ve(Re,Se)),st=!0}return st},Fe.get=function(Z){var te=F.qS;return P(Ze)&&!X(Ie,Z)&&(te=(Ie.getCookie||Me)(Z)),te},Fe.del=function(Z,te){var ae=!1;return P(Ze)&&(ae=Ze.purge(Z,te)),ae},Fe.purge=function(Z,te){var ae,me=!1;if(Ce(_e)){var Ge=(ae={},ae.path=te||"/",ae[b]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,y.w1)()||(Ge["max-age"]="0");var st=Ie.delCookie||Le;st(Z,ve(F.qS,Ge)),me=!0}return me},Fe);return Ze[R]=Ze,Ze}a(se,"createCookieMgr");function Ce(Y){if(q===null){q=!1;try{var _e=O||{};q=_e[E]!==void 0}catch(Fe){(0,g.kP)(Y,2,68,"Cannot access document.cookie - "+(0,w.jj)(Fe),{exception:(0,y.eU)(Fe)})}}return q}a(Ce,"areCookiesSupported");function ie(Y){var _e={};if(Y&&Y[p.R5]){var Fe=(0,w.nd)(Y)[p.w6](";");(0,w.tO)(Fe,function(Ie){if(Ie=(0,w.nd)(Ie||F.qS),Ie){var ee=Ie[p.ou]("=");ee===-1?_e[Ie]=null:_e[(0,w.nd)(Ie[p.zc](0,ee))]=(0,w.nd)(Ie[p.zc](ee+1))}})}return _e}a(ie,"_extractParts");function G(Y,_e){return(0,w.mf)(Y[_e])?Y[_e]():null}a(G,"_formatDate");function ve(Y,_e){var Fe=Y||F.qS;return(0,w.rW)(_e,function(Ie,ee){Fe+="; "+Ie+((0,w.le)(ee)?F.qS:"="+ee)}),Fe}a(ve,"_formatCookieValue");function Me(Y){var _e=F.qS;if(O){var Fe=O[E]||F.qS;oe!==Fe&&(z=ie(Fe),oe=Fe),_e=(0,w.nd)(z[Y]||F.qS)}return _e}a(Me,"_getCookieValue");function Le(Y,_e){O&&(O[E]=Y+"="+_e)}a(Le,"_setCookieValue");function le(Y){return(0,w.HD)(Y)?!!((0,w._Q)(Y,"CPU iPhone OS 12")||(0,w._Q)(Y,"iPad; CPU OS 12")||(0,w._Q)(Y,"Macintosh; Intel Mac OS X 10_14")&&(0,w._Q)(Y,"Version/")&&(0,w._Q)(Y,"Safari")||(0,w._Q)(Y,"Macintosh; Intel Mac OS X 10_14")&&(0,w.Id)(Y,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,w._Q)(Y,"Chrome/5")||(0,w._Q)(Y,"Chrome/6")||(0,w._Q)(Y,"UnrealEngine")&&!(0,w._Q)(Y,"Chrome")||(0,w._Q)(Y,"UCBrowser/12")||(0,w._Q)(Y,"UCBrowser/11")):!1}a(le,"uaDisallowsSameSiteNone")},5843:(fe,u,S)=>{"use strict";S.d(u,{GW:()=>M,Jj:()=>R,DO:()=>K,Tr:()=>oe,zB:()=>z,oF:()=>D,vn:()=>P,ej:()=>j,d8:()=>X,kT:()=>re});var p=S(2091),g=S(8096),y=S(3242),w=S(7630),F=S(4869),C=S(6708),f=S(6041),E=S(4878),b=null,_,x=null;function M(){var ne=K();return ne[g.zc](0,8)+"-"+ne[g.zc](8,12)+"-"+ne[g.zc](12,16)+"-"+ne[g.zc](16,20)+"-"+ne[g.zc](20)}a(M,"newGuid");function R(){var ne=(0,w.r)();return ne&&ne.now?ne.now():(0,C.m6)()}a(R,"perfNow");function q(ne,se){if(ne&&se){var Ce=ne[_DYN_LENGTH],ie=Ce-se[_DYN_LENGTH];return ne[_DYN_SUBSTRING](ie>=0?ie:0,Ce)===se}return!1}a(q,"strEndsWith");function K(){for(var ne=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],se=f.qS,Ce,ie=0;ie<4;ie++)Ce=(0,E._l)(),se+=ne[Ce&15]+ne[Ce>>4&15]+ne[Ce>>8&15]+ne[Ce>>12&15]+ne[Ce>>16&15]+ne[Ce>>20&15]+ne[Ce>>24&15]+ne[Ce>>28&15];var G=ne[8+((0,E._l)()&3)|0];return se[g.Jn](0,8)+se[g.Jn](9,4)+"4"+se[g.Jn](13,3)+G+se[g.Jn](16,3)+se[g.Jn](19,12)}a(K,"generateW3CId");var oe={_canUseCookies:void 0,isTypeof:C.Ym,isUndefined:C.o8,isNullOrUndefined:C.le,hasOwnProperty:C.nr,isFunction:C.mf,isObject:C.Kn,isDate:C.J_,isArray:C.kJ,isError:C.VZ,isString:C.HD,isNumber:C.hj,isBoolean:C.jn,toISOString:C.Y6,arrForEach:C.tO,arrIndexOf:C.UA,arrMap:C.Mr,arrReduce:C.Xz,strTrim:C.nd,objCreate:p.pu,objKeys:C.FY,objDefineAccessors:C.l_,addEventHandler:F.Ib,dateNow:C.m6,isIE:w.w1,disableCookies:D,newGuid:M,perfNow:R,newId:E.pZ,randomValue:E.az,random32:E._l,mwcRandomSeed:E.CN,mwcRandom32:E.F6,generateW3CId:K},O=/[xy]/g,z={Attach:F.pZ,AttachEvent:F.pZ,Detach:F.pD,DetachEvent:F.pD};function $(ne,se){var Ce=(0,y.kj)(ne,se),ie=oe._canUseCookies;return b===null&&(b=[],_=ie,(0,C.l_)(oe,"_canUseCookies",function(){return _},function(G){_=G,(0,C.tO)(b,function(ve){ve[g.$h](G)})})),(0,C.UA)(b,Ce)===-1&&b[g.MW](Ce),(0,C.jn)(ie)&&Ce[g.$h](ie),(0,C.jn)(_)&&Ce[g.$h](_),Ce}a($,"_legacyCookieMgr");function D(){$()[g.$h](!1)}a(D,"disableCookies");function P(ne){return $(null,ne).isEnabled()}a(P,"canUseCookies");function j(ne,se){return $(null,ne).get(se)}a(j,"getCookie");function X(ne,se,Ce,ie){$(null,ne).set(se,Ce,null,ie)}a(X,"setCookie");function re(ne,se){return $(null,ne).del(se)}a(re,"deleteCookie")},5883:(fe,u,S)=>{"use strict";S.d(u,{J:()=>R,K:()=>q});var p=S(4392),g=S(8096),y=S(6708),w=S(6041),F=S(4878),C=p.RJ,f="2.8.9",E="."+(0,F.pZ)(6),b=0;function _(K,oe,O){if(C)try{return C(K,oe,{value:O,enumerable:!1,configurable:!0}),!0}catch(z){}return!1}a(_,"_createAccessor");function x(K){return K[g.xv]===1||K[g.xv]===9||!+K[g.xv]}a(x,"_canAcceptData");function M(K,oe){var O=oe[K.id];if(!O){O={};try{x(oe)&&(_(oe,K.id,O)||(oe[K.id]=O))}catch(z){}}return O}a(M,"_getCache");function R(K,oe){return oe===void 0&&(oe=!1),(0,y.Gf)(K+b+++(oe?"."+f:w.qS)+E)}a(R,"createUniqueNamespace");function q(K){var oe={id:R("_aiData-"+(K||w.qS)+"."+f),accept:function(O){return x(O)},get:function(O,z,$,D){var P=O[oe.id];return P?P[(0,y.Gf)(z)]:(D&&(P=M(oe,O),P[(0,y.Gf)(z)]=$),$)},kill:function(O,z){if(O&&O[z])try{delete O[z]}catch($){}}};return oe}a(q,"createElmNodeData")},7158:(fe,u,S)=>{"use strict";S.d(u,{j:()=>E,p:()=>b});var p=S(8096),g=S(7630),y=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],w=null,F;function C(_,x){return function(){var M=arguments,R=E(x);if(R){var q=R.listener;q&&q[_]&&q[_][p.ZV](q,M)}}}a(C,"_listenerProxyFunc");function f(){var _=(0,g.a8)("Microsoft");return _&&(w=_.ApplicationInsights),w}a(f,"_getExtensionNamespace");function E(_){var x=w;return!x&&_.disableDbgExt!==!0&&(x=w||f()),x?x.ChromeDbgExt:null}a(E,"getDebugExt");function b(_){if(!F){F={};for(var x=0;x<y[p.R5];x++)F[y[x]]=C(y[x],_)}return F}a(b,"getDebugListener")},5018:(fe,u,S)=>{"use strict";S.d(u,{lQ:()=>M,vH:()=>R,AQ:()=>q,kP:()=>oe,jV:()=>O,L4:()=>z});var p=S(1679),g=S(8096),y=S(7158),w=S(7630),F=S(6708),C=S(6041),f="AI (Internal): ",E="AI: ",b="AITR_";function _($){return $?'"'+$[g.i7](/\"/g,C.qS)+'"':C.qS}a(_,"_sanitizeDiagnosticText");function x($,D){var P=(0,w.dr)();if(P){var j="log";P[$]&&(j=$),(0,F.mf)(P[j])&&P[j](D)}}a(x,"_logToConsole");var M=function(){function $(D,P,j,X){j===void 0&&(j=!1);var re=this;re[g.Gc]=D,re[g.gU]=(j?E:f)+D;var ne=C.qS;(0,w.nS)()&&(ne=(0,w.xA)().stringify(X));var se=(P?" message:"+_(P):C.qS)+(X?" props:"+_(ne):C.qS);re[g.gU]+=se}return a($,"_InternalLogMessage"),$.dataType="MessageData",$}();function R($,D){return($||{})[g.eZ]||new q(D)}a(R,"safeGetLogger");var q=function(){function $(D){this.identifier="DiagnosticLogger",this.queue=[];var P=0,j={},X,re,ne,se;(0,p.Z)($,this,function(Ce){G(D||{}),Ce.consoleLoggingLevel=function(){return X},Ce.telemetryLoggingLevel=function(){return re},Ce.maxInternalMessageLimit=function(){return ne},Ce[g.Fr]=function(){return se},Ce.throwInternal=function(Le,le,Y,_e,Fe){Fe===void 0&&(Fe=!1);var Ie=new M(le,Y,Fe,_e);if(se)throw(0,w.eU)(Ie);var ee=Le===1?C.ys:C.cL;if((0,F.o8)(Ie[g.gU]))Me("throw"+(Le===1?"Critical":"Warning"),Ie);else{if(Fe){var ut=+Ie[g.Gc];!j[ut]&&X>=Le&&(Ce[ee](Ie[g.gU]),j[ut]=!0)}else X>=Le&&Ce[ee](Ie[g.gU]);ie(Le,Ie)}},Ce[C.cL]=function(Le){x("warn",Le),Me("warning",Le)},Ce[C.ys]=function(Le){x("error",Le),Me("error",Le)},Ce.resetInternalMessageCount=function(){P=0,j={}},Ce[g.jk]=ie;function ie(Le,le){if(!ve()){var Y=!0,_e=b+le[g.Gc];if(j[_e]?Y=!1:j[_e]=!0,Y&&(Le<=re&&(Ce.queue[g.MW](le),P++,Me(Le===1?"error":"warn",le)),P===ne)){var Fe="Internal events throttle limit per PageView reached for this app.",Ie=new M(23,Fe,!1);Ce.queue[g.MW](Ie),Le===1?Ce[C.ys](Fe):Ce[C.cL](Fe)}}}a(ie,"_logInternalMessage");function G(Le){X=(0,F.v4)(Le.loggingLevelConsole,0),re=(0,F.v4)(Le.loggingLevelTelemetry,1),ne=(0,F.v4)(Le.maxMessageLimit,25),se=(0,F.v4)(Le[g.Fr],!1)}a(G,"_setDefaultsFromConfig");function ve(){return P>=ne}a(ve,"_areInternalMessagesThrottled");function Me(Le,le){var Y=(0,y.j)(D||{});Y&&Y[g.mc]&&Y[g.mc](Le,le)}a(Me,"_debugExtMsg")})}return a($,"DiagnosticLogger"),$.__ieDyn=1,$}();function K($){return $||new q}a(K,"_getLogger");function oe($,D,P,j,X,re){re===void 0&&(re=!1),K($).throwInternal(D,P,j,X,re)}a(oe,"_throwInternal");function O($,D){K($)[C.cL](D)}a(O,"_warnToConsole");function z($,D,P){K($)[g.jk](D,P)}a(z,"_logInternalMessage")},7630:(fe,u,S)=>{"use strict";S.d(u,{dI:()=>Ce,a8:()=>ie,Ym:()=>G,Jj:()=>ve,Nv:()=>Me,Me:()=>Le,d6:()=>le,jW:()=>Y,fE:()=>_e,s1:()=>Fe,k$:()=>Ie,dr:()=>ee,r:()=>ut,nS:()=>qe,xA:()=>Ze,MX:()=>Z,gz:()=>te,b$:()=>ae,w1:()=>me,sA:()=>Ge,eU:()=>st,MF:()=>Re,JO:()=>Te,cp:()=>xe,Z3:()=>ke,ed:()=>ct,pI:()=>We});var p=S(4392),g=S(2091),y=S(8096),w=S(6708),F=S(6041),C="window",f="document",E="documentMode",b="navigator",_="history",x="location",M="console",R="performance",q="JSON",K="crypto",oe="msCrypto",O="ReactNative",z="msie",$="trident/",D="XMLHttpRequest",P=null,j=null,X=!1,re=null,ne=null;function se(U,J){var ge=!1;if(U){try{if(ge=J in U,!ge){var Qe=U[p.hB];Qe&&(ge=J in Qe)}}catch(yt){}if(!ge)try{var lt=new U;ge=!(0,w.o8)(lt[J])}catch(yt){}}return ge}a(se,"_hasProperty");function Ce(U){X=U}a(Ce,"setEnableEnvMocks");function ie(U){var J=(0,g.Rd)();return J&&J[U]?J[U]:U===C&&G()?window:null}a(ie,"getGlobalInst");function G(){return Boolean(typeof window===p.fK&&window)}a(G,"hasWindow");function ve(){return G()?window:ie(C)}a(ve,"getWindow");function Me(){return Boolean(typeof document===p.fK&&document)}a(Me,"hasDocument");function Le(){return Me()?document:ie(f)}a(Le,"getDocument");function le(){return Boolean(typeof navigator===p.fK&&navigator)}a(le,"hasNavigator");function Y(){return le()?navigator:ie(b)}a(Y,"getNavigator");function _e(){return Boolean(typeof history===p.fK&&history)}a(_e,"hasHistory");function Fe(){return _e()?history:ie(_)}a(Fe,"getHistory");function Ie(U){if(U&&X){var J=ie("__mockLocation");if(J)return J}return typeof location===p.fK&&location?location:ie(x)}a(Ie,"getLocation");function ee(){return typeof console!==p.jA?console:ie(M)}a(ee,"getConsole");function ut(){return ie(R)}a(ut,"getPerformance");function qe(){return Boolean(typeof JSON===p.fK&&JSON||ie(q)!==null)}a(qe,"hasJSON");function Ze(){return qe()?JSON||ie(q):null}a(Ze,"getJSON");function Z(){return ie(K)}a(Z,"getCrypto");function te(){return ie(oe)}a(te,"getMsCrypto");function ae(){var U=Y();return U&&U.product?U.product===O:!1}a(ae,"isReactNative");function me(){var U=Y();if(U&&(U[y.qV]!==j||P===null)){j=U[y.qV];var J=(j||F.qS)[y.T1]();P=(0,w._Q)(J,z)||(0,w._Q)(J,$)}return P}a(me,"isIE");function Ge(U){if(U===void 0&&(U=null),!U){var J=Y()||{};U=J?(J[y.qV]||F.qS)[y.T1]():F.qS}var ge=(U||F.qS)[y.T1]();if((0,w._Q)(ge,z)){var Qe=Le()||{};return Math.max(parseInt(ge[y.w6](z)[1]),Qe[E]||0)}else if((0,w._Q)(ge,$)){var lt=parseInt(ge[y.w6]($)[1]);if(lt)return lt+4}return null}a(Ge,"getIEVersion");function st(U){var J=Object[p.hB].toString[y._S](U),ge=F.qS;return J==="[object Error]"?ge="{ stack: '"+U.stack+"', message: '"+U.message+"', name: '"+U[y.I]+"'":qe()&&(ge=Ze().stringify(U)),J+ge}a(st,"dumpObj");function Se(U){if(!U||!isString(U)){var J=Y()||{};U=J?(J[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var ge=(U||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return ge[_DYN_INDEX_OF]("safari")>=0}a(Se,"isSafari");function Re(){return ne===null&&(ne=le()&&Boolean(Y().sendBeacon)),ne}a(Re,"isBeaconsSupported");function Te(U){var J=!1;try{J=!!ie("fetch");var ge=ie("Request");J&&U&&ge&&(J=se(ge,"keepalive"))}catch(Qe){}return J}a(Te,"isFetchSupported");function xe(){return re===null&&(re=typeof XDomainRequest!==p.jA,re&&ke()&&(re=re&&!se(ie(D),"withCredentials"))),re}a(xe,"useXDomainRequest");function ke(){var U=!1;try{var J=ie(D);U=!!J}catch(ge){}return U}a(ke,"isXhrSupported");function pe(U,J){if(U)for(var ge=0;ge<U[y.R5];ge++){var Qe=U[ge];if(Qe[y.I]&&Qe[y.I]===J)return Qe}return{}}a(pe,"_getNamedValue");function ct(U){var J=Le();return J&&U?pe(J.querySelectorAll("meta"),U).content:null}a(ct,"findMetaTag");function We(U){var J,ge=ut();if(ge){var Qe=ge.getEntriesByType("navigation")||[];J=pe((Qe[y.R5]>0?Qe[0]:{}).serverTiming,U).description}return J}a(We,"findNamedServerTiming")},4869:(fe,u,S)=>{"use strict";S.d(u,{um:()=>se,jU:()=>Le,XO:()=>le,QY:()=>Y,pZ:()=>_e,pD:()=>Fe,Ib:()=>Ie,C1:()=>ee,yw:()=>qe,nJ:()=>Ze,c9:()=>Z,JA:()=>te,TJ:()=>ae,C9:()=>me,nD:()=>Ge,Yl:()=>st});var p=S(8096),g=S(5883),y=S(7630),w=S(6708),F=S(6041),C="on",f="attachEvent",E="addEventListener",b="detachEvent",_="removeEventListener",x="events",M="visibilitychange",R="pagehide",q="pageshow",K="unload",oe="beforeunload",O=(0,g.J)("aiEvtPageHide"),z=(0,g.J)("aiEvtPageShow"),$=/\.[\.]+/g,D=/[\.]+$/,P=1,j=(0,g.K)("events"),X=/^([^.]*)(?:\.(.+)|)/;function re(Se){return Se&&Se[p.i7]?Se[p.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,F.qS):Se}a(re,"_normalizeNamespace");function ne(Se,Re){var Te;if(Re){var xe=F.qS;(0,w.kJ)(Re)?(xe=F.qS,(0,w.tO)(Re,function(pe){pe=re(pe),pe&&(pe[0]!=="."&&(pe="."+pe),xe+=pe)})):xe=re(Re),xe&&(xe[0]!=="."&&(xe="."+xe),Se=(Se||F.qS)+xe)}var ke=X.exec(Se||F.qS)||[];return Te={},Te[p.P6]=ke[1],Te.ns=(ke[2]||F.qS).replace($,".").replace(D,F.qS)[p.w6](".").sort().join("."),Te}a(ne,"_getEvtNamespace");function se(Se,Re,Te){var xe=[],ke=j.get(Se,x,{},!1),pe=ne(Re,Te);return(0,w.rW)(ke,function(ct,We){(0,w.tO)(We,function(U){var J;(!pe[p.P6]||pe[p.P6]===U.evtName[p.P6])&&(!pe.ns||pe.ns===pe.ns)&&xe[p.MW]((J={},J[p.I]=U.evtName[p.P6]+(U.evtName.ns?"."+U.evtName.ns:F.qS),J.handler=U[p.Kn],J))})}),xe}a(se,"__getRegisteredEvents");function Ce(Se,Re,Te){Te===void 0&&(Te=!0);var xe=j.get(Se,x,{},Te),ke=xe[Re];return ke||(ke=xe[Re]=[]),ke}a(Ce,"_getRegisteredEvents");function ie(Se,Re,Te,xe){Se&&Re&&Re[p.P6]&&(Se[_]?Se[_](Re[p.P6],Te,xe):Se[b]&&Se[b](C+Re[p.P6],Te))}a(ie,"_doDetach");function G(Se,Re,Te,xe){var ke=!1;return Se&&Re&&Re[p.P6]&&Te&&(Se[E]?(Se[E](Re[p.P6],Te,xe),ke=!0):Se[f]&&(Se[f](C+Re[p.P6],Te),ke=!0)),ke}a(G,"_doAttach");function ve(Se,Re,Te,xe){for(var ke=Re[p.R5];ke--;){var pe=Re[ke];pe&&(!Te.ns||Te.ns===pe.evtName.ns)&&(!xe||xe(pe))&&(ie(Se,pe.evtName,pe[p.Kn],pe.capture),Re[p.cb](ke,1))}}a(ve,"_doUnregister");function Me(Se,Re,Te){if(Re[p.P6])ve(Se,Ce(Se,Re[p.P6]),Re,Te);else{var xe=j.get(Se,x,{});(0,w.rW)(xe,function(ke,pe){ve(Se,pe,Re,Te)}),(0,w.FY)(xe)[p.R5]===0&&j.kill(Se,x)}}a(Me,"_unregisterEvents");function Le(Se,Re){var Te;return Re?((0,w.kJ)(Re)?Te=[Se].concat(Re):Te=[Se,Re],Te=ne("xx",Te).ns[p.w6](".")):Te=Se,Te}a(Le,"mergeEvtNamespace");function le(Se,Re,Te,xe,ke){var pe;ke===void 0&&(ke=!1);var ct=!1;if(Se)try{var We=ne(Re,xe);if(ct=G(Se,We,Te,ke),ct&&j.accept(Se)){var U=(pe={guid:P++,evtName:We},pe[p.Kn]=Te,pe.capture=ke,pe);Ce(Se,We.type)[p.MW](U)}}catch(J){}return ct}a(le,"eventOn");function Y(Se,Re,Te,xe,ke){if(ke===void 0&&(ke=!1),Se)try{var pe=ne(Re,xe),ct=!1;Me(Se,pe,function(We){return pe.ns&&!Te||We[p.Kn]===Te?(ct=!0,!0):!1}),ct||ie(Se,pe,Te,ke)}catch(We){}}a(Y,"eventOff");function _e(Se,Re,Te,xe){return xe===void 0&&(xe=!1),le(Se,Re,Te,null,xe)}a(_e,"attachEvent");function Fe(Se,Re,Te,xe){xe===void 0&&(xe=!1),Y(Se,Re,Te,null,xe)}a(Fe,"detachEvent");function Ie(Se,Re,Te){var xe=!1,ke=(0,y.Jj)();ke&&(xe=le(ke,Se,Re,Te),xe=le(ke.body,Se,Re,Te)||xe);var pe=(0,y.Me)();return pe&&(xe=le(pe,Se,Re,Te)||xe),xe}a(Ie,"addEventHandler");function ee(Se,Re,Te){var xe=(0,y.Jj)();xe&&(Y(xe,Se,Re,Te),Y(xe.body,Se,Re,Te));var ke=(0,y.Me)();ke&&Y(ke,Se,Re,Te)}a(ee,"removeEventHandler");function ut(Se,Re,Te,xe){var ke=!1;return Re&&Se&&Se[p.R5]>0&&(0,w.tO)(Se,function(pe){pe&&(!Te||(0,w.UA)(Te,pe)===-1)&&(ke=Ie(pe,Re,xe)||ke)}),ke}a(ut,"_addEventListeners");function qe(Se,Re,Te,xe){var ke=!1;return Re&&Se&&(0,w.kJ)(Se)&&(ke=ut(Se,Re,Te,xe),!ke&&Te&&Te[p.R5]>0&&(ke=ut(Se,Re,null,xe))),ke}a(qe,"addEventListeners");function Ze(Se,Re,Te){Se&&(0,w.kJ)(Se)&&(0,w.tO)(Se,function(xe){xe&&ee(xe,Re,Te)})}a(Ze,"removeEventListeners");function Z(Se,Re,Te){return qe([oe,K,R],Se,Re,Te)}a(Z,"addPageUnloadEventListener");function te(Se,Re){Ze([oe,K,R],Se,Re)}a(te,"removePageUnloadEventListener");function ae(Se,Re,Te){function xe(ct){var We=(0,y.Me)();Se&&We&&We.visibilityState==="hidden"&&Se(ct)}a(xe,"_handlePageVisibility");var ke=Le(O,Te),pe=ut([R],Se,Re,ke);return(!Re||(0,w.UA)(Re,M)===-1)&&(pe=ut([M],xe,Re,ke)||pe),!pe&&Re&&(pe=ae(Se,null,Te)),pe}a(ae,"addPageHideEventListener");function me(Se,Re){var Te=Le(O,Re);Ze([R],Se,Te),Ze([M],null,Te)}a(me,"removePageHideEventListener");function Ge(Se,Re,Te){function xe(ct){var We=(0,y.Me)();Se&&We&&We.visibilityState==="visible"&&Se(ct)}a(xe,"_handlePageVisibility");var ke=Le(z,Te),pe=ut([q],Se,Re,ke);return pe=ut([M],xe,Re,ke)||pe,!pe&&Re&&(pe=Ge(Se,null,Te)),pe}a(Ge,"addPageShowEventListener");function st(Se,Re){var Te=Le(z,Re);Ze([q],Se,Te),Ze([M],null,Te)}a(st,"removePageShowEventListener")},6708:(fe,u,S)=>{"use strict";S.d(u,{Ym:()=>_e,o8:()=>Fe,le:()=>ee,BX:()=>ut,nr:()=>qe,Kn:()=>Ze,mf:()=>Z,Gf:()=>ae,rW:()=>me,Id:()=>Ge,xe:()=>Se,_Q:()=>Te,J_:()=>xe,kJ:()=>ke,VZ:()=>ct,HD:()=>We,hj:()=>U,jn:()=>J,Y6:()=>lt,tO:()=>it,UA:()=>A,Mr:()=>d,Xz:()=>v,nd:()=>Q,FY:()=>he,l_:()=>ot,_A:()=>vt,FL:()=>kt,Xi:()=>nt,m6:()=>Jt,jj:()=>ir,sO:()=>Qt,qK:()=>Yt,v4:()=>mr,F:()=>Dr,fQ:()=>Cn,_y:()=>Jr,cf:()=>Un,Oi:()=>_n,Vb:()=>Gn,hl:()=>Nn,Ax:()=>Fn,mm:()=>Bn});var p=S(4392),g=S(2091),y=S(8096),w=S(6041),F="toISOString",C="endsWith",f="startsWith",E="indexOf",b="map",_="reduce",x="trim",M="toString",R="__proto__",q="constructor",K=p.RJ,oe=p.Pw.freeze,O=p.Pw.seal,z=p.Pw.keys,$=String[p.hB],D=$[x],P=$[C],j=$[f],X=Date[p.hB],re=X[F],ne=Array.isArray,se=p.V4[M],Ce=p.CY[M],ie=Ce[y._S](p.Pw),G=/-([a-z])/g,ve=/([^\w\d_$])/g,Me=/^(\d+[\w\d_$])/,Le=Object.getPrototypeOf;function le(ce){if(ce){if(Le)return Le(ce);var Je=ce[R]||ce[p.hB]||ce[q];if(Je)return Je}return null}a(le,"_getObjProto");function Y(ce){return se[_DYN_CALL](ce)}a(Y,"objToString");function _e(ce,Je){return typeof ce===Je}a(_e,"isTypeof");function Fe(ce){return ce===void 0||typeof ce===p.jA}a(Fe,"isUndefined");function Ie(ce){return!Fe(ce)}a(Ie,"isNotUndefined");function ee(ce){return ce===null||Fe(ce)}a(ee,"isNullOrUndefined");function ut(ce){return!ee(ce)}a(ut,"isNotNullOrUndefined");function qe(ce,Je){return!!(ce&&p.CY[y._S](ce,Je))}a(qe,"hasOwnProperty");function Ze(ce){return!!(ce&&typeof ce===p.fK)}a(Ze,"isObject");function Z(ce){return!!(ce&&typeof ce===p.cb)}a(Z,"isFunction");function te(ce){return ce&&Z(ce.then)}a(te,"isPromiseLike");function ae(ce){var Je=ce;return Je&&We(Je)&&(Je=Je[y.i7](G,function(pt,xt){return xt.toUpperCase()}),Je=Je[y.i7](ve,"_"),Je=Je[y.i7](Me,function(pt,xt){return"_"+xt})),Je}a(ae,"normalizeJsName");function me(ce,Je){if(ce)for(var pt in ce)p.CY[y._S](ce,pt)&&Je[y._S](ce,pt,ce[pt])}a(me,"objForEachKey");function Ge(ce,Je){var pt=!1;return ce&&Je&&!(pt=ce===Je)&&(pt=P?ce[C](Je):st(ce,Je)),pt}a(Ge,"strEndsWith");function st(ce,Je){var pt=!1,xt=Je?Je[y.R5]:0,Ht=ce?ce[y.R5]:0;if(xt&&Ht&&Ht>=xt&&!(pt=ce===Je)){for(var Bt=Ht-1,Pr=xt-1;Pr>=0;Pr--){if(ce[Bt]!=Je[Pr])return!1;Bt--}pt=!0}return pt}a(st,"_strEndsWithPoly");function Se(ce,Je){var pt=!1;return ce&&Je&&!(pt=ce===Je)&&(pt=j?ce[f](Je):Re(ce,Je)),pt}a(Se,"strStartsWith");function Re(ce,Je){var pt=!1,xt=Je?Je[y.R5]:0;if(ce&&xt&&ce[y.R5]>=xt&&!(pt=ce===Je)){for(var Ht=0;Ht<xt;Ht++)if(ce[Ht]!==Je[Ht])return!1;pt=!0}return pt}a(Re,"_strStartsWithPoly");function Te(ce,Je){return ce&&Je?ce[y.ou](Je)!==-1:!1}a(Te,"strContains");function xe(ce){return!!(ce&&se[y._S](ce)==="[object Date]")}a(xe,"isDate");var ke=ne||pe;function pe(ce){return!!(ce&&se[y._S](ce)==="[object Array]")}a(pe,"_isArrayPoly");function ct(ce){return!!(ce&&se[y._S](ce)==="[object Error]")}a(ct,"isError");function We(ce){return typeof ce=="string"}a(We,"isString");function U(ce){return typeof ce=="number"}a(U,"isNumber");function J(ce){return typeof ce=="boolean"}a(J,"isBoolean");function ge(ce){return typeof ce=="symbol"}a(ge,"isSymbol");function Qe(ce){var Je=!1;if(ce&&typeof ce=="object"){var pt=Le?Le(ce):le(ce);pt?(pt[q]&&p.CY[y._S](pt,q)&&(pt=pt[q]),Je=typeof pt===p.cb&&Ce[y._S](pt)===ie):Je=!0}return Je}a(Qe,"isPlainObject");function lt(ce){if(ce)return re?ce[F]():yt(ce)}a(lt,"toISOString");function yt(ce){if(ce&&ce.getUTCFullYear){var Je=a(function(pt){var xt=String(pt);return xt[y.R5]===1&&(xt="0"+xt),xt},"pad");return ce.getUTCFullYear()+"-"+Je(ce.getUTCMonth()+1)+"-"+Je(ce.getUTCDate())+"T"+Je(ce.getUTCHours())+":"+Je(ce.getUTCMinutes())+":"+Je(ce.getUTCSeconds())+"."+String((ce.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(yt,"_toISOStringPoly");function it(ce,Je,pt){var xt=ce[y.R5];try{for(var Ht=0;Ht<xt&&!(Ht in ce&&Je[y._S](pt||ce,ce[Ht],Ht,ce)===-1);Ht++);}catch(Bt){}}a(it,"arrForEach");function A(ce,Je,pt){if(ce){if(ce[E])return ce[E](Je,pt);var xt=ce[y.R5],Ht=pt||0;try{for(var Bt=Math.max(Ht>=0?Ht:xt-Math.abs(Ht),0);Bt<xt;Bt++)if(Bt in ce&&ce[Bt]===Je)return Bt}catch(Pr){}}return-1}a(A,"arrIndexOf");function d(ce,Je,pt){var xt;if(ce){if(ce[b])return ce[b](Je,pt);var Ht=ce[y.R5],Bt=pt||ce;xt=new Array(Ht);try{for(var Pr=0;Pr<Ht;Pr++)Pr in ce&&(xt[Pr]=Je[y._S](Bt,ce[Pr],ce))}catch(Nr){}}return xt}a(d,"arrMap");function v(ce,Je,pt){var xt;if(ce){if(ce[_])return ce[_](Je,pt);var Ht=ce[y.R5],Bt=0;if(arguments[y.R5]>=3)xt=arguments[2];else{for(;Bt<Ht&&!(Bt in ce);)Bt++;xt=ce[Bt++]}for(;Bt<Ht;)Bt in ce&&(xt=Je(xt,ce[Bt],Bt,ce)),Bt++}return xt}a(v,"arrReduce");function Q(ce){return ce&&(ce=D&&ce[x]?ce[x]():ce[y.i7]?ce[y.i7](/^\s+|(?=\s)\s+$/g,w.qS):ce),ce}a(Q,"strTrim");var de=!{toString:null}.propertyIsEnumerable("toString"),Ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function he(ce){var Je=typeof ce;if(Je!==p.cb&&(Je!==p.fK||ce===null)&&(0,g.ZU)("objKeys called on non-object"),!de&&z)return z(ce);var pt=[];for(var xt in ce)ce&&p.CY[y._S](ce,xt)&&pt[y.MW](xt);if(de)for(var Ht=Ne[y.R5],Bt=0;Bt<Ht;Bt++)ce&&p.CY[y._S](ce,Ne[Bt])&&pt[y.MW](Ne[Bt]);return pt}a(he,"objKeys");function ot(ce,Je,pt,xt){if(K)try{var Ht={enumerable:!0,configurable:!0};return pt&&(Ht.get=pt),xt&&(Ht.set=xt),K(ce,Je,Ht),!0}catch(Bt){}return!1}a(ot,"objDefineAccessors");function Ft(ce){return ce}a(Ft,"_doNothing");function vt(ce){return oe&&me(ce,function(Je,pt){(ke(pt)||Ze(pt))&&oe(pt)}),kt(ce)}a(vt,"deepFreeze");var kt=oe||Ft,nt=O||Ft;function Jt(){var ce=Date;return ce.now?ce.now():new ce().getTime()}a(Jt,"dateNow");function ir(ce){return ct(ce)?ce[y.I]:w.qS}a(ir,"getExceptionName");function Qt(ce,Je,pt,xt,Ht){var Bt=pt;return ce&&(Bt=ce[Je],Bt!==pt&&(!Ht||Ht(Bt))&&(!xt||xt(pt))&&(Bt=pt,ce[Je]=Bt)),Bt}a(Qt,"setValue");function Yt(ce,Je,pt){var xt;return ce?(xt=ce[Je],!xt&&ee(xt)&&(xt=Fe(pt)?{}:pt,ce[Je]=xt)):xt=Fe(pt)?{}:pt,xt}a(Yt,"getSetValue");function mr(ce,Je){return ee(ce)?Je:ce}a(mr,"getCfgValue");function Dr(ce){return!ce}a(Dr,"isNotTruthy");function Cn(ce){return!!ce}a(Cn,"isTruthy");function Jr(ce){throw new Error(ce)}a(Jr,"throwError");function Or(ce,Je){var pt=null,xt=null;return Z(ce)?pt=ce:xt=ce,function(){var Ht=arguments;if(pt&&(xt=pt()),xt)return xt[Je][y.ZV](xt,Ht)}}a(Or,"_createProxyFunction");function Un(ce,Je,pt){if(ce&&Je&&Ze(ce)&&Ze(Je)){var xt=a(function(Bt){if(We(Bt)){var Pr=Je[Bt];Z(Pr)?(!pt||pt(Bt,!0,Je,ce))&&(ce[Bt]=Or(Je,Bt)):(!pt||pt(Bt,!1,Je,ce))&&(qe(ce,Bt)&&delete ce[Bt],ot(ce,Bt,function(){return Je[Bt]},function(Nr){Je[Bt]=Nr})||(ce[Bt]=Pr))}},"_loop_1");for(var Ht in Je)xt(Ht)}return ce}a(Un,"proxyAssign");function _n(ce,Je,pt,xt,Ht){ce&&Je&&pt&&(Ht!==!1||Fe(ce[Je]))&&(ce[Je]=Or(pt,xt))}a(_n,"proxyFunctionAs");function Gn(ce,Je,pt,xt){return ce&&Je&&Ze(ce)&&ke(pt)&&it(pt,function(Ht){We(Ht)&&_n(ce,Ht,Je,Ht,xt)}),ce}a(Gn,"proxyFunctions");function Nn(ce){return function(){function Je(){var pt=this;ce&&me(ce,function(xt,Ht){pt[xt]=Ht})}return a(Je,"class_1"),Je}()}a(Nn,"createClassFromInterface");function Fn(ce){return ce&&p.rl&&(ce=(0,p.Pw)((0,p.rl)({},ce))),ce}a(Fn,"optimizeObject");function Bn(ce,Je,pt,xt,Ht,Bt){var Pr=arguments,Nr=Pr[0]||{},Ct=Pr[y.R5],Rt=!1,$t=1;for(Ct>0&&J(Nr)&&(Rt=Nr,Nr=Pr[$t]||{},$t++),Ze(Nr)||(Nr={});$t<Ct;$t++){var mt=Pr[$t],Xt=ke(mt),zt=Ze(mt);for(var bt in mt){var tr=Xt&&bt in mt||zt&&p.CY[y._S](mt,bt);if(!!tr){var ar=mt[bt],pr=void 0;if(Rt&&ar&&((pr=ke(ar))||Qe(ar))){var hr=Nr[bt];pr?ke(hr)||(hr=[]):Qe(hr)||(hr={}),ar=Bn(Rt,hr,ar)}ar!==void 0&&(Nr[bt]=ar)}}}return Nr}a(Bn,"objExtend")},6041:(fe,u,S)=>{"use strict";S.d(u,{qS:()=>p,Z:()=>g,oV:()=>y,DN:()=>w,mE:()=>F,Zh:()=>C,js:()=>f,hL:()=>E,yi:()=>b,uC:()=>_,$F:()=>x,f_:()=>M,C$:()=>R,ys:()=>q,cL:()=>K,kl:()=>oe});var p="",g="channels",y="core",w="createPerfMgr",F="disabled",C="extensionConfig",f="extensions",E="processTelemetry",b="priority",_="eventsSent",x="eventsDiscarded",M="eventsSendRequest",R="perfEvent",q="errorToConsole",K="warnToConsole",oe="getPerfMgr"},1880:(fe,u,S)=>{"use strict";S.d(u,{f:()=>C});var p=S(1679),g=S(8096),y=S(6708),w=S(6041);function F(f,E,b,_){(0,y.tO)(f,function(x){if(x&&x[E])if(b)setTimeout(function(){return _(x)},0);else try{_(x)}catch(M){}})}a(F,"_runListeners");var C=function(){function f(E){this.listeners=[];var b=!!(E||{}).perfEvtsSendAll;(0,p.Z)(f,this,function(_){_[g.g]=function(x){_.listeners[g.MW](x)},_[g.n7]=function(x){for(var M=(0,y.UA)(_[g.dE],x);M>-1;)_.listeners[g.cb](M,1),M=(0,y.UA)(_[g.dE],x)},_[w.uC]=function(x){F(_[g.dE],w.uC,!0,function(M){M[w.uC](x)})},_[w.$F]=function(x,M){F(_[g.dE],w.$F,!0,function(R){R[w.$F](x,M)})},_[w.f_]=function(x,M){F(_[g.dE],w.f_,M,function(R){R[w.f_](x,M)})},_[w.C$]=function(x){x&&(b||!x[g.PL]())&&F(_[g.dE],w.C$,!1,function(M){x[g.d]?setTimeout(function(){return M[w.C$](x)},0):M[w.C$](x)})}})}return a(f,"NotificationManager"),f.__ieDyn=1,f}()},9288:(fe,u,S)=>{"use strict";S.d(u,{zn:()=>b,Jk:()=>_,Lm:()=>M,j5:()=>q});var p=S(1679),g=S(8096),y=S(6708),w=S(6041),F="ctx",C="ParentContextKey",f="ChildrenContextKey",E=null,b=function(){function K(oe,O,z){var $=this,D=!1;if($.start=(0,y.m6)(),$[g.I]=oe,$[g.d]=z,$[g.PL]=function(){return!1},(0,y.mf)(O)){var P;D=(0,y.l_)($,"payload",function(){return!P&&(0,y.mf)(O)&&(P=O(),O=null),P})}$[g.T]=function(j){return j?j===K[C]||j===K[f]?$[j]:($[F]||{})[j]:null},$[g.wu]=function(j,X){if(j)if(j===K[C])$[j]||($[g.PL]=function(){return!0}),$[j]=X;else if(j===K[f])$[j]=X;else{var re=$[F]=$[F]||{};re[j]=X}},$[g.Km]=function(){var j=0,X=$[g.T](K[f]);if((0,y.kJ)(X))for(var re=0;re<X[g.R5];re++){var ne=X[re];ne&&(j+=ne[g.Z_])}$[g.Z_]=(0,y.m6)()-$.start,$.exTime=$[g.Z_]-j,$[g.Km]=function(){},!D&&(0,y.mf)(O)&&($.payload=O())}}return a(K,"PerfEvent"),K.ParentContextKey="parent",K.ChildrenContextKey="childEvts",K}(),_=function(){function K(oe){this.ctx={},(0,p.Z)(K,this,function(O){O.create=function(z,$,D){return new b(z,$,D)},O.fire=function(z){z&&(z[g.Km](),oe&&(0,y.mf)(oe[w.C$])&&oe[w.C$](z))},O[g.wu]=function(z,$){if(z){var D=O[F]=O[F]||{};D[z]=$}},O[g.T]=function(z){return(O[F]||{})[z]}})}return a(K,"PerfManager"),K.__ieDyn=1,K}(),x="CoreUtils.doPerf";function M(K,oe,O,z,$){if(K){var D=K;if(D[w.kl]&&(D=D[w.kl]()),D){var P=void 0,j=D[g.T](x);try{if(P=D.create(oe(),z,$),P){if(j&&P[g.wu]&&(P[g.wu](b[C],j),j[g.T]&&j[g.wu])){var X=j[g.T](b[f]);X||(X=[],j[g.wu](b[f],X)),X[g.MW](P)}return D[g.wu](x,P),O(P)}}catch(re){P&&P[g.wu]&&P[g.wu]("exception",re)}finally{P&&D.fire(P),D[g.wu](x,j)}}}return O()}a(M,"doPerf");function R(K){E=K}a(R,"setGblPerfMgr");function q(){return E}a(q,"getGblPerfMgr")},1589:(fe,u,S)=>{"use strict";S.d(u,{CD:()=>q,Bt:()=>K,xy:()=>oe,jV:()=>O,Vi:()=>$});var p=S(8096),g=S(5018),y=S(7630),w=S(6708),F=S(6041),C=S(9288),f=S(3833),E="TelemetryPluginChain",b="_hasRun",_="_getTelCtx",x=0;function M(D,P,j){for(;D;){if(D[p.TO]()===j)return D;D=D[p.W2]()}return O([j],P[p.TC]||{},P)}a(M,"_getNextProxyStart");function R(D,P,j,X){var re=null,ne=[];X!==null&&(re=X?M(D,j,X):D);var se={_next:ie,ctx:{core:function(){return j},diagLog:function(){return(0,g.vH)(j,P)},getCfg:function(){return P},getExtCfg:G,getConfig:ve,hasNext:function(){return!!re},getNext:function(){return re},setNext:function(Le){re=Le},iterate:Me,onComplete:Ce}};function Ce(Le,le){for(var Y=[],_e=2;_e<arguments.length;_e++)Y[_e-2]=arguments[_e];Le&&ne[p.MW]({func:Le,self:(0,w.o8)(le)?se.ctx:le,args:Y})}a(Ce,"_addOnComplete");function ie(){var Le=re;if(re=Le?Le[p.W2]():null,!Le){var le=ne;le&&le[p.R5]>0&&((0,w.tO)(le,function(Y){try{Y.func[p._S](Y.self,Y.args)}catch(_e){(0,g.kP)(j[p.eZ],2,73,"Unexpected Exception during onComplete - "+(0,y.eU)(_e))}}),ne=[])}return Le}a(ie,"_moveNext");function G(Le,le,Y){le===void 0&&(le={}),Y===void 0&&(Y=0);var _e;if(P){var Fe=P[F.Zh];Fe&&Le&&(_e=Fe[Le])}if(!_e)_e=le;else if((0,w.Kn)(le)&&Y!==0){var Ie=(0,w.mm)(!0,le,_e);P&&Y===2&&(0,w.rW)(le,function(ee){if((0,w.le)(Ie[ee])){var ut=P[ee];(0,w.le)(ut)||(Ie[ee]=ut)}}),_e=Ie}return _e}a(G,"_getExtCfg");function ve(Le,le,Y){Y===void 0&&(Y=!1);var _e,Fe=G(Le,null);return Fe&&!(0,w.le)(Fe[le])?_e=Fe[le]:P&&!(0,w.le)(P[le])&&(_e=P[le]),(0,w.le)(_e)?Y:_e}a(ve,"_getConfig");function Me(Le){for(var le;le=se._next();){var Y=le[p.TO]();Y&&Le(Y)}}return a(Me,"_iterateChain"),se}a(R,"_createInternalContext");function q(D,P,j,X){var re=R(D,P,j,X),ne=re.ctx;function se(ie){var G=re._next();return G&&G[F.hL](ie,ne),!G}a(se,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=O(ie,P,j,G)),q(ie||ne[p.W2](),P,j,G)}return a(Ce,"_createNew"),ne[p.uL]=se,ne[p.zV]=Ce,ne}a(q,"createProcessTelemetryContext");function K(D,P,j){var X=P[p.TC]||{},re=R(D,X,P,j),ne=re.ctx;function se(ie){var G=re._next();return G&&G.unload(ne,ie),!G}a(se,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=O(ie,X,P,G)),K(ie||ne[p.W2](),P,G)}return a(Ce,"_createNew"),ne[p.uL]=se,ne[p.zV]=Ce,ne}a(K,"createProcessTelemetryUnloadContext");function oe(D,P,j){var X=P[p.TC]||{},re=R(D,X,P,j),ne=re.ctx;function se(ie){return ne.iterate(function(G){(0,w.mf)(G[p.Tu])&&G[p.Tu](ne,ie)})}a(se,"_processNext");function Ce(ie,G){return ie===void 0&&(ie=null),(0,w.kJ)(ie)&&(ie=O(ie,X,P,G)),oe(ie||ne[p.W2](),P,G)}return a(Ce,"_createNew"),ne[p.uL]=se,ne[p.zV]=Ce,ne}a(oe,"createProcessTelemetryUpdateContext");function O(D,P,j,X){var re=null,ne=!X;if((0,w.kJ)(D)&&D[p.R5]>0){var se=null;(0,w.tO)(D,function(Ce){if(!ne&&X===Ce&&(ne=!0),ne&&Ce&&(0,w.mf)(Ce[F.hL])){var ie=z(Ce,P,j);re||(re=ie),se&&se._setNext(ie),se=ie}})}return X&&!re?O([X],P,j):re}a(O,"createTelemetryProxyChain");function z(D,P,j){var X=null,re=(0,w.mf)(D[F.hL]),ne=(0,w.mf)(D[p.Jd]),se;D?se=D[p.pZ]+"-"+D[F.yi]+"-"+x++:se="Unknown-0-"+x++;var Ce={getPlugin:function(){return D},getNext:function(){return X},processTelemetry:ve,unload:Me,update:Le,_id:se,_setNext:function(le){X=le}};function ie(){var le;return D&&(0,w.mf)(D[_])&&(le=D[_]()),le||(le=q(Ce,P,j)),le}a(ie,"_getTelCtx");function G(le,Y,_e,Fe,Ie){var ee=!1,ut=D?D[p.pZ]:E,qe=le[b];return qe||(qe=le[b]={}),le.setNext(X),D&&(0,C.Lm)(le[F.oV](),function(){return ut+":"+_e},function(){qe[se]=!0;try{var Ze=X?X._id:F.qS;Ze&&(qe[Ze]=!1),ee=Y(le)}catch(te){var Z=X?qe[X._id]:!0;Z&&(ee=!0),(!X||!Z)&&(0,g.kP)(le[p.mc](),1,73,"Plugin ["+ut+"] failed during "+_e+" - "+(0,y.eU)(te)+", run flags: "+(0,y.eU)(qe))}},Fe,Ie),ee}a(G,"_processChain");function ve(le,Y){Y=Y||ie();function _e(Fe){if(!D||!re)return!1;var Ie=(0,f.OY)(D);return Ie[p.fi]||Ie[F.mE]?!1:(ne&&D[p.Jd](X),D[F.hL](le,Fe),!0)}a(_e,"_callProcessTelemetry"),G(Y,_e,"processTelemetry",function(){return{item:le}},!le.sync)||Y[p.uL](le)}a(ve,"_processTelemetry");function Me(le,Y){function _e(){var Fe=!1;if(D){var Ie=(0,f.OY)(D),ee=D[F.oV]||Ie[F.oV];D&&(!ee||ee===le.core())&&!Ie[p.fi]&&(Ie[F.oV]=null,Ie[p.fi]=!0,Ie[p.yl]=!1,D[p.fi]&&D[p.fi](le,Y)===!0&&(Fe=!0))}return Fe}a(_e,"_callTeardown"),G(le,_e,"unload",function(){},Y[p.d])||le[p.uL](Y)}a(Me,"_unloadPlugin");function Le(le,Y){function _e(){var Fe=!1;if(D){var Ie=(0,f.OY)(D),ee=D[F.oV]||Ie[F.oV];D&&(!ee||ee===le.core())&&!Ie[p.fi]&&D[p.Tu]&&D[p.Tu](le,Y)===!0&&(Fe=!0)}return Fe}a(_e,"_callUpdate"),G(le,_e,"update",function(){},!1)||le[p.uL](Y)}return a(Le,"_updatePlugin"),(0,w.FL)(Ce)}a(z,"createTelemetryPluginProxy");var $=function(){function D(P,j,X,re){var ne=this,se=q(P,j,X,re);(0,w.Vb)(ne,se,(0,w.FY)(se))}return a(D,"ProcessTelemetryContext"),D}()},4878:(fe,u,S)=>{"use strict";S.d(u,{az:()=>M,_l:()=>R,CN:()=>q,F6:()=>K,pZ:()=>oe});var p=S(8096),g=S(7630),y=S(6708),w=S(6041),F=4294967296,C=4294967295,f=!1,E=123456789,b=987654321;function _(O){O<0&&(O>>>=0),E=123456789+O&C,b=987654321-O&C,f=!0}a(_,"_mwcSeed");function x(){try{var O=(0,y.m6)()&2147483647;_((Math.random()*F^O)+O)}catch(z){}}a(x,"_autoSeedMwc");function M(O){return O>0?Math.floor(R()/C*(O+1))>>>0:0}a(M,"randomValue");function R(O){var z=0,$=(0,g.MX)()||(0,g.gz)();return $&&$.getRandomValues&&(z=$.getRandomValues(new Uint32Array(1))[0]&C),z===0&&(0,g.w1)()&&(f||x(),z=K()&C),z===0&&(z=Math.floor(F*Math.random()|0)),O||(z>>>=0),z}a(R,"random32");function q(O){O?_(O):x()}a(q,"mwcRandomSeed");function K(O){b=36969*(b&65535)+(b>>16)&C,E=18e3*(E&65535)+(E>>16)&C;var z=(b<<16)+(E&65535)>>>0&C|0;return O||(z>>>=0),z}a(K,"mwcRandom32");function oe(O){O===void 0&&(O=22);for(var z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=R()>>>0,D=0,P=w.qS;P[p.R5]<O;)D++,P+=z.charAt($&63),$>>>=6,D===5&&($=(R()<<2&4294967295|$&3)>>>0,D=0);return P}a(oe,"newId")},3833:(fe,u,S)=>{"use strict";S.d(u,{OY:()=>f,bP:()=>E,AA:()=>b,Yn:()=>x});var p=S(8096),g=S(5883),y=S(6708),w=S(6041),F=S(4206),C=(0,g.K)("plugin");function f(M){return C.get(M,"state",{},!0)}a(f,"_getPluginState");function E(M,R){for(var q=[],K=null,oe=M[p.W2](),O;oe;){var z=oe[p.TO]();if(z){K&&(0,y.mf)(K[p.Jd])&&(0,y.mf)(z[w.hL])&&K[p.Jd](z);var $=!1;(0,y.mf)(z[p.yl])?$=z[p.yl]():(O=f(z),$=O[p.yl]),$||q[p.MW](z),K=z,oe=oe[p.W2]()}}(0,y.tO)(q,function(D){var P=M[w.oV]();D[p.VL](M.getCfg(),P,R,M[p.W2]()),O=f(D),!D[w.oV]&&!O[w.oV]&&(O[w.oV]=P),O[p.yl]=!0,delete O[p.fi]})}a(E,"initializePlugins");function b(M){return M.sort(function(R,q){var K=0;if(q){var oe=(0,y.mf)(q[w.hL]);(0,y.mf)(R[w.hL])?K=oe?R[w.yi]-q[w.yi]:1:oe&&(K=-1)}else K=R?1:-1;return K})}a(b,"sortPlugins");function _(M,R,q,K){var oe=0;function O(){for(;oe<M[_DYN_LENGTH];){var z=M[oe++];if(z){var $=z._doUnload||z[_DYN__DO_TEARDOWN];if(isFunction($)&&$[_DYN_CALL](z,R,q,O)===!0)return!0}}}return a(O,"_doUnload"),O()}a(_,"unloadComponents");function x(M){var R={};return{getName:function(){return R[p.I]},setName:function(q){M&&M.setName(q),R[p.I]=q},getTraceId:function(){return R[p.nY]},setTraceId:function(q){M&&M.setTraceId(q),(0,F.jN)(q)&&(R[p.nY]=q)},getSpanId:function(){return R[p._d]},setSpanId:function(q){M&&M.setSpanId(q),(0,F.Lc)(q)&&(R[p._d]=q)},getTraceFlags:function(){return R[p.T0]},setTraceFlags:function(q){M&&M.setTraceFlags(q),R[p.T0]=q}}}a(x,"createDistributedTraceContext")},310:(fe,u,S)=>{"use strict";S.d(u,{Y:()=>F});var p=S(8096),g=S(5018),y=S(7630),w=S(6708);function F(){var C=[];function f(b){b&&C[p.MW](b)}a(f,"_addHandler");function E(b,_){(0,w.tO)(C,function(x){try{x(b,_)}catch(M){(0,g.kP)(b[p.mc](),2,73,"Unexpected error calling unload handler - "+(0,y.eU)(M))}}),C=[]}return a(E,"_runHandlers"),{add:f,run:E}}a(F,"createUnloadHandlerContainer")},4206:(fe,u,S)=>{"use strict";S.d(u,{SU:()=>q,j_:()=>K,jN:()=>oe,Lc:()=>O,J6:()=>z,Pn:()=>$,aR:()=>D,lq:()=>P});var p=S(8096),g=S(5843),y=S(7630),w=S(6708),F=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,C="00",f="ff",E="00000000000000000000000000000000",b="0000000000000000",_=1;function x(j,X,re){return j&&j[p.R5]===X&&j!==re?!!j.match(/^[\da-f]*$/):!1}a(x,"_isValid");function M(j,X,re){return x(j,X)?j:re}a(M,"_formatValue");function R(j){(isNaN(j)||j<0||j>255)&&(j=1);for(var X=j.toString(16);X[p.R5]<2;)X="0"+X;return X}a(R,"_formatFlags");function q(j,X,re,ne){var se;return se={},se[p.PA]=x(ne,2,f)?ne:C,se[p.nY]=oe(j)?j:(0,g.DO)(),se.spanId=O(X)?X:(0,g.DO)()[p.Jn](0,16),se.traceFlags=re>=0&&re<=255?re:1,se}a(q,"createTraceParent");function K(j){var X;if(!j||((0,w.kJ)(j)&&(j=j[0]||""),!j||!(0,w.HD)(j)||j[p.R5]>8192))return null;var re=F.exec((0,w.nd)(j));return!re||re[1]===f||re[2]===E||re[3]===b?null:(X={},X[p.PA]=re[1],X[p.nY]=re[2],X[p._d]=re[3],X[p.T0]=parseInt(re[4],16),X)}a(K,"parseTraceParent");function oe(j){return x(j,32,E)}a(oe,"isValidTraceId");function O(j){return x(j,16,b)}a(O,"isValidSpanId");function z(j){return!(!j||!x(j[p.PA],2,f)||!x(j[p.nY],32,E)||!x(j[p._d],16,b)||!x(R(j[p.T0]),2))}a(z,"isValidTraceParent");function $(j){return z(j)?(j[p.T0]&_)===_:!1}a($,"isSampledFlag");function D(j){if(j){var X=R(j[p.T0]);x(X,2)||(X="01");var re=j[p.PA]||C;return re!=="00"&&re!=="ff"&&(re=C),"".concat(re,"-").concat(M(j.traceId,32,E),"-").concat(M(j.spanId,16,b),"-").concat(X)}return""}a(D,"formatTraceParent");function P(){var j="traceparent",X=K((0,y.ed)(j));return X||(X=K((0,y.pI)(j))),X}a(P,"findW3cTraceParent")},8096:(fe,u,S)=>{"use strict";S.d(u,{VL:()=>p,I:()=>g,tb:()=>y,pZ:()=>w,MW:()=>F,yl:()=>C,TC:()=>f,p$:()=>E,eZ:()=>b,R5:()=>_,Z_:()=>x,uL:()=>M,SD:()=>R,g:()=>q,n7:()=>K,LS:()=>oe,Fc:()=>O,TO:()=>z,kL:()=>$,iC:()=>D,cb:()=>P,fi:()=>j,Gc:()=>X,gU:()=>re,d:()=>ne,F3:()=>se,Tu:()=>Ce,W2:()=>ie,mc:()=>G,Jd:()=>ve,zV:()=>Me,Lk:()=>Le,ou:()=>le,zc:()=>Y,qV:()=>_e,w6:()=>Fe,$h:()=>Ie,Jn:()=>ee,xv:()=>ut,ZV:()=>qe,i7:()=>Ze,Fr:()=>Z,jk:()=>te,T1:()=>ae,_S:()=>me,P6:()=>Ge,Kn:()=>st,dE:()=>Se,PL:()=>Re,T:()=>Te,wu:()=>xe,Km:()=>ke,nY:()=>pe,_d:()=>ct,T0:()=>We,PA:()=>U});var p="initialize",g="name",y="getNotifyMgr",w="identifier",F="push",C="isInitialized",f="config",E="instrumentationKey",b="logger",_="length",x="time",M="processNext",R="getProcessTelContext",q="addNotificationListener",K="removeNotificationListener",oe="stopPollingInternalLogs",O="onComplete",z="getPlugin",$="flush",D="_extensions",P="splice",j="teardown",X="messageId",re="message",ne="isAsync",se="_doTeardown",Ce="update",ie="getNext",G="diagLog",ve="setNextPlugin",Me="createNew",Le="cookieCfg",le="indexOf",Y="substring",_e="userAgent",Fe="split",Ie="setEnabled",ee="substr",ut="nodeType",qe="apply",Ze="replace",Z="enableDebugExceptions",te="logInternalMessage",ae="toLowerCase",me="call",Ge="type",st="handler",Se="listeners",Re="isChildEvt",Te="getCtx",xe="setCtx",ke="complete",pe="traceId",ct="spanId",We="traceFlags",U="version"},4392:(fe,u,S)=>{"use strict";S.d(u,{cb:()=>p,fK:()=>g,jA:()=>y,hB:()=>w,bO:()=>F,Pw:()=>f,V4:()=>E,rl:()=>b,yu:()=>_,RJ:()=>x,CY:()=>M});var p="function",g="object",y="undefined",w="prototype",F="hasOwnProperty",C="default",f=Object,E=f[w],b=f.assign,_=f.create,x=f.defineProperty,M=E[F]},2091:(fe,u,S)=>{"use strict";S.d(u,{Rd:()=>y,ZU:()=>w,pu:()=>F});var p=S(4392),g=null;function y(C){C===void 0&&(C=!0);var f=C===!1?null:g;return f||(typeof globalThis!==p.jA&&(f=globalThis),!f&&typeof self!==p.jA&&(f=self),!f&&typeof window!==p.jA&&(f=window),!f&&typeof S.g!==p.jA&&(f=S.g),g=f),f}a(y,"getGlobal");function w(C){throw new TypeError(C)}a(w,"throwTypeError");function F(C){var f=p.yu;if(f)return f(C);if(C==null)return{};var E=typeof C;E!==p.fK&&E!==p.cb&&w("Object prototype may only be an Object:"+C);function b(){}return a(b,"tmpFunc"),b[p.hB]=C,new b}a(F,"objCreateFn")},1088:(fe,u,S)=>{"use strict";S.d(u,{uc:()=>M,ne:()=>q,$h:()=>re});var p=S(4392),g=S(2091),y=((0,g.Rd)()||{}).Symbol,w=((0,g.Rd)()||{}).Reflect,F=!!y,C=!!w,f="decorate",E="metadata",b="getOwnPropertySymbols",_="iterator",x=a(function(ie){for(var G,ve=1,Me=arguments.length;ve<Me;ve++){G=arguments[ve];for(var Le in G)p.V4[p.bO].call(G,Le)&&(ie[Le]=G[Le])}return ie},"__objAssignFnImpl"),M=p.rl||x,R=a(function(ie,G){return R=p.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,Me){ve.__proto__=Me}||function(ve,Me){for(var Le in Me)Me[p.bO](Le)&&(ve[Le]=Me[Le])},R(ie,G)},"extendStaticsFn");function q(ie,G){typeof G!==p.cb&&G!==null&&(0,g.ZU)("Class extends value "+String(G)+" is not a constructor or null"),R(ie,G);function ve(){this.constructor=ie}a(ve,"__"),ie[p.hB]=G===null?(0,g.pu)(G):(ve[p.hB]=G[p.hB],new ve)}a(q,"__extendsFn");function K(ie,G){var ve={};for(var Me in ie)ObjHasOwnProperty.call(ie,Me)&&G.indexOf(Me)<0&&(ve[Me]=ie[Me]);if(ie!=null&&typeof ObjClass[b]===strShimFunction)for(var Le=0,le=ObjClass[b](ie);Le<le.length;Le++)G.indexOf(le[Le])<0&&ObjProto.propertyIsEnumerable.call(ie,le[Le])&&(ve[le[Le]]=ie[le[Le]]);return ve}a(K,"__restFn");function oe(ie,G,ve,Me){var Le=arguments.length,le=Le<3?G:Me===null?Me=ObjClass.getOwnPropertyDescriptor(G,ve):Me,Y;if(C&&typeof w[f]===strShimFunction)le=w[f](ie,G,ve,Me);else for(var _e=ie.length-1;_e>=0;_e--)(Y=ie[_e])&&(le=(Le<3?Y(le):Le>3?Y(G,ve,le):Y(G,ve))||le);return Le>3&&le&&ObjDefineProperty(G,ve,le),le}a(oe,"__decorateFn");function O(ie,G){return function(ve,Me){G(ve,Me,ie)}}a(O,"__paramFn");function z(ie,G){if(C&&w[E]===strShimFunction)return w[E](ie,G)}a(z,"__metadataFn");function $(ie,G){for(var ve in ie)ve!==strDefault&&!ObjHasOwnProperty.call(G,ve)&&D(G,ie,ve)}a($,"__exportStarFn");function D(ie,G,ve,Me){Me===void 0&&(Me=ve),ObjCreate?ObjDefineProperty(ie,Me,{enumerable:!0,get:function(){return G[ve]}}):ie[Me]=G[ve]}a(D,"__createBindingFn");function P(ie){var G=typeof y===strShimFunction&&y[_],ve=G&&ie[G],Me=0;if(ve)return ve.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&Me>=ie.length&&(ie=void 0),{value:ie&&ie[Me++],done:!ie}}};throwTypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}a(P,"__valuesFn");function j(ie,G){var ve=typeof y===strShimFunction&&ie[y[_]];if(!ve)return ie;var Me=ve.call(ie),Le,le=[],Y;try{for(;(G===void 0||G-- >0)&&!(Le=Me.next()).done;)le.push(Le.value)}catch(_e){Y={error:_e}}finally{try{Le&&!Le.done&&(ve=Me.return)&&ve.call(Me)}finally{if(Y)throw Y.error}}return le}a(j,"__readFn");function X(){for(var ie=arguments,G=0,ve=0,Me=ie.length;ve<Me;ve++)G+=ie[ve].length;for(var Le=Array(G),le=0,ve=0;ve<Me;ve++)for(var Y=ie[ve],_e=0,Fe=Y.length;_e<Fe;_e++,le++)Le[le]=Y[_e];return Le}a(X,"__spreadArraysFn");function re(ie,G){for(var ve=0,Me=G.length,Le=ie.length;ve<Me;ve++,Le++)ie[Le]=G[ve];return ie}a(re,"__spreadArrayFn");function ne(ie,G){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:G}):ie.raw=G,ie}a(ne,"__makeTemplateObjectFn");function se(ie){if(ie&&ie.__esModule)return ie;var G={};if(ie!=null)for(var ve in ie)ve!==strDefault&&Object.prototype.hasOwnProperty.call(ie,ve)&&D(G,ie,ve);return ObjCreate?ObjDefineProperty(G,strDefault,{enumerable:!0,value:ie}):G[strDefault]=ie,G}a(se,"__importStarFn");function Ce(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}a(Ce,"__importDefaultFn")},5783:(fe,u,S)=>{"use strict";S.r(u),S.d(u,{AppInsightsCore:()=>ha.F,ApplicationInsights:()=>po,CoreUtils:()=>tr.Tr,Sender:()=>oi,SeverityLevel:()=>go,_InternalMessageId:()=>ho.v,arrForEach:()=>U.tO,isNullOrUndefined:()=>U.le,proxyFunctions:()=>U.Vb,throwError:()=>U._y});var p=S(1679),g=S(1088),y="AppInsightsPropertiesPlugin",w="AppInsightsChannelPlugin",F="ApplicationInsightsAnalytics",C="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f="sampleRate",E="ProcessLegacy",b="http.method",_="https://dc.services.visualstudio.com",x="/v2/track",M="not_specified",R="iKey",q="split",K="length",oe="toLowerCase",O="ingestionendpoint",z="toString",$="removeItem",D="name",P="message",j="count",X="preTriggerDate",re="disabled",ne="date",se="getUTCDate",Ce="maxTimesPerMonth",ie="stringify",G="pathname",ve="correlationHeaderExcludePatterns",Me="indexOf",Le="extensionConfig",le="exceptions",Y="parsedStack",_e="properties",Fe="measurements",Ie="sizeInBytes",ee="typeName",ut="severityLevel",qe="problemGroup",Ze="isManual",Z="CreateFromInterface",te="hasFullStack",ae="level",me="method",Ge="assembly",st="fileName",Se="line",Re="duration",Te="receivedResponse",xe="substring",ke="sanitizeKeyAndAddUniqueness",pe="sanitizeException",ct="sanitizeProperties",We="sanitizeMeasurements",U=S(6708),J=S(5018),ge=S(7630),Qe;function lt(k,T,H){var V=T[K],ye=yt(k,T);if(ye[K]!==V){for(var De=0,ze=ye;H[ze]!==void 0;)De++,ze=ye[xe](0,150-3)+ot(De);ye=ze}return ye}a(lt,"dataSanitizeKeyAndAddUniqueness");function yt(k,T){var H;return T&&(T=(0,U.nd)(T[z]()),T[K]>150&&(H=T[xe](0,150),(0,J.kP)(k,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:T},!0))),H||T}a(yt,"dataSanitizeKey");function it(k,T,H){H===void 0&&(H=1024);var V;return T&&(H=H||1024,T=(0,U.nd)(T),T.toString()[K]>H&&(V=T[z]()[xe](0,H),(0,J.kP)(k,2,61,"string value is too long. It has been truncated to "+H+" characters.",{value:T},!0))),V||T}a(it,"dataSanitizeString");function A(k,T){return he(k,T,2048,66)}a(A,"dataSanitizeUrl");function d(k,T){var H;return T&&T[K]>32768&&(H=T[xe](0,32768),(0,J.kP)(k,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:T},!0)),H||T}a(d,"dataSanitizeMessage");function v(k,T){var H;if(T){var V=""+T;V[K]>32768&&(H=V[xe](0,32768),(0,J.kP)(k,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:T},!0))}return H||T}a(v,"dataSanitizeException");function Q(k,T){if(T){var H={};(0,U.rW)(T,function(V,ye){if((0,U.Kn)(ye)&&(0,ge.nS)())try{ye=(0,ge.xA)()[ie](ye)}catch(De){(0,J.kP)(k,2,49,"custom property is not valid",{exception:De},!0)}ye=it(k,ye,8192),V=lt(k,V,H),H[V]=ye}),T=H}return T}a(Q,"dataSanitizeProperties");function de(k,T){if(T){var H={};(0,U.rW)(T,function(V,ye){V=lt(k,V,H),H[V]=ye}),T=H}return T}a(de,"dataSanitizeMeasurements");function Ne(k,T){return T&&he(k,T,128,69)[z]()}a(Ne,"dataSanitizeId");function he(k,T,H,V){var ye;return T&&(T=(0,U.nd)(T),T[K]>H&&(ye=T[xe](0,H),(0,J.kP)(k,2,V,"input is too long, it has been truncated to "+H+" characters.",{data:T},!0))),ye||T}a(he,"dataSanitizeInput");function ot(k){var T="00"+k;return T.substr(T[K]-3)}a(ot,"dsPadNumber");var Ft=(Qe={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Qe[ke]=lt,Qe.sanitizeKey=yt,Qe.sanitizeString=it,Qe.sanitizeUrl=A,Qe.sanitizeMessage=d,Qe[pe]=v,Qe[ct]=Q,Qe[We]=de,Qe.sanitizeId=Ne,Qe.sanitizeInput=he,Qe.padNumber=ot,Qe.trim=U.nd,Qe),vt=function(){function k(T,H,V,ye){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var De=this;De.ver=2,De[D]=it(T,H)||M,De[_e]=Q(T,V),De[Fe]=de(T,ye)}return a(k,"Event"),k.envelopeType="Microsoft.ApplicationInsights.{0}.Event",k.dataType="EventData",k}(),kt=function(){function k(T,H,V,ye,De){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ze=this;ze.ver=2,H=H||M,ze[P]=d(T,H),ze[_e]=Q(T,ye),ze[Fe]=de(T,De),V&&(ze[ut]=V)}return a(k,"Trace"),k.envelopeType="Microsoft.ApplicationInsights.{0}.Message",k.dataType="MessageData",k}(),nt="";function Jt(k,T){return T===void 0&&(T=!1),k==null?T:k.toString()[oe]()==="true"}a(Jt,"stringToBoolOrDefault");function ir(k){(isNaN(k)||k<0)&&(k=0),k=Math.round(k);var T=nt+k%1e3,H=nt+Math.floor(k/1e3)%60,V=nt+Math.floor(k/(1e3*60))%60,ye=nt+Math.floor(k/(1e3*60*60))%24,De=Math.floor(k/(1e3*60*60*24));return T=T[K]===1?"00"+T:T[K]===2?"0"+T:T,H=H[K]<2?"0"+H:H,V=V[K]<2?"0"+V:V,ye=ye[K]<2?"0"+ye:ye,(De>0?De+".":nt)+ye+":"+V+":"+H+"."+T}a(ir,"msToTimeSpan");function Qt(k,T){var H=null;return(0,U.tO)(k,function(V){if(V.identifier===T)return H=V,-1}),H}a(Qt,"getExtensionByName");function Yt(k,T,H,V,ye){return!ye&&(0,U.HD)(k)&&(k==="Script error."||k==="Script error")}a(Yt,"isCrossOriginError");var mr=function(){function k(T,H,V,ye,De,ze,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Et=this;Et.ver=2,Et.id=Ne(T,Ve),Et.url=A(T,V),Et[D]=it(T,H)||M,isNaN(ye)||(Et[Re]=ir(ye)),Et[_e]=Q(T,De),Et[Fe]=de(T,ze)}return a(k,"PageView"),k.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",k.dataType="PageviewData",k}(),Dr=function(){function k(T,H,V,ye,De,ze,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Et=this;Et.ver=2,Et.url=A(T,V),Et[D]=it(T,H)||M,Et[_e]=Q(T,De),Et[Fe]=de(T,ze),Ve&&(Et.domProcessing=Ve.domProcessing,Et[Re]=Ve[Re],Et.networkConnect=Ve.networkConnect,Et.perfTotal=Ve.perfTotal,Et[Te]=Ve[Te],Et.sentRequest=Ve.sentRequest)}return a(k,"PageViewPerformance"),k.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",k.dataType="PageviewPerformanceData",k}(),Cn="<no_method>",Jr="error",Or="stack",Un="stackDetails",_n="errorSrc",Gn="message",Nn="description";function Fn(k,T){var H=k;return H&&!(0,U.HD)(H)&&(JSON&&JSON[ie]?(H=JSON[ie](k),T&&(!H||H==="{}")&&((0,U.mf)(k[z])?H=k[z]():H=""+k)):H=""+k+" - (Missing JSON.stringify)"),H||""}a(Fn,"_stringify");function Bn(k,T){var H=k;return k&&(H&&!(0,U.HD)(H)&&(H=k[Gn]||k[Nn]||H),H&&!(0,U.HD)(H)&&(H=Fn(H,!0)),k.filename&&(H=H+" @"+(k.filename||"")+":"+(k.lineno||"?")+":"+(k.colno||"?"))),T&&T!=="String"&&T!=="Object"&&T!=="Error"&&(H||"")[Me](T)===-1&&(H=T+": "+H),H||""}a(Bn,"_formatMessage");function ce(k){try{if((0,U.Kn)(k))return"hasFullStack"in k&&"typeName"in k}catch(T){}return!1}a(ce,"_isExceptionDetailsInternal");function Je(k){try{if((0,U.Kn)(k))return"ver"in k&&"exceptions"in k&&"properties"in k}catch(T){}return!1}a(Je,"_isExceptionInternal");function pt(k){return k&&k.src&&(0,U.HD)(k.src)&&k.obj&&(0,U.kJ)(k.obj)}a(pt,"_isStackDetails");function xt(k){var T=k||"";(0,U.HD)(T)||((0,U.HD)(T[Or])?T=T[Or]:T=""+T);var H=T[q](`
`);return{src:T,obj:H}}a(xt,"_convertStackObj");function Ht(k){for(var T=[],H=k[q](`
`),V=0;V<H[K];V++){var ye=H[V];H[V+1]&&(ye+="@"+H[V+1],V++),T.push(ye)}return{src:k,obj:T}}a(Ht,"_getOperaStack");function Bt(k){var T=null;if(k)try{if(k[Or])T=xt(k[Or]);else if(k[Jr]&&k[Jr][Or])T=xt(k[Jr][Or]);else if(k.exception&&k.exception[Or])T=xt(k.exception[Or]);else if(pt(k))T=k;else if(pt(k[Un]))T=k[Un];else if(window&&window.opera&&k[Gn])T=Ht(k[P]);else if(k.reason&&k.reason[Or])T=xt(k.reason[Or]);else if((0,U.HD)(k))T=xt(k);else{var H=k[Gn]||k[Nn]||"";(0,U.HD)(k[_n])&&(H&&(H+=`
`),H+=" from "+k[_n]),H&&(T=xt(H))}}catch(V){T=xt(V)}return T||{src:"",obj:null}}a(Bt,"_getStackFromErrorObj");function Pr(k){var T="";return k&&(k.obj?(0,U.tO)(k.obj,function(H){T+=H+`
`}):T=k.src||""),T}a(Pr,"_formatStackTrace");function Nr(k){var T,H=k.obj;if(H&&H[K]>0){T=[];var V=0,ye=0;(0,U.tO)(H,function(ur){var lr=ur[z]();if(Xt.regex.test(lr)){var je=new Xt(lr,V++);ye+=je[Ie],T.push(je)}});var De=32*1024;if(ye>De)for(var ze=0,Ve=T[K]-1,Et=0,St=ze,Dt=Ve;ze<Ve;){var Gt=T[ze][Ie],or=T[Ve][Ie];if(Et+=Gt+or,Et>De){var Zt=Dt-St+1;T.splice(St,Zt);break}St=ze,Dt=Ve,ze++,Ve--}}return T}a(Nr,"_parseStack");function Ct(k){var T="";if(k&&(T=k.typeName||k[D]||"",!T))try{var H=/function (.{1,200})\(/,V=H.exec(k.constructor[z]());T=V&&V[K]>1?V[1]:""}catch(ye){}return T}a(Ct,"_getErrorType");function Rt(k){if(k)try{if(!(0,U.HD)(k)){var T=Ct(k),H=Fn(k,!1);return(!H||H==="{}")&&(k[Jr]&&(k=k[Jr],T=Ct(k)),H=Fn(k,!0)),H[Me](T)!==0&&T!=="String"?T+":"+H:H}}catch(V){}return""+(k||"")}a(Rt,"_formatErrorCode");var $t=function(){function k(T,H,V,ye,De,ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Ve=this;Ve.ver=2,Je(H)?(Ve[le]=H[le]||[],Ve[_e]=H[_e],Ve[Fe]=H[Fe],H[ut]&&(Ve[ut]=H[ut]),H.id&&(Ve.id=H.id),H[qe]&&(Ve[qe]=H[qe]),(0,U.le)(H[Ze])||(Ve[Ze]=H[Ze])):(V||(V={}),Ve[le]=[new mt(T,H,V)],Ve[_e]=Q(T,V),Ve[Fe]=de(T,ye),De&&(Ve[ut]=De),ze&&(Ve.id=ze))}return a(k,"Exception"),k.CreateAutoException=function(T,H,V,ye,De,ze,Ve,Et){var St,Dt=Ct(De||ze||T);return St={},St[P]=Bn(T,Dt),St.url=H,St.lineNumber=V,St.columnNumber=ye,St.error=Rt(De||ze||T),St.evt=Rt(ze||T),St[ee]=Dt,St.stackDetails=Bt(Ve||De||ze),St.errorSrc=Et,St},k.CreateFromInterface=function(T,H,V,ye){var De=H[le]&&(0,U.Mr)(H[le],function(Ve){return mt[Z](T,Ve)}),ze=new k(T,(0,g.uc)((0,g.uc)({},H),{exceptions:De}),V,ye);return ze},k.prototype.toInterface=function(){var T,H=this,V=H.exceptions,ye=H.properties,De=H.measurements,ze=H.severityLevel,Ve=H.problemGroup,Et=H.id,St=H.isManual,Dt=V instanceof Array&&(0,U.Mr)(V,function(Gt){return Gt.toInterface()})||void 0;return T={ver:"4.0"},T[le]=Dt,T.severityLevel=ze,T.properties=ye,T.measurements=De,T.problemGroup=Ve,T.id=Et,T.isManual=St,T},k.CreateSimpleException=function(T,H,V,ye,De,ze){var Ve;return{exceptions:[(Ve={},Ve[te]=!0,Ve.message=T,Ve.stack=De,Ve.typeName=H,Ve)]}},k.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",k.dataType="ExceptionData",k.formatError=Rt,k}(),mt=function(){function k(T,H,V){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ye=this;if(ce(H))ye[ee]=H[ee],ye[P]=H[P],ye[Or]=H[Or],ye[Y]=H[Y]||[],ye[te]=H[te];else{var De=H,ze=De&&De.evt;(0,U.VZ)(De)||(De=De[Jr]||ze||De),ye[ee]=it(T,Ct(De))||M,ye[P]=d(T,Bn(H||De,ye[ee]))||M;var Ve=H[Un]||Bt(H);ye[Y]=Nr(Ve),ye[Or]=v(T,Pr(Ve)),ye.hasFullStack=(0,U.kJ)(ye.parsedStack)&&ye.parsedStack[K]>0,V&&(V[ee]=V[ee]||ye[ee])}}return a(k,"_ExceptionDetails"),k.prototype.toInterface=function(){var T,H=this,V=H[Y]instanceof Array&&(0,U.Mr)(H[Y],function(De){return De.toInterface()}),ye=(T={id:H.id,outerId:H.outerId,typeName:H[ee],message:H[P],hasFullStack:H[te],stack:H[Or]},T[Y]=V||void 0,T);return ye},k.CreateFromInterface=function(T,H){var V=H[Y]instanceof Array&&(0,U.Mr)(H[Y],function(De){return Xt[Z](De)})||H[Y],ye=new k(T,(0,g.uc)((0,g.uc)({},H),{parsedStack:V}));return ye},k}(),Xt=function(){function k(T,H){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var V=this;if(V[Ie]=0,typeof T=="string"){var ye=T;V[ae]=H,V[me]=Cn,V[Ge]=(0,U.nd)(ye),V[st]="",V[Se]=0;var De=ye.match(k.regex);De&&De[K]>=5&&(V[me]=(0,U.nd)(De[2])||V[me],V[st]=(0,U.nd)(De[4]),V[Se]=parseInt(De[5])||0)}else V[ae]=T[ae],V[me]=T[me],V[Ge]=T[Ge],V[st]=T[st],V[Se]=T[Se],V[Ie]=0;V.sizeInBytes+=V.method[K],V.sizeInBytes+=V.fileName[K],V.sizeInBytes+=V.assembly[K],V[Ie]+=k.baseSize,V.sizeInBytes+=V.level.toString()[K],V.sizeInBytes+=V.line.toString()[K]}return a(k,"_StackFrame"),k.CreateFromInterface=function(T){return new k(T,null)},k.prototype.toInterface=function(){var T=this;return{level:T[ae],method:T[me],assembly:T[Ge],fileName:T[st],line:T[Se]}},k.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,k.baseSize=58,k}(),zt=function(){function k(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(k,"DataPoint"),k}(),bt=function(){function k(T,H,V,ye,De,ze,Ve,Et,St){this.aiDataContract={ver:1,metrics:1,properties:0};var Dt=this;Dt.ver=2;var Gt=new zt;Gt[j]=ye>0?ye:void 0,Gt.max=isNaN(ze)||ze===null?void 0:ze,Gt.min=isNaN(De)||De===null?void 0:De,Gt[D]=it(T,H)||M,Gt.value=V,Gt.stdDev=isNaN(Ve)||Ve===null?void 0:Ve,Dt.metrics=[Gt],Dt[_e]=Q(T,Et),Dt[Fe]=de(T,St)}return a(k,"Metric"),k.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",k.dataType="MetricData",k}(),tr=S(5843),ar=S(3242),pr=S(4878),hr=S(4869);function Wr(k){var T=null;if((0,U.mf)(Event))T=new Event(k);else{var H=(0,ge.Me)();H&&H.createEvent&&(T=H.createEvent("Event"),T.initEvent(k,!0,!0))}return T}a(Wr,"createDomEvent");var Sr=S(4873),Rr=(0,Sr.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),fr=S(2091),Lt=(0,Sr.By)({LocalStorage:0,SessionStorage:1}),rr=(0,Sr.By)({AI:0,AI_AND_W3C:1,W3C:2}),er=void 0,_r=void 0;function Kt(){return xr()?sr(Lt.LocalStorage):null}a(Kt,"_getLocalStorageObject");function sr(k){try{if((0,U.le)((0,fr.Rd)()))return null;var T=new Date()[z](),H=(0,ge.a8)(k===Lt.LocalStorage?"localStorage":"sessionStorage");H.setItem(T,T);var V=H.getItem(T)!==T;if(H[$](T),!V)return H}catch(ye){}return null}a(sr,"_getVerifiedStorageObject");function vr(){return Xe()?sr(Lt.SessionStorage):null}a(vr,"_getSessionStorageObject");function Tr(){er=!1,_r=!1}a(Tr,"utlDisableStorage");function nr(){er=xr(!0),_r=Xe(!0)}a(nr,"utlEnableStorage");function xr(k){return(k||er===void 0)&&(er=!!sr(Lt.LocalStorage)),er}a(xr,"utlCanUseLocalStorage");function $r(k,T){var H=Kt();if(H!==null)try{return H.getItem(T)}catch(V){er=!1,(0,J.kP)(k,2,1,"Browser failed read of local storage. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return null}a($r,"utlGetLocalStorage");function Ar(k,T,H){var V=Kt();if(V!==null)try{return V.setItem(T,H),!0}catch(ye){er=!1,(0,J.kP)(k,2,3,"Browser failed write to local storage. "+(0,U.jj)(ye),{exception:(0,ge.eU)(ye)})}return!1}a(Ar,"utlSetLocalStorage");function zr(k,T){var H=Kt();if(H!==null)try{return H[$](T),!0}catch(V){er=!1,(0,J.kP)(k,2,5,"Browser failed removal of local storage item. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return!1}a(zr,"utlRemoveStorage");function Xe(k){return(k||_r===void 0)&&(_r=!!sr(Lt.SessionStorage)),_r}a(Xe,"utlCanUseSessionStorage");function kr(){var k=[];return Xe()&&(0,U.rW)((0,ge.a8)("sessionStorage"),function(T){k.push(T)}),k}a(kr,"utlGetSessionStorageKeys");function Vt(k,T){var H=vr();if(H!==null)try{return H.getItem(T)}catch(V){_r=!1,(0,J.kP)(k,2,2,"Browser failed read of session storage. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return null}a(Vt,"utlGetSessionStorage");function Ot(k,T,H){var V=vr();if(V!==null)try{return V.setItem(T,H),!0}catch(ye){_r=!1,(0,J.kP)(k,2,4,"Browser failed write to session storage. "+(0,U.jj)(ye),{exception:(0,ge.eU)(ye)})}return!1}a(Ot,"utlSetSessionStorage");function Lr(k,T){var H=vr();if(H!==null)try{return H[$](T),!0}catch(V){_r=!1,(0,J.kP)(k,2,6,"Browser failed removal of session storage item. "+(0,U.jj)(V),{exception:(0,ge.eU)(V)})}return!1}a(Lr,"utlRemoveSessionStorage");var Tn=(0,ge.Me)()||{},jr=0,rn=[null,null,null,null,null];function Kr(k){var T=jr,H=rn,V=H[T];return Tn.createElement?H[T]||(V=H[T]=Tn.createElement("a")):V={host:Yn(k,!0)},V.href=k,T++,T>=H[K]&&(T=0),jr=T,V}a(Kr,"urlParseUrl");function $n(k){var T,H=Kr(k);return H&&(T=H.href),T}a($n,"urlGetAbsoluteUrl");function nn(k){var T,H=Kr(k);return H&&(T=H[G]),T}a(nn,"urlGetPathName");function Hr(k,T){return k?k.toUpperCase()+" "+T:T}a(Hr,"urlGetCompleteUrl");function Yn(k,T){var H=wn(k,T)||"";if(H){var V=H.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[K]>3&&(0,U.HD)(V[2])&&V[2][K]>0)return V[2]+(V[3]||"")}return H}a(Yn,"urlParseHost");function wn(k,T){var H=null;if(k){var V=k.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[K]>2&&(0,U.HD)(V[2])&&V[2][K]>0&&(H=V[2]||"",T&&V[K]>2)){var ye=(V[1]||"")[oe](),De=V[3]||"";(ye==="http"&&De===":80"||ye==="https"&&De===":443")&&(De=""),H+=De}}return H}a(wn,"urlParseFullHost");var yn=[_+x,"https://breeze.aimon.applicationinsights.io"+x,"https://dc-int.services.visualstudio.com"+x];function An(k){return(0,U.UA)(yn,k[oe]())!==-1}a(An,"isInternalApplicationInsightsEndpoint");var En={NotSpecified:M,createDomEvent:Wr,disableStorage:Tr,isInternalApplicationInsightsEndpoint:An,canUseLocalStorage:xr,getStorage:$r,setStorage:Ar,removeStorage:zr,canUseSessionStorage:Xe,getSessionStorageKeys:kr,getSessionStorage:Vt,setSessionStorage:Ot,removeSessionStorage:Lr,disableCookies:tr.oF,canUseCookies:tr.vn,disallowsSameSiteNone:ar.UY,setCookie:tr.d8,stringToBoolOrDefault:Jt,getCookie:tr.ej,deleteCookie:tr.kT,trim:U.nd,newId:pr.pZ,random32:function(){return(0,pr._l)(!0)},generateW3CId:tr.DO,isArray:U.kJ,isError:U.VZ,isDate:U.J_,toISOStringForIE8:U.Y6,getIEVersion:ge.sA,msToTimeSpan:ir,isCrossOriginError:Yt,dump:ge.eU,getExceptionName:U.jj,addEventHandler:hr.pZ,IsBeaconApiSupported:ge.MF,getExtension:Qt},ci={parseUrl:Kr,getAbsoluteUrl:$n,getPathName:nn,getCompleteUrl:Hr,parseHost:Yn,parseFullHost:wn},Sn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(k,T,H){if(!T||k&&k.disableCorrelationHeaders)return!1;if(k&&k[ve]){for(var V=0;V<k.correlationHeaderExcludePatterns[K];V++)if(k[ve][V].test(T))return!1}var ye=Kr(T).host[oe]();if(ye&&(ye[Me](":443")!==-1||ye[Me](":80")!==-1)&&(ye=(wn(T,!0)||"")[oe]()),(!k||!k.enableCorsCorrelation)&&ye&&ye!==H)return!1;var De=k&&k.correlationHeaderDomains;if(De){var ze;if((0,U.tO)(De,function(St){var Dt=new RegExp(St.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ze=ze||Dt.test(ye)}),!ze)return!1}var Ve=k&&k.correlationHeaderExcludedDomains;if(!Ve||Ve[K]===0)return!0;for(var V=0;V<Ve[K];V++){var Et=new RegExp(Ve[V].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Et.test(ye))return!1}return ye&&ye[K]>0},getCorrelationContext:function(k){if(k){var T=Sn.getCorrelationContextValue(k,Rr[1]);if(T&&T!==Sn.correlationIdPrefix)return T}},getCorrelationContextValue:function(k,T){if(k)for(var H=k[q](","),V=0;V<H[K];++V){var ye=H[V][q]("=");if(ye[K]===2&&ye[0]===T)return ye[1]}}};function dn(k,T,H,V){var ye,De=V,ze=V;if(T&&T[K]>0){var Ve=Kr(T);if(ye=Ve.host,!De)if(Ve[G]!=null){var Et=Ve.pathname[K]===0?"/":Ve[G];Et.charAt(0)!=="/"&&(Et="/"+Et),ze=Ve[G],De=it(k,H?H+" "+Et:Et)}else De=it(k,T)}else ye=V,De=V;return{target:ye,name:De,data:ze}}a(dn,"AjaxHelperParseDependencyPath");function Pn(){var k=(0,ge.r)();if(k&&k.now&&k.timing){var T=k.now()+k.timing.navigationStart;if(T>0)return T}return(0,U.m6)()}a(Pn,"dateTimeUtilsNow");function kn(k,T){var H=null;return k!==0&&T!==0&&!(0,U.le)(k)&&!(0,U.le)(T)&&(H=T-k),H}a(kn,"dateTimeUtilsDuration");var ni={Now:Pn,GetDuration:kn};function Vn(k,T){var H=k||{};return{getName:function(){return H[_DYN_NAME]},setName:function(V){T&&T.setName(V),H[_DYN_NAME]=V},getTraceId:function(){return H.traceID},setTraceId:function(V){T&&T.setTraceId(V),isValidTraceId(V)&&(H.traceID=V)},getSpanId:function(){return H.parentID},setSpanId:function(V){T&&T.setSpanId(V),isValidSpanId(V)&&(H.parentID=V)},getTraceFlags:function(){return H.traceFlags},setTraceFlags:function(V){T&&T.setTraceFlags(V),H.traceFlags=V}}}a(Vn,"createDistributedTraceContextFromTrace");var Dn=function(){function k(T,H,V,ye,De,ze,Ve,Et,St,Dt,Gt,or){St===void 0&&(St="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Zt=this;Zt.ver=2,Zt.id=H,Zt[Re]=ir(De),Zt.success=ze,Zt.resultCode=Ve+"",Zt.type=it(T,St);var ur=dn(T,V,Et,ye);Zt.data=A(T,ye)||ur.data,Zt.target=it(T,ur.target),Dt&&(Zt.target="".concat(Zt.target," | ").concat(Dt)),Zt[D]=it(T,ur[D]),Zt[_e]=Q(T,Gt),Zt[Fe]=de(T,or)}return a(k,"RemoteDependencyData"),k.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",k.dataType="RemoteDependencyData",k}(),qn=S(5883),On=S(4063);function Cr(k){var T="ai."+k+".";return function(H){return T+H}}a(Cr,"_aiNameFunc");var Mr=Cr("application"),br=Cr("device"),Ae=Cr("location"),N=Cr("operation"),W=Cr("session"),we=Cr("user"),Ke=Cr("cloud"),Tt=Cr("internal"),ht=function(k){(0,g.ne)(T,k);function T(){return k.call(this)||this}return a(T,"ContextTagKeys"),T}((0,U.hl)({applicationVersion:Mr("ver"),applicationBuild:Mr("build"),applicationTypeId:Mr("typeId"),applicationId:Mr("applicationId"),applicationLayer:Mr("layer"),deviceId:br("id"),deviceIp:br("ip"),deviceLanguage:br("language"),deviceLocale:br("locale"),deviceModel:br("model"),deviceFriendlyName:br("friendlyName"),deviceNetwork:br("network"),deviceNetworkName:br("networkName"),deviceOEMName:br("oemName"),deviceOS:br("os"),deviceOSVersion:br("osVersion"),deviceRoleInstance:br("roleInstance"),deviceRoleName:br("roleName"),deviceScreenResolution:br("screenResolution"),deviceType:br("type"),deviceMachineName:br("machineName"),deviceVMName:br("vmName"),deviceBrowser:br("browser"),deviceBrowserVersion:br("browserVersion"),locationIp:Ae("ip"),locationCountry:Ae("country"),locationProvince:Ae("province"),locationCity:Ae("city"),operationId:N("id"),operationName:N("name"),operationParentId:N("parentId"),operationRootId:N("rootId"),operationSyntheticSource:N("syntheticSource"),operationCorrelationVector:N("correlationVector"),sessionId:W("id"),sessionIsFirst:W("isFirst"),sessionIsNew:W("isNew"),userAccountAcquisitionDate:we("accountAcquisitionDate"),userAccountId:we("accountId"),userAgent:we("userAgent"),userId:we("id"),userStoreRegion:we("storeRegion"),userAuthUserId:we("authUserId"),userAnonymousUserAcquisitionDate:we("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:we("authUserAcquisitionDate"),cloudName:Ke("name"),cloudRole:Ke("role"),cloudRoleVer:Ke("roleVer"),cloudRoleInstance:Ke("roleInstance"),cloudEnvironment:Ke("environment"),cloudLocation:Ke("location"),cloudDeploymentUnit:Ke("deploymentUnit"),internalNodeName:Tt("nodeName"),internalSdkVersion:Tt("sdkVersion"),internalAgentVersion:Tt("agentVersion"),internalSnippet:Tt("snippet"),internalSdkSrc:Tt("sdkSrc")})),Ee={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Pe=new ht,He=function(){function k(T,H,V){var ye=this,De=this;De.ver=1,De.sampleRate=100,De.tags={},De[D]=it(T,V)||M,De.data=H,De.time=(0,U.Y6)(new Date),De.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ye.sampleRate===100?4:1},tags:1,data:1}}return a(k,"Envelope"),k}(),tt=function(){function k(T,H){this.aiDataContract={baseType:1,baseData:1},this.baseType=T,this.baseData=H}return a(k,"Data"),k}(),gt="duration",wt="tags",Ut="deviceType",Mt="data",qt="name",Yr="traceID",jt="length",en="stringify",Vr="measurements",tn="dataType",bn="envelopeType",fi="toString",aa="onLine",Bi="enqueue",di="count",hn="push",Sa="emitLineDelimitedJson",bi="clear",ii="batchPayloads",Hn="markAsSent",ai="clearSent",oa="BUFFER_KEY",xi="SENT_BUFFER_KEY",hi="MAX_BUFFER_SIZE",Wn="namePrefix",Ci="maxBatchSizeInBytes",Zn="triggerSend",gn="diagLog",ro="onunloadDisableBeacon",Ln="isBeaconApiDisabled",Ti="_sender",Ir="_senderConfig",Rn="_buffer",no="enableSessionStorageBuffer",ba="samplingPercentage",sa="instrumentationKey",Qn="endpointUrl",xa="customHeaders",Xn="disableXhr",la="onunloadDisableFetch",Ca="disableTelemetry",Ta="baseType",Aa="sampleRate",io="convertUndefined",Da="_xhrReadyStateChange",cn="_onError",$i="_onPartialSuccess",Hi="_onSuccess",Ra="itemsAccepted",Zo="itemsReceived",ua="isRetryDisabled",Wi="setRequestHeader",ao="maxBatchInterval",ca="eventsSendRequest",fa="disableInstrumentationKeyValidation",oo="getSamplingScore",Qo="getHashCodeScore",zi="baseType",Ur="baseData",on="properties",ji="true";function Qr(k,T,H){return(0,U.sO)(k,T,H,U.fQ)}a(Qr,"_setValueIf");function js(k,T,H){var V=H[wt]=H[wt]||{},ye=T.ext=T.ext||{},De=T[wt]=T[wt]||[],ze=ye.user;ze&&(Qr(V,Pe.userAuthUserId,ze.authId),Qr(V,Pe.userId,ze.id||ze.localId));var Ve=ye.app;Ve&&Qr(V,Pe.sessionId,Ve.sesId);var Et=ye.device;Et&&(Qr(V,Pe.deviceId,Et.id||Et.localId),Qr(V,Pe[Ut],Et.deviceClass),Qr(V,Pe.deviceIp,Et.ip),Qr(V,Pe.deviceModel,Et.model),Qr(V,Pe[Ut],Et[Ut]));var St=T.ext.web;if(St){Qr(V,Pe.deviceLanguage,St.browserLang),Qr(V,Pe.deviceBrowserVersion,St.browserVer),Qr(V,Pe.deviceBrowser,St.browser);var Dt=H[Mt]=H[Mt]||{},Gt=Dt[Ur]=Dt[Ur]||{},or=Gt[on]=Gt[on]||{};Qr(or,"domain",St.domain),Qr(or,"isManual",St.isManual?ji:null),Qr(or,"screenRes",St.screenRes),Qr(or,"userConsent",St.userConsent?ji:null)}var Zt=ye.os;Zt&&Qr(V,Pe.deviceOS,Zt[qt]);var ur=ye.trace;ur&&(Qr(V,Pe.operationParentId,ur.parentID),Qr(V,Pe.operationName,it(k,ur[qt])),Qr(V,Pe.operationId,ur[Yr]));for(var lr={},je=De[jt]-1;je>=0;je--){var Fr=De[je];(0,U.rW)(Fr,function(pn,pi){lr[pn]=pi}),De.splice(je,1)}(0,U.rW)(De,function(pn,pi){lr[pn]=pi});var Br=(0,g.uc)((0,g.uc)({},V),lr);Br[Pe.internalSdkVersion]||(Br[Pe.internalSdkVersion]="javascript:".concat(Xo.Version)),H[wt]=(0,U.Ax)(Br)}a(js,"_extractPartAExtensions");function Jn(k,T,H){(0,U.le)(k)||(0,U.rW)(k,function(V,ye){(0,U.hj)(ye)?H[V]=ye:(0,U.HD)(ye)?T[V]=ye:(0,ge.nS)()&&(T[V]=(0,ge.xA)()[en](ye))})}a(Jn,"_extractPropsAndMeasurements");function Ai(k,T){(0,U.le)(k)||(0,U.rW)(k,function(H,V){k[H]=V||T})}a(Ai,"_convertPropsUndefinedToCustomDefinedValue");function gi(k,T,H,V){var ye=new He(k,V,T);Qr(ye,"sampleRate",H[f]),(H[Ur]||{}).startTime&&(ye.time=(0,U.Y6)(H[Ur].startTime)),ye.iKey=H.iKey;var De=H.iKey.replace(/-/g,"");return ye[qt]=ye[qt].replace("{0}",De),js(k,H,ye),H[wt]=H[wt]||[],(0,U.Ax)(ye)}a(gi,"_createEnvelope");function Di(k,T){(0,U.le)(T[Ur])&&(0,J.kP)(k,1,46,"telemetryItem.baseData cannot be null.")}a(Di,"EnvelopeCreatorInit");var Xo={Version:"2.8.9"};function Jo(k,T,H){Di(k,T);var V=T[Ur][Vr]||{},ye=T[Ur][on]||{};Jn(T[Mt],ye,V),(0,U.le)(H)||Ai(ye,H);var De=T[Ur];if((0,U.le)(De))return(0,J.jV)(k,"Invalid input for dependency data"),null;var ze=De[on]&&De[on][b]?De[on][b]:"GET",Ve=new Dn(k,De.id,De.target,De[qt],De[gt],De.success,De.responseCode,ze,De.type,De.correlationContext,ye,V),Et=new tt(Dn[tn],Ve);return gi(k,Dn[bn],T,Et)}a(Jo,"DependencyEnvelopeCreator");function Ia(k,T,H){Di(k,T);var V={},ye={};T[zi]!==vt[tn]&&(V.baseTypeSource=T[zi]),T[zi]===vt[tn]?(V=T[Ur][on]||{},ye=T[Ur][Vr]||{}):T[Ur]&&Jn(T[Ur],V,ye),Jn(T[Mt],V,ye),(0,U.le)(H)||Ai(V,H);var De=T[Ur][qt],ze=new vt(k,De,V,ye),Ve=new tt(vt[tn],ze);return gi(k,vt[bn],T,Ve)}a(Ia,"EventEnvelopeCreator");function so(k,T,H){Di(k,T);var V=T[Ur][Vr]||{},ye=T[Ur][on]||{};Jn(T[Mt],ye,V),(0,U.le)(H)||Ai(ye,H);var De=T[Ur],ze=$t.CreateFromInterface(k,De,ye,V),Ve=new tt($t[tn],ze);return gi(k,$t[bn],T,Ve)}a(so,"ExceptionEnvelopeCreator");function Fa(k,T,H){Di(k,T);var V=T[Ur],ye=V[on]||{},De=V[Vr]||{};Jn(T[Mt],ye,De),(0,U.le)(H)||Ai(ye,H);var ze=new bt(k,V[qt],V.average,V.sampleCount,V.min,V.max,V.stdDev,ye,De),Ve=new tt(bt[tn],ze);return gi(k,bt[bn],T,Ve)}a(Fa,"MetricEnvelopeCreator");function es(k,T,H){Di(k,T);var V,ye=T[Ur];!(0,U.le)(ye)&&!(0,U.le)(ye[on])&&!(0,U.le)(ye[on][gt])?(V=ye[on][gt],delete ye[on][gt]):!(0,U.le)(T[Mt])&&!(0,U.le)(T[Mt][gt])&&(V=T[Mt][gt],delete T[Mt][gt]);var De=T[Ur],ze;((T.ext||{}).trace||{})[Yr]&&(ze=T.ext.trace[Yr]);var Ve=De.id||ze,Et=De[qt],St=De.uri,Dt=De[on]||{},Gt=De[Vr]||{};if((0,U.le)(De.refUri)||(Dt.refUri=De.refUri),(0,U.le)(De.pageType)||(Dt.pageType=De.pageType),(0,U.le)(De.isLoggedIn)||(Dt.isLoggedIn=De.isLoggedIn[fi]()),!(0,U.le)(De[on])){var or=De[on];(0,U.rW)(or,function(lr,je){Dt[lr]=je})}Jn(T[Mt],Dt,Gt),(0,U.le)(H)||Ai(Dt,H);var Zt=new mr(k,Et,St,V,Dt,Gt,Ve),ur=new tt(mr[tn],Zt);return gi(k,mr[bn],T,ur)}a(es,"PageViewEnvelopeCreator");function ts(k,T,H){Di(k,T);var V=T[Ur],ye=V[qt],De=V.uri||V.url,ze=V[on]||{},Ve=V[Vr]||{};Jn(T[Mt],ze,Ve),(0,U.le)(H)||Ai(ze,H);var Et=new Dr(k,ye,De,void 0,ze,Ve,V),St=new tt(Dr[tn],Et);return gi(k,Dr[bn],T,St)}a(ts,"PageViewPerformanceEnvelopeCreator");function rs(k,T,H){Di(k,T);var V=T[Ur].message,ye=T[Ur].severityLevel,De=T[Ur][on]||{},ze=T[Ur][Vr]||{};Jn(T[Mt],De,ze),(0,U.le)(H)||Ai(De,H);var Ve=new kt(k,V,ye,De,ze),Et=new tt(kt[tn],Ve);return gi(k,kt[bn],T,Et)}a(rs,"TraceEnvelopeCreator");function Oa(k,T){(0,hr.QY)(k,null,null,T)}a(Oa,"_disableEvents");function lo(k){var T=(0,ge.Me)(),H=(0,ge.jW)(),V=!1,ye=!0,De=(0,hr.jU)((0,qn.J)("OfflineListener"),k);try{if(Ve((0,ge.Jj)())&&(V=!0),T){var ze=T.body||T;ze.ononline&&Ve(ze)&&(V=!0)}V&&H&&!(0,U.le)(H[aa])&&(ye=H[aa])}catch(or){V=!1}function Ve(or){var Zt=!1;return or&&(Zt=(0,hr.XO)(or,"online",Et,De),Zt&&(0,hr.XO)(or,"offline",St,De)),Zt}a(Ve,"_enableEvents");function Et(){ye=!0}a(Et,"_setOnline");function St(){ye=!1}a(St,"_setOffline");function Dt(){var or=!0;return V?or=ye:H&&!(0,U.le)(H[aa])&&(or=H[aa]),or}a(Dt,"_isOnline");function Gt(){var or=(0,ge.Jj)();if(or&&V){if(Oa(or,De),T){var Zt=T.body||T;(0,U.o8)(Zt.ononline)||Oa(Zt,De)}V=!1}}return a(Gt,"_unload"),{isOnline:Dt,isListening:function(){return V},unload:Gt}}a(lo,"createOfflineListener");var uo=function(){function k(T,H){var V=[],ye=!1;this._get=function(){return V},this._set=function(De){return V=De,V},(0,p.Z)(k,this,function(De){De[Bi]=function(ze){if(De[di]()>=H.eventsLimitInMem()){ye||((0,J.kP)(T,2,105,"Maximum in-memory buffer size reached: "+De[di](),!0),ye=!0);return}V[hn](ze)},De[di]=function(){return V[jt]},De.size=function(){for(var ze=V[jt],Ve=0;Ve<V[jt];Ve++)ze+=V[Ve][jt];return H[Sa]()||(ze+=2),ze},De[bi]=function(){V=[],ye=!1},De.getItems=function(){return V.slice(0)},De[ii]=function(ze){if(ze&&ze[jt]>0){var Ve=H[Sa]()?ze.join(`
`):"["+ze.join(",")+"]";return Ve}return null}})}return a(k,"BaseSendBuffer"),k.__ieDyn=1,k}(),Ri=function(k){(0,g.ne)(T,k);function T(H,V){var ye=k.call(this,H,V)||this;return(0,p.Z)(T,ye,function(De,ze){De[Hn]=function(Ve){ze[bi]()},De[ai]=function(Ve){}}),ye}return a(T,"ArraySendBuffer"),T.__ieDyn=1,T}(uo),ns=function(k){(0,g.ne)(T,k);function T(H,V){var ye=k.call(this,H,V)||this,De=!1;return(0,p.Z)(T,ye,function(ze,Ve){var Et=or(T[oa]),St=or(T[xi]),Dt=ze._set(Et.concat(St));Dt[jt]>T[hi]&&(Dt[jt]=T[hi]),Zt(T[xi],[]),Zt(T[oa],Dt),ze[Bi]=function(ur){if(ze[di]()>=T[hi]){De||((0,J.kP)(H,2,67,"Maximum buffer size reached: "+ze[di](),!0),De=!0);return}Ve[Bi](ur),Zt(T[oa],ze._get())},ze[bi]=function(){Ve[bi](),Zt(T[oa],ze._get()),Zt(T[xi],[]),De=!1},ze[Hn]=function(ur){Zt(T[oa],ze._set(Gt(ur,ze._get())));var lr=or(T[xi]);lr instanceof Array&&ur instanceof Array&&(lr=lr.concat(ur),lr[jt]>T[hi]&&((0,J.kP)(H,1,67,"Sent buffer reached its maximum size: "+lr[jt],!0),lr[jt]=T[hi]),Zt(T[xi],lr))},ze[ai]=function(ur){var lr=or(T[xi]);lr=Gt(ur,lr),Zt(T[xi],lr)};function Gt(ur,lr){var je=[];return(0,U.tO)(lr,function(Fr){!(0,U.mf)(Fr)&&(0,U.UA)(ur,Fr)===-1&&je[hn](Fr)}),je}a(Gt,"_removePayloadsFromBuffer");function or(ur){var lr=ur;try{lr=V[Wn]&&V[Wn]()?V[Wn]()+"_"+lr:lr;var je=Vt(H,lr);if(je){var Fr=(0,ge.xA)().parse(je);if((0,U.HD)(Fr)&&(Fr=(0,ge.xA)().parse(Fr)),Fr&&(0,U.kJ)(Fr))return Fr}}catch(Br){(0,J.kP)(H,1,42," storage key: "+lr+", "+(0,U.jj)(Br),{exception:(0,ge.eU)(Br)})}return[]}a(or,"_getBuffer");function Zt(ur,lr){var je=ur;try{je=V[Wn]&&V[Wn]()?V[Wn]()+"_"+je:je;var Fr=JSON[en](lr);Ot(H,je,Fr)}catch(Br){Ot(H,je,JSON[en]([])),(0,J.kP)(H,2,41," storage key: "+je+", "+(0,U.jj)(Br)+". Buffer cleared",{exception:(0,ge.eU)(Br)})}}a(Zt,"_setBuffer")}),ye}return a(T,"SessionStorageSendBuffer"),T.BUFFER_KEY="AI_buffer",T.SENT_BUFFER_KEY="AI_sentBuffer",T.MAX_BUFFER_SIZE=2e3,T}(uo),co=function(){function k(T){(0,p.Z)(k,this,function(H){H.serialize=function(ze){var Ve=V(ze,"root");try{return(0,ge.xA)()[en](Ve)}catch(Et){(0,J.kP)(T,1,48,Et&&(0,U.mf)(Et[fi])?Et[fi]():"Error serializing object",null,!0)}};function V(ze,Ve){var Et="__aiCircularRefCheck",St={};if(!ze)return(0,J.kP)(T,1,48,"cannot serialize object because it is null or undefined",{name:Ve},!0),St;if(ze[Et])return(0,J.kP)(T,2,50,"Circular reference detected while serializing object",{name:Ve},!0),St;if(!ze.aiDataContract){if(Ve==="measurements")St=De(ze,"number",Ve);else if(Ve==="properties")St=De(ze,"string",Ve);else if(Ve==="tags")St=De(ze,"string",Ve);else if((0,U.kJ)(ze))St=ye(ze,Ve);else{(0,J.kP)(T,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:Ve},!0);try{(0,ge.xA)()[en](ze),St=ze}catch(Dt){(0,J.kP)(T,1,48,Dt&&(0,U.mf)(Dt[fi])?Dt[fi]():"Error serializing object",null,!0)}}return St}return ze[Et]=!0,(0,U.rW)(ze.aiDataContract,function(Dt,Gt){var or=(0,U.mf)(Gt)?Gt()&1:Gt&1,Zt=(0,U.mf)(Gt)?Gt()&4:Gt&4,ur=Gt&2,lr=ze[Dt]!==void 0,je=(0,U.Kn)(ze[Dt])&&ze[Dt]!==null;if(or&&!lr&&!ur)(0,J.kP)(T,1,24,"Missing required field specification. The field is required but not present on source",{field:Dt,name:Ve});else if(!Zt){var Fr=void 0;je?ur?Fr=ye(ze[Dt],Dt):Fr=V(ze[Dt],Dt):Fr=ze[Dt],Fr!==void 0&&(St[Dt]=Fr)}}),delete ze[Et],St}a(V,"_serializeObject");function ye(ze,Ve){var Et;if(ze)if(!(0,U.kJ)(ze))(0,J.kP)(T,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:Ve},!0);else{Et=[];for(var St=0;St<ze[jt];St++){var Dt=ze[St],Gt=V(Dt,Ve+"["+St+"]");Et[hn](Gt)}}return Et}a(ye,"_serializeArray");function De(ze,Ve,Et){var St;return ze&&(St={},(0,U.rW)(ze,function(Dt,Gt){if(Ve==="string")Gt===void 0?St[Dt]="undefined":Gt===null?St[Dt]="null":Gt[fi]?St[Dt]=Gt[fi]():St[Dt]="invalid field: toString() is not defined.";else if(Ve==="number")if(Gt===void 0)St[Dt]="undefined";else if(Gt===null)St[Dt]="null";else{var or=parseFloat(Gt);isNaN(or)?St[Dt]="NaN":St[Dt]=or}else St[Dt]="invalid field: "+Et+" is of unknown type.",(0,J.kP)(T,1,St[Dt],null,!0)})),St}a(De,"_serializeStringMap")})}return a(k,"Serializer"),k.__ieDyn=1,k}(),is=8,as=function(){function k(){}return a(k,"HashCodeScoreGenerator"),k.prototype.getHashCodeScore=function(T){var H=this.getHashCode(T)/k.INT_MAX_VALUE;return H*100},k.prototype.getHashCode=function(T){if(T==="")return 0;for(;T[jt]<is;)T=T.concat(T);for(var H=5381,V=0;V<T[jt];++V)H=(H<<5)+H+T.charCodeAt(V),H=H&H;return Math.abs(H)},k.INT_MAX_VALUE=2147483647,k}(),os=function(){function k(){var T=this,H=new as,V=new ht;T[oo]=function(ye){var De=0;return ye[wt]&&ye[wt][V.userId]?De=H.getHashCodeScore(ye[wt][V.userId]):ye.ext&&ye.ext.user&&ye.ext.user.id?De=H[Qo](ye.ext.user.id):ye[wt]&&ye[wt][V.operationId]?De=H.getHashCodeScore(ye[wt][V.operationId]):ye.ext&&ye.ext.telemetryTrace&&ye.ext.telemetryTrace[Yr]?De=H.getHashCodeScore(ye.ext.telemetryTrace[Yr]):De=Math.random()*100,De}}return a(k,"SamplingScoreGenerator"),k}(),Na=function(){function k(T,H){this.INT_MAX_VALUE=2147483647;var V=H||(0,J.vH)(null);(T>100||T<0)&&(V.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:T},!0),T=100),this[Aa]=T,this.samplingScoreGenerator=new os}return a(k,"Sample"),k.prototype.isSampledIn=function(T){var H=this[Aa],V=!1;return H==null||H>=100||T.baseType===bt[tn]?!0:(V=this.samplingScoreGenerator[oo](T)<H,V)},k}(),In,Ki=65e3;function ei(k){try{return k.responseText}catch(T){}return null}a(ei,"_getResponseText");function da(){var k,T,H;return k={endpointUrl:function(){return _+x}},k[Sa]=function(){return!1},k[ao]=function(){return 15e3},k[Ci]=function(){return 102400},k[Ca]=function(){return!1},k[no]=function(){return!0},k[ua]=function(){return!1},k[Ln]=function(){return!0},k[Xn]=function(){return!1},k[la]=function(){return!1},k[ro]=function(){return!1},k[sa]=function(){return T},k[Wn]=function(){return T},k[ba]=function(){return 100},k[xa]=function(){return H},k[io]=function(){return T},k.eventsLimitInMem=function(){return 1e4},k}a(da,"_getDefaultAppInsightsChannelConfig");var fo=(In={},In[vt.dataType]=Ia,In[kt.dataType]=rs,In[mr.dataType]=es,In[Dr.dataType]=ts,In[$t.dataType]=so,In[bt.dataType]=Fa,In[Dn.dataType]=Jo,In),oi=function(k){(0,g.ne)(T,k);function T(){var H=k.call(this)||this;H.priority=1001,H.identifier=w,H._senderConfig=da();var V,ye,De,ze,Ve,Et,St,Dt,Gt=0,or,Zt,ur,lr;return(0,p.Z)(T,H,function(je,Fr){Co(),je.pause=function(){va(),ze=!0},je.resume=function(){ze&&(ze=!1,ye=null,je._buffer.size()>je._senderConfig[Ci]()&&je[Zn](!0,null,10),Vi())},je.flush=function(Be,_t,At){if(Be===void 0&&(Be=!0),!ze){va();try{je[Zn](Be,null,At||1)}catch(Wt){(0,J.kP)(je[gn](),1,22,"flush failed, telemetry will not be collected: "+(0,U.jj)(Wt),{exception:(0,ge.eU)(Wt)})}}},je.onunloadFlush=function(){if(!ze)if((je._senderConfig[ro]()===!1||je[Ir][Ln]()===!1)&&(0,ge.MF)())try{je[Zn](!0,ss,2)}catch(Be){(0,J.kP)(je[gn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,U.jj)(Be),{exception:(0,ge.eU)(Be)})}else je.flush()},je.addHeader=function(Be,_t){Dt[Be]=_t},je.initialize=function(Be,_t,At,Wt){je.isInitialized()&&(0,J.kP)(je[gn](),1,28,"Sender is already initialized"),Fr.initialize(Be,_t,At,Wt);var cr=je._getTelCtx(),wr=je.identifier;Et=new co(_t.logger),V=0,ye=null,De=0,je[Ti]=null,St=0;var yr=je[gn]();lr=(0,hr.jU)((0,qn.J)("Sender"),_t.evtNamespace&&_t.evtNamespace()),ur=lo(lr);var sn=da();(0,U.rW)(sn,function(vn,si){je[Ir][vn]=function(){var ln=cr.getConfig(wr,vn,si());return!ln&&vn==="endpointUrl"&&(ln=si()),ln}}),je._buffer=je[Ir][no]()&&Xe()?new ns(yr,je[Ir]):new Ri(yr,je[Ir]),je._sample=new Na(je[Ir][ba](),yr),xo(Be)||(0,J.kP)(yr,1,100,"Invalid Instrumentation key "+Be[sa]),!An(je._senderConfig.endpointUrl())&&je._senderConfig.customHeaders()&&je._senderConfig.customHeaders()[jt]>0&&(0,U.tO)(je[Ir][xa](),function(vn){H.addHeader(vn.header,vn.value)});var fn=je[Ir],qr=null;!fn[Xn]()&&(0,ge.cp)()?qr=Eo:!fn[Xn]()&&(0,ge.Z3)()&&(qr=ga),!qr&&(0,ge.JO)()&&(qr=_o),or=qr||ga,!fn[Ln]()&&(0,ge.MF)()&&(qr=Gi),je[Ti]=qr||ga,!fn[la]()&&(0,ge.JO)(!0)?Zt=mo:(0,ge.MF)()?Zt=Gi:!fn[Xn]()&&(0,ge.cp)()?Zt=Eo:!fn[Xn]()&&(0,ge.Z3)()?Zt=ga:Zt=or},je.processTelemetry=function(Be,_t){_t=je._getTelCtx(_t);var At=_t[gn]();try{if(je[Ir][Ca]())return;if(!Be){(0,J.kP)(At,1,7,"Cannot send empty telemetry");return}if(Be.baseData&&!Be[Ta]){(0,J.kP)(At,1,70,"Cannot send telemetry without baseData and baseType");return}if(Be[Ta]||(Be[Ta]="EventData"),!je[Ti]){(0,J.kP)(At,1,28,"Sender was not initialized");return}if(Br(Be))Be[f]=je._sample[Aa];else{(0,J.kP)(At,2,33,"Telemetry item was sampled out and not sent",{SampleRate:je._sample[Aa]});return}var Wt=je[Ir][io]()||void 0,cr=Be.iKey||je[Ir][sa](),wr=T.constructEnvelope(Be,cr,At,Wt);if(!wr){(0,J.kP)(At,1,47,"Unable to create an AppInsights envelope");return}var yr=!1;if(Be[wt]&&Be[wt][E]&&((0,U.tO)(Be[wt][E],function(vn){try{vn&&vn(wr)===!1&&(yr=!0,(0,J.jV)(At,"Telemetry processor check returns false"))}catch(si){(0,J.kP)(At,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,U.jj)(si),{exception:(0,ge.eU)(si)},!0)}}),delete Be[wt][E]),yr)return;var sn=Et.serialize(wr),fn=je[Rn],qr=fn.size();qr+sn[jt]>je[Ir][Ci]()&&je[Zn](!0,null,10),fn[Bi](sn),Vi()}catch(vn){(0,J.kP)(At,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,U.jj)(vn),{exception:(0,ge.eU)(vn)})}je.processNext(Be,_t)},je[Da]=function(Be,_t,At){Be.readyState===4&&pn(Be.status,_t,Be.responseURL,At,La(Be),ei(Be)||Be.response)},je[Zn]=function(Be,_t,At){if(Be===void 0&&(Be=!0),!ze)try{var Wt=je[Rn];if(je[Ir][Ca]())Wt[bi]();else{if(Wt[di]()>0){var cr=Wt.getItems();ls(At||0,Be),_t?_t.call(H,cr,Be):je[Ti](cr,Be)}De=+new Date}va()}catch(yr){var wr=(0,ge.sA)();(!wr||wr>9)&&(0,J.kP)(je[gn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,U.jj)(yr),{exception:(0,ge.eU)(yr)})}},je._doTeardown=function(Be,_t){je.onunloadFlush(),ur.unload(),Co()},je[cn]=function(Be,_t,At){(0,J.kP)(je[gn](),2,26,"Failed to send telemetry.",{message:_t}),je._buffer[ai](Be)},je[$i]=function(Be,_t){for(var At=[],Wt=[],cr=_t.errors.reverse(),wr=0,yr=cr;wr<yr.length;wr++){var sn=yr[wr],fn=Be.splice(sn.index,1)[0];ka(sn.statusCode)?Wt[hn](fn):At[hn](fn)}Be[jt]>0&&je[Hi](Be,_t[Ra]),At[jt]>0&&je[cn](At,La(null,["partial success",_t[Ra],"of",_t.itemsReceived].join(" "))),Wt[jt]>0&&(Yi(Wt),(0,J.kP)(je[gn](),2,40,"Partial success. Delivered: "+Be[jt]+", Failed: "+At[jt]+". Will retry to send "+Wt[jt]+" our of "+_t[Zo]+" items"))},je[Hi]=function(Be,_t){je._buffer[ai](Be)},je._xdrOnLoad=function(Be,_t){var At=ei(Be);if(Be&&(At+""=="200"||At===""))V=0,je[Hi](_t,0);else{var Wt=pa(At);Wt&&Wt.itemsReceived&&Wt.itemsReceived>Wt[Ra]&&!je[Ir][ua]()?je[$i](_t,Wt):je[cn](_t,So(Be))}};function Br(Be){return je._sample.isSampledIn(Be)}a(Br,"_isSampledIn");function pn(Be,_t,At,Wt,cr,wr){var yr=null;if(je._appId||(yr=pa(wr),yr&&yr.appId&&(je._appId=yr.appId)),(Be<200||Be>=300)&&Be!==0){if((Be===301||Be===307||Be===308)&&!pi(At)){je[cn](_t,cr);return}!je[Ir][ua]()&&ka(Be)?(Yi(_t),(0,J.kP)(je[gn](),2,40,". Response code "+Be+". Will retry to send "+_t[jt]+" items.")):je[cn](_t,cr)}else if(ur&&!ur.isOnline()){if(!je[Ir][ua]()){var sn=10;Yi(_t,sn),(0,J.kP)(je[gn](),2,40,". Offline - Response Code: ".concat(Be,". Offline status: ").concat(!ur.isOnline(),". Will retry to send ").concat(_t.length," items."))}}else pi(At),Be===206?(yr||(yr=pa(wr)),yr&&!je[Ir][ua]()?je[$i](_t,yr):je[cn](_t,cr)):(V=0,je[Hi](_t,Wt))}a(pn,"_checkResponsStatus");function pi(Be){return St>=10?!1:!(0,U.le)(Be)&&Be!==""&&Be!==je[Ir][Qn]()?(je[Ir][Qn]=function(){return Be},++St,!0):!1}a(pi,"_checkAndUpdateEndPointUrl");function ss(Be,_t){Zt?Zt(Be,!1):Gi(Be,_t)}a(ss,"_doUnloadSend");function vo(Be){var _t=(0,ge.jW)(),At=je[Rn],Wt=je[Ir][Qn](),cr=je._buffer[ii](Be),wr=new Blob([cr],{type:"text/plain;charset=UTF-8"}),yr=_t.sendBeacon(Wt,wr);return yr&&(At[Hn](Be),je._onSuccess(Be,Be[jt])),yr}a(vo,"_doBeaconSend");function Gi(Be,_t){if((0,U.kJ)(Be)&&Be[jt]>0&&!vo(Be)){for(var At=[],Wt=0;Wt<Be[jt];Wt++){var cr=Be[Wt];vo([cr])||At[hn](cr)}At[jt]>0&&(or&&or(At,!0),(0,J.kP)(je[gn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(Gi,"_beaconSender");function ga(Be,_t){var At=new XMLHttpRequest,Wt=je[Ir][Qn]();try{At[C]=!0}catch(wr){}At.open("POST",Wt,_t),At[Wi]("Content-type","application/json"),An(Wt)&&At[Wi](Rr[6],Rr[7]),(0,U.tO)((0,U.FY)(Dt),function(wr){At[Wi](wr,Dt[wr])}),At.onreadystatechange=function(){return je._xhrReadyStateChange(At,Be,Be[jt])},At.onerror=function(wr){return je[cn](Be,La(At),wr)};var cr=je._buffer[ii](Be);At.send(cr),je._buffer[Hn](Be)}a(ga,"_xhrSender");function mo(Be,_t){if((0,U.kJ)(Be)){for(var At=Be[jt],Wt=0;Wt<Be[jt];Wt++)At+=Be[Wt][jt];Gt+At<=Ki?wo(Be,!1):(0,ge.MF)()?Gi(Be,_t):(or&&or(Be,!0),(0,J.kP)(je[gn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(mo,"_fetchKeepAliveSender");function _o(Be,_t){wo(Be,!0)}a(_o,"_fetchSender");function wo(Be,_t){var At,Wt=je[Ir][Qn](),cr=je._buffer[ii](Be),wr=new Blob([cr],{type:"application/json"}),yr=new Headers,sn=cr[jt],fn=!1,qr=!1;An(Wt)&&yr.append(Rr[6],Rr[7]),(0,U.tO)((0,U.FY)(Dt),function(ln){yr.append(ln,Dt[ln])});var vn=(At={method:"POST",headers:yr,body:wr},At[C]=!0,At);_t||(vn.keepalive=!0,fn=!0,Gt+=sn);var si=new Request(Wt,vn);try{si[C]=!0}catch(ln){}je._buffer[Hn](Be);try{fetch(si).then(function(ln){_t||(Gt-=sn,sn=0),qr||(qr=!0,ln.ok?ln.text().then(function(an){pn(ln.status,Be,ln.url,Be[jt],ln.statusText,an)}):je[cn](Be,ln.statusText))}).catch(function(ln){_t||(Gt-=sn,sn=0),qr||(qr=!0,je[cn](Be,ln.message))})}catch(ln){qr||je[cn](Be,(0,ge.eU)(ln))}fn&&!qr&&(qr=!0,je._onSuccess(Be,Be[jt]))}a(wo,"_doFetchSender");function pa(Be){try{if(Be&&Be!==""){var _t=(0,ge.xA)().parse(Be);if(_t&&_t.itemsReceived&&_t.itemsReceived>=_t[Ra]&&_t.itemsReceived-_t.itemsAccepted===_t.errors[jt])return _t}}catch(At){(0,J.kP)(je[gn](),1,43,"Cannot parse the response. "+(0,U.jj)(At),{response:Be})}return null}a(pa,"_parseResponse");function Yi(Be,_t){if(_t===void 0&&(_t=1),!(!Be||Be[jt]===0)){var At=je[Rn];At[ai](Be),V++;for(var Wt=0,cr=Be;Wt<cr.length;Wt++){var wr=cr[Wt];At[Bi](wr)}yo(_t),Vi()}}a(Yi,"_resendPayload");function yo(Be){var _t=10,At;if(V<=1)At=_t;else{var Wt=(Math.pow(2,V)-1)/2,cr=Math.floor(Math.random()*Wt*_t)+1;cr=Be*cr,At=Math.max(Math.min(cr,3600),_t)}var wr=(0,U.m6)()+At*1e3;ye=wr}a(yo,"_setRetryTime");function Vi(){if(!Ve&&!ze){var Be=ye?Math.max(0,ye-(0,U.m6)()):0,_t=Math.max(je[Ir][ao](),Be);Ve=setTimeout(function(){Ve=null,je[Zn](!0,null,1)},_t)}}a(Vi,"_setupTimer");function va(){clearTimeout(Ve),Ve=null,ye=null}a(va,"_clearScheduledTimer");function ka(Be){return Be===401||Be===403||Be===408||Be===429||Be===500||Be===502||Be===503||Be===504}a(ka,"_isRetriable");function La(Be,_t){return Be?"XMLHttpRequest,Status:"+Be.status+",Response:"+ei(Be)||0||0:_t}a(La,"_formatErrorMessageXhr");function Eo(Be,_t){var At=je[Rn],Wt=(0,ge.Jj)(),cr=new XDomainRequest;cr.onload=function(){return je._xdrOnLoad(cr,Be)},cr.onerror=function(fn){return je[cn](Be,So(cr),fn)};var wr=Wt&&Wt.location&&Wt.location.protocol||"";if(je[Ir][Qn]().lastIndexOf(wr,0)!==0){(0,J.kP)(je[gn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),At[bi]();return}var yr=je[Ir][Qn]().replace(/^(https?:)/,"");cr.open("POST",yr);var sn=At[ii](Be);cr.send(sn),At[Hn](Be)}a(Eo,"_xdrSender");function So(Be,_t){return Be?"XDomainRequest,Response:"+ei(Be)||0:_t}a(So,"_formatErrorMessageXdr");function bo(){var Be="getNotifyMgr";return je.core[Be]?je.core[Be]():je.core._notificationManager}a(bo,"_getNotifyMgr");function ls(Be,_t){var At=bo();if(At&&At[ca])try{At[ca](Be,_t)}catch(Wt){(0,J.kP)(je[gn](),1,74,"send request notification failed: "+(0,U.jj)(Wt),{exception:(0,ge.eU)(Wt)})}}a(ls,"_notifySendRequest");function xo(Be){var _t=(0,U.le)(Be[fa])?!1:Be[fa];if(_t)return!0;var At="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Wt=new RegExp(At);return Wt.test(Be[sa])}a(xo,"_validateInstrumentationKey");function Co(){je[Ti]=null,je[Rn]=null,je._appId=null,je._sample=null,Dt={},ur=null,V=0,ye=null,De=null,ze=!1,Ve=null,Et=null,St=0,Gt=0,or=null,Zt=null,lr=null}a(Co,"_initDefaults")}),H}return a(T,"Sender"),T.constructEnvelope=function(H,V,ye,De){var ze;V!==H.iKey&&!(0,U.le)(V)?ze=(0,g.uc)((0,g.uc)({},H),{iKey:V}):ze=H;var Ve=fo[ze.baseType]||Ia;return Ve(ye,ze,De)},T}(On.i),ha=S(5121),Pa="initialize",Ii="diagnosticLogInterval",ho=S(7310),go=(0,Sr.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),po=function(){function k(T){var H=new ha.F;((0,U.le)(T)||(0,U.le)(T.instrumentationKey))&&(0,U._y)("Invalid input configuration"),(0,p.Z)(k,this,function(V){V.config=T,ye(),V[Pa]=ye,V.getSKUDefaults=function(){V.config[Ii]=V.config[Ii]&&V.config[Ii]>0?V.config[Ii]:1e4},V.getSKUDefaults(),(0,U.Vb)(V,H,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function ye(){var De=[],ze=new oi;De.push(ze),H[Pa](V.config,De),ze[Pa](V.config,H,De),H.pollInternalLogs()}a(ye,"_initialize")})}return a(k,"ApplicationInsights"),k.__ieDyn=1,k}()},1679:(fe,u,S)=>{"use strict";S.d(u,{Z:()=>Ze});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var p,g="undefined",y="constructor",w="prototype",F="function",C="_dynInstFuncs",f="_isDynProxy",E="_dynClass",b="_dynCls$",_="_dynInstChk",x=_,M="_dfOpts",R="_unknown_",q="__proto__",K="_dyn"+q,oe="__dynProto$Gbl",O="_dynInstProto",z="useBaseInst",$="setInstFuncs",D=Object,P=D.getPrototypeOf,j=D.getOwnPropertyNames;function X(){var Z;return typeof globalThis!==g&&(Z=globalThis),!Z&&typeof self!==g&&(Z=self),!Z&&typeof window!==g&&(Z=window),!Z&&typeof S.g!==g&&(Z=S.g),Z||{}}a(X,"_getGlobal");var re=X(),ne=re[oe]||(re[oe]={o:(p={},p[$]=!0,p[z]=!0,p),n:1e3});function se(Z,te){return Z&&D[w].hasOwnProperty.call(Z,te)}a(se,"_hasOwnProperty");function Ce(Z){return Z&&(Z===D[w]||Z===Array[w])}a(Ce,"_isObjectOrArrayPrototype");function ie(Z){return Ce(Z)||Z===Function[w]}a(ie,"_isObjectArrayOrFunctionPrototype");function G(Z){var te;if(Z){if(P)return P(Z);var ae=Z[q]||Z[w]||(Z[y]?Z[y][w]:null);te=Z[K]||ae,se(Z,K)||(delete Z[O],te=Z[K]=Z[O]||Z[K],Z[O]=ae)}return te}a(G,"_getObjProto");function ve(Z,te){var ae=[];if(j)ae=j(Z);else for(var me in Z)typeof me=="string"&&se(Z,me)&&ae.push(me);if(ae&&ae.length>0)for(var Ge=0;Ge<ae.length;Ge++)te(ae[Ge])}a(ve,"_forEachProp");function Me(Z,te,ae){return te!==y&&typeof Z[te]===F&&(ae||se(Z,te))}a(Me,"_isDynamicCandidate");function Le(Z){throw new TypeError("DynamicProto: "+Z)}a(Le,"_throwTypeError");function le(Z){var te={};return ve(Z,function(ae){!te[ae]&&Me(Z,ae,!1)&&(te[ae]=Z[ae])}),te}a(le,"_getInstanceFuncs");function Y(Z,te){for(var ae=Z.length-1;ae>=0;ae--)if(Z[ae]===te)return!0;return!1}a(Y,"_hasVisited");function _e(Z,te,ae,me){function Ge(Te,xe,ke){var pe=xe[ke];if(pe[f]&&me){var ct=Te[C]||{};ct[x]!==!1&&(pe=(ct[xe[E]]||{})[ke]||pe)}return function(){return pe.apply(Te,arguments)}}a(Ge,"_instFuncProxy");var st={};ve(ae,function(Te){st[Te]=Ge(te,ae,Te)});for(var Se=G(Z),Re=[];Se&&!ie(Se)&&!Y(Re,Se);)ve(Se,function(Te){!st[Te]&&Me(Se,Te,!P)&&(st[Te]=Ge(te,Se,Te))}),Re.push(Se),Se=G(Se);return st}a(_e,"_getBaseFuncs");function Fe(Z,te,ae,me){var Ge=null;if(Z&&se(ae,E)){var st=Z[C]||{};if(Ge=(st[ae[E]]||{})[te],Ge||Le("Missing ["+te+"] "+F),!Ge[_]&&st[x]!==!1){for(var Se=!se(Z,te),Re=G(Z),Te=[];Se&&Re&&!ie(Re)&&!Y(Te,Re);){var xe=Re[te];if(xe){Se=xe===me;break}Te.push(Re),Re=G(Re)}try{Se&&(Z[te]=Ge),Ge[_]=1}catch(ke){st[x]=!1}}}return Ge}a(Fe,"_getInstFunc");function Ie(Z,te,ae){var me=te[Z];return me===ae&&(me=G(te)[Z]),typeof me!==F&&Le("["+Z+"] is not a "+F),me}a(Ie,"_getProtoFunc");function ee(Z,te,ae,me,Ge){function st(Te,xe){var ke=a(function(){var pe=Fe(this,xe,Te,ke)||Ie(xe,Te,ke);return pe.apply(this,arguments)},"dynProtoProxy");return ke[f]=1,ke}if(a(st,"_createDynamicPrototype"),!Ce(Z)){var Se=ae[C]=ae[C]||{},Re=Se[te]=Se[te]||{};Se[x]!==!1&&(Se[x]=!!Ge),ve(ae,function(Te){Me(ae,Te,!1)&&ae[Te]!==me[Te]&&(Re[Te]=ae[Te],delete ae[Te],(!se(Z,Te)||Z[Te]&&!Z[Te][f])&&(Z[Te]=st(Z,Te)))})}}a(ee,"_populatePrototype");function ut(Z,te){if(P){for(var ae=[],me=G(te);me&&!ie(me)&&!Y(ae,me);){if(me===Z)return!0;ae.push(me),me=G(me)}return!1}return!0}a(ut,"_checkPrototype");function qe(Z,te){return se(Z,w)?Z.name||te||R:((Z||{})[y]||{}).name||te||R}a(qe,"_getObjName");function Ze(Z,te,ae,me){se(Z,w)||Le("theClass is an invalid class definition.");var Ge=Z[w];ut(Ge,te)||Le("["+qe(Z)+"] not in hierarchy of ["+qe(te)+"]");var st=null;se(Ge,E)?st=Ge[E]:(st=b+qe(Z,"_")+"$"+ne.n,ne.n++,Ge[E]=st);var Se=Ze[M],Re=!!Se[z];Re&&me&&me[z]!==void 0&&(Re=!!me[z]);var Te=le(te),xe=_e(Ge,te,Te,Re);ae(te,xe);var ke=!!P&&!!Se[$];ke&&me&&(ke=!!me[$]),ee(Ge,st,te,Te,ke!==!1)}a(Ze,"dynamicProto"),Ze[M]=ne.o},6232:(fe,u,S)=>{"use strict";const p=S(8641),g=S(8692),y=S(1474),w=S(5870),F=a((C,f={})=>{let E=[];if(Array.isArray(C))for(let b of C){let _=F.create(b,f);Array.isArray(_)?E.push(..._):E.push(_)}else E=[].concat(F.create(C,f));return f&&f.expand===!0&&f.nodupes===!0&&(E=[...new Set(E)]),E},"braces");F.parse=(C,f={})=>w(C,f),F.stringify=(C,f={})=>p(typeof C=="string"?F.parse(C,f):C,f),F.compile=(C,f={})=>(typeof C=="string"&&(C=F.parse(C,f)),g(C,f)),F.expand=(C,f={})=>{typeof C=="string"&&(C=F.parse(C,f));let E=y(C,f);return f.noempty===!0&&(E=E.filter(Boolean)),f.nodupes===!0&&(E=[...new Set(E)]),E},F.create=(C,f={})=>C===""||C.length<3?[C]:f.expand!==!0?F.compile(C,f):F.expand(C,f),fe.exports=F},8692:(fe,u,S)=>{"use strict";const p=S(1516),g=S(3596),y=a((w,F={})=>{let C=a((f,E={})=>{let b=g.isInvalidBrace(E),_=f.invalid===!0&&F.escapeInvalid===!0,x=b===!0||_===!0,M=F.escapeInvalid===!0?"\\":"",R="";if(f.isOpen===!0||f.isClose===!0)return M+f.value;if(f.type==="open")return x?M+f.value:"(";if(f.type==="close")return x?M+f.value:")";if(f.type==="comma")return f.prev.type==="comma"?"":x?f.value:"|";if(f.value)return f.value;if(f.nodes&&f.ranges>0){let q=g.reduce(f.nodes),K=p(...q,{...F,wrap:!1,toRegex:!0});if(K.length!==0)return q.length>1&&K.length>1?`(${K})`:K}if(f.nodes)for(let q of f.nodes)R+=C(q,f);return R},"walk");return C(w)},"compile");fe.exports=y},7007:fe=>{"use strict";fe.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(fe,u,S)=>{"use strict";const p=S(1516),g=S(8641),y=S(3596),w=a((C="",f="",E=!1)=>{let b=[];if(C=[].concat(C),f=[].concat(f),!f.length)return C;if(!C.length)return E?y.flatten(f).map(_=>`{${_}}`):f;for(let _ of C)if(Array.isArray(_))for(let x of _)b.push(w(x,f,E));else for(let x of f)E===!0&&typeof x=="string"&&(x=`{${x}}`),b.push(Array.isArray(x)?w(_,x,E):_+x);return y.flatten(b)},"append"),F=a((C,f={})=>{let E=f.rangeLimit===void 0?1e3:f.rangeLimit,b=a((_,x={})=>{_.queue=[];let M=x,R=x.queue;for(;M.type!=="brace"&&M.type!=="root"&&M.parent;)M=M.parent,R=M.queue;if(_.invalid||_.dollar){R.push(w(R.pop(),g(_,f)));return}if(_.type==="brace"&&_.invalid!==!0&&_.nodes.length===2){R.push(w(R.pop(),["{}"]));return}if(_.nodes&&_.ranges>0){let O=y.reduce(_.nodes);if(y.exceedsLimit(...O,f.step,E))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let z=p(...O,f);z.length===0&&(z=g(_,f)),R.push(w(R.pop(),z)),_.nodes=[];return}let q=y.encloseBrace(_),K=_.queue,oe=_;for(;oe.type!=="brace"&&oe.type!=="root"&&oe.parent;)oe=oe.parent,K=oe.queue;for(let O=0;O<_.nodes.length;O++){let z=_.nodes[O];if(z.type==="comma"&&_.type==="brace"){O===1&&K.push(""),K.push("");continue}if(z.type==="close"){R.push(w(R.pop(),K,q));continue}if(z.value&&z.type!=="open"){K.push(w(K.pop(),z.value));continue}z.nodes&&b(z,_)}return K},"walk");return y.flatten(b(C))},"expand");fe.exports=F},5870:(fe,u,S)=>{"use strict";const p=S(8641),{MAX_LENGTH:g,CHAR_BACKSLASH:y,CHAR_BACKTICK:w,CHAR_COMMA:F,CHAR_DOT:C,CHAR_LEFT_PARENTHESES:f,CHAR_RIGHT_PARENTHESES:E,CHAR_LEFT_CURLY_BRACE:b,CHAR_RIGHT_CURLY_BRACE:_,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_RIGHT_SQUARE_BRACKET:M,CHAR_DOUBLE_QUOTE:R,CHAR_SINGLE_QUOTE:q,CHAR_NO_BREAK_SPACE:K,CHAR_ZERO_WIDTH_NOBREAK_SPACE:oe}=S(7007),O=a((z,$={})=>{if(typeof z!="string")throw new TypeError("Expected a string");let D=$||{},P=typeof D.maxLength=="number"?Math.min(g,D.maxLength):g;if(z.length>P)throw new SyntaxError(`Input length (${z.length}), exceeds max characters (${P})`);let j={type:"root",input:z,nodes:[]},X=[j],re=j,ne=j,se=0,Ce=z.length,ie=0,G=0,ve,Me={};const Le=a(()=>z[ie++],"advance"),le=a(Y=>{if(Y.type==="text"&&ne.type==="dot"&&(ne.type="text"),ne&&ne.type==="text"&&Y.type==="text"){ne.value+=Y.value;return}return re.nodes.push(Y),Y.parent=re,Y.prev=ne,ne=Y,Y},"push");for(le({type:"bos"});ie<Ce;)if(re=X[X.length-1],ve=Le(),!(ve===oe||ve===K)){if(ve===y){le({type:"text",value:($.keepEscaping?ve:"")+Le()});continue}if(ve===M){le({type:"text",value:"\\"+ve});continue}if(ve===x){se++;let Y=!0,_e;for(;ie<Ce&&(_e=Le());){if(ve+=_e,_e===x){se++;continue}if(_e===y){ve+=Le();continue}if(_e===M&&(se--,se===0))break}le({type:"text",value:ve});continue}if(ve===f){re=le({type:"paren",nodes:[]}),X.push(re),le({type:"text",value:ve});continue}if(ve===E){if(re.type!=="paren"){le({type:"text",value:ve});continue}re=X.pop(),le({type:"text",value:ve}),re=X[X.length-1];continue}if(ve===R||ve===q||ve===w){let Y=ve,_e;for($.keepQuotes!==!0&&(ve="");ie<Ce&&(_e=Le());){if(_e===y){ve+=_e+Le();continue}if(_e===Y){$.keepQuotes===!0&&(ve+=_e);break}ve+=_e}le({type:"text",value:ve});continue}if(ve===b){G++;let Y=ne.value&&ne.value.slice(-1)==="$"||re.dollar===!0;re=le({type:"brace",open:!0,close:!1,dollar:Y,depth:G,commas:0,ranges:0,nodes:[]}),X.push(re),le({type:"open",value:ve});continue}if(ve===_){if(re.type!=="brace"){le({type:"text",value:ve});continue}let Y="close";re=X.pop(),re.close=!0,le({type:Y,value:ve}),G--,re=X[X.length-1];continue}if(ve===F&&G>0){if(re.ranges>0){re.ranges=0;let Y=re.nodes.shift();re.nodes=[Y,{type:"text",value:p(re)}]}le({type:"comma",value:ve}),re.commas++;continue}if(ve===C&&G>0&&re.commas===0){let Y=re.nodes;if(G===0||Y.length===0){le({type:"text",value:ve});continue}if(ne.type==="dot"){if(re.range=[],ne.value+=ve,ne.type="range",re.nodes.length!==3&&re.nodes.length!==5){re.invalid=!0,re.ranges=0,ne.type="text";continue}re.ranges++,re.args=[];continue}if(ne.type==="range"){Y.pop();let _e=Y[Y.length-1];_e.value+=ne.value+ve,ne=_e,re.ranges--;continue}le({type:"dot",value:ve});continue}le({type:"text",value:ve})}do if(re=X.pop(),re.type!=="root"){re.nodes.forEach(Fe=>{Fe.nodes||(Fe.type==="open"&&(Fe.isOpen=!0),Fe.type==="close"&&(Fe.isClose=!0),Fe.nodes||(Fe.type="text"),Fe.invalid=!0)});let Y=X[X.length-1],_e=Y.nodes.indexOf(re);Y.nodes.splice(_e,1,...re.nodes)}while(X.length>0);return le({type:"eos"}),j},"parse");fe.exports=O},8641:(fe,u,S)=>{"use strict";const p=S(3596);fe.exports=(g,y={})=>{let w=a((F,C={})=>{let f=y.escapeInvalid&&p.isInvalidBrace(C),E=F.invalid===!0&&y.escapeInvalid===!0,b="";if(F.value)return(f||E)&&p.isOpenOrClose(F)?"\\"+F.value:F.value;if(F.value)return F.value;if(F.nodes)for(let _ of F.nodes)b+=w(_);return b},"stringify");return w(g)}},3596:(fe,u)=>{"use strict";u.isInteger=S=>typeof S=="number"?Number.isInteger(S):typeof S=="string"&&S.trim()!==""?Number.isInteger(Number(S)):!1,u.find=(S,p)=>S.nodes.find(g=>g.type===p),u.exceedsLimit=(S,p,g=1,y)=>y===!1||!u.isInteger(S)||!u.isInteger(p)?!1:(Number(p)-Number(S))/Number(g)>=y,u.escapeNode=(S,p=0,g)=>{let y=S.nodes[p];!y||(g&&y.type===g||y.type==="open"||y.type==="close")&&y.escaped!==!0&&(y.value="\\"+y.value,y.escaped=!0)},u.encloseBrace=S=>S.type!=="brace"?!1:S.commas>>0+S.ranges>>0==0?(S.invalid=!0,!0):!1,u.isInvalidBrace=S=>S.type!=="brace"?!1:S.invalid===!0||S.dollar?!0:S.commas>>0+S.ranges>>0==0||S.open!==!0||S.close!==!0?(S.invalid=!0,!0):!1,u.isOpenOrClose=S=>S.type==="open"||S.type==="close"?!0:S.open===!0||S.close===!0,u.reduce=S=>S.reduce((p,g)=>(g.type==="text"&&p.push(g.value),g.type==="range"&&(g.type="text"),p),[]),u.flatten=(...S)=>{const p=[],g=a(y=>{for(let w=0;w<y.length;w++){let F=y[w];Array.isArray(F)?g(F,p):F!==void 0&&p.push(F)}return p},"flat");return g(S),p}},1516:(fe,u,S)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const p=S(6529),g=S(2999),y=a(D=>D!==null&&typeof D=="object"&&!Array.isArray(D),"isObject"),w=a(D=>P=>D===!0?Number(P):String(P),"transform"),F=a(D=>typeof D=="number"||typeof D=="string"&&D!=="","isValidValue"),C=a(D=>Number.isInteger(+D),"isNumber"),f=a(D=>{let P=`${D}`,j=-1;if(P[0]==="-"&&(P=P.slice(1)),P==="0")return!1;for(;P[++j]==="0";);return j>0},"zeros"),E=a((D,P,j)=>typeof D=="string"||typeof P=="string"?!0:j.stringify===!0,"stringify"),b=a((D,P,j)=>{if(P>0){let X=D[0]==="-"?"-":"";X&&(D=D.slice(1)),D=X+D.padStart(X?P-1:P,"0")}return j===!1?String(D):D},"pad"),_=a((D,P)=>{let j=D[0]==="-"?"-":"";for(j&&(D=D.slice(1),P--);D.length<P;)D="0"+D;return j?"-"+D:D},"toMaxLen"),x=a((D,P)=>{D.negatives.sort((se,Ce)=>se<Ce?-1:se>Ce?1:0),D.positives.sort((se,Ce)=>se<Ce?-1:se>Ce?1:0);let j=P.capture?"":"?:",X="",re="",ne;return D.positives.length&&(X=D.positives.join("|")),D.negatives.length&&(re=`-(${j}${D.negatives.join("|")})`),X&&re?ne=`${X}|${re}`:ne=X||re,P.wrap?`(${j}${ne})`:ne},"toSequence"),M=a((D,P,j,X)=>{if(j)return g(D,P,{wrap:!1,...X});let re=String.fromCharCode(D);if(D===P)return re;let ne=String.fromCharCode(P);return`[${re}-${ne}]`},"toRange"),R=a((D,P,j)=>{if(Array.isArray(D)){let X=j.wrap===!0,re=j.capture?"":"?:";return X?`(${re}${D.join("|")})`:D.join("|")}return g(D,P,j)},"toRegex"),q=a((...D)=>new RangeError("Invalid range arguments: "+p.inspect(...D)),"rangeError"),K=a((D,P,j)=>{if(j.strictRanges===!0)throw q([D,P]);return[]},"invalidRange"),oe=a((D,P)=>{if(P.strictRanges===!0)throw new TypeError(`Expected step "${D}" to be a number`);return[]},"invalidStep"),O=a((D,P,j=1,X={})=>{let re=Number(D),ne=Number(P);if(!Number.isInteger(re)||!Number.isInteger(ne)){if(X.strictRanges===!0)throw q([D,P]);return[]}re===0&&(re=0),ne===0&&(ne=0);let se=re>ne,Ce=String(D),ie=String(P),G=String(j);j=Math.max(Math.abs(j),1);let ve=f(Ce)||f(ie)||f(G),Me=ve?Math.max(Ce.length,ie.length,G.length):0,Le=ve===!1&&E(D,P,X)===!1,le=X.transform||w(Le);if(X.toRegex&&j===1)return M(_(D,Me),_(P,Me),!0,X);let Y={negatives:[],positives:[]},_e=a(ee=>Y[ee<0?"negatives":"positives"].push(Math.abs(ee)),"push"),Fe=[],Ie=0;for(;se?re>=ne:re<=ne;)X.toRegex===!0&&j>1?_e(re):Fe.push(b(le(re,Ie),Me,Le)),re=se?re-j:re+j,Ie++;return X.toRegex===!0?j>1?x(Y,X):R(Fe,null,{wrap:!1,...X}):Fe},"fillNumbers"),z=a((D,P,j=1,X={})=>{if(!C(D)&&D.length>1||!C(P)&&P.length>1)return K(D,P,X);let re=X.transform||(Le=>String.fromCharCode(Le)),ne=`${D}`.charCodeAt(0),se=`${P}`.charCodeAt(0),Ce=ne>se,ie=Math.min(ne,se),G=Math.max(ne,se);if(X.toRegex&&j===1)return M(ie,G,!1,X);let ve=[],Me=0;for(;Ce?ne>=se:ne<=se;)ve.push(re(ne,Me)),ne=Ce?ne-j:ne+j,Me++;return X.toRegex===!0?R(ve,null,{wrap:!1,options:X}):ve},"fillLetters"),$=a((D,P,j,X={})=>{if(P==null&&F(D))return[D];if(!F(D)||!F(P))return K(D,P,X);if(typeof j=="function")return $(D,P,1,{transform:j});if(y(j))return $(D,P,0,j);let re={...X};return re.capture===!0&&(re.wrap=!0),j=j||re.step||1,C(j)?C(D)&&C(P)?O(D,P,j,re):z(D,P,Math.max(Math.abs(j),1),re):j!=null&&!y(j)?oe(j,re):$(D,P,1,j)},"fill");fe.exports=$},3338:fe=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */fe.exports=function(u){return typeof u=="number"?u-u==0:typeof u=="string"&&u.trim()!==""?Number.isFinite?Number.isFinite(+u):isFinite(+u):!1}},5179:(fe,u,S)=>{fe=S.nmd(fe);var p=200,g="__lodash_hash_undefined__",y=1,w=2,F=9007199254740991,C="[object Arguments]",f="[object Array]",E="[object AsyncFunction]",b="[object Boolean]",_="[object Date]",x="[object Error]",M="[object Function]",R="[object GeneratorFunction]",q="[object Map]",K="[object Number]",oe="[object Null]",O="[object Object]",z="[object Promise]",$="[object Proxy]",D="[object RegExp]",P="[object Set]",j="[object String]",X="[object Symbol]",re="[object Undefined]",ne="[object WeakMap]",se="[object ArrayBuffer]",Ce="[object DataView]",ie="[object Float32Array]",G="[object Float64Array]",ve="[object Int8Array]",Me="[object Int16Array]",Le="[object Int32Array]",le="[object Uint8Array]",Y="[object Uint8ClampedArray]",_e="[object Uint16Array]",Fe="[object Uint32Array]",Ie=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,qe={};qe[ie]=qe[G]=qe[ve]=qe[Me]=qe[Le]=qe[le]=qe[Y]=qe[_e]=qe[Fe]=!0,qe[C]=qe[f]=qe[se]=qe[b]=qe[Ce]=qe[_]=qe[x]=qe[M]=qe[q]=qe[K]=qe[O]=qe[D]=qe[P]=qe[j]=qe[ne]=!1;var Ze=typeof S.g=="object"&&S.g&&S.g.Object===Object&&S.g,Z=typeof self=="object"&&self&&self.Object===Object&&self,te=Ze||Z||Function("return this")(),ae=u&&!u.nodeType&&u,me=ae&&!0&&fe&&!fe.nodeType&&fe,Ge=me&&me.exports===ae,st=Ge&&Ze.process,Se=function(){try{return st&&st.binding&&st.binding("util")}catch(N){}}(),Re=Se&&Se.isTypedArray;function Te(N,W){for(var we=-1,Ke=N==null?0:N.length,Tt=0,ht=[];++we<Ke;){var Ee=N[we];W(Ee,we,N)&&(ht[Tt++]=Ee)}return ht}a(Te,"arrayFilter");function xe(N,W){for(var we=-1,Ke=W.length,Tt=N.length;++we<Ke;)N[Tt+we]=W[we];return N}a(xe,"arrayPush");function ke(N,W){for(var we=-1,Ke=N==null?0:N.length;++we<Ke;)if(W(N[we],we,N))return!0;return!1}a(ke,"arraySome");function pe(N,W){for(var we=-1,Ke=Array(N);++we<N;)Ke[we]=W(we);return Ke}a(pe,"baseTimes");function ct(N){return function(W){return N(W)}}a(ct,"baseUnary");function We(N,W){return N.has(W)}a(We,"cacheHas");function U(N,W){return N==null?void 0:N[W]}a(U,"getValue");function J(N){var W=-1,we=Array(N.size);return N.forEach(function(Ke,Tt){we[++W]=[Tt,Ke]}),we}a(J,"mapToArray");function ge(N,W){return function(we){return N(W(we))}}a(ge,"overArg");function Qe(N){var W=-1,we=Array(N.size);return N.forEach(function(Ke){we[++W]=Ke}),we}a(Qe,"setToArray");var lt=Array.prototype,yt=Function.prototype,it=Object.prototype,A=te["__core-js_shared__"],d=yt.toString,v=it.hasOwnProperty,Q=function(){var N=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),de=it.toString,Ne=RegExp("^"+d.call(v).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=Ge?te.Buffer:void 0,ot=te.Symbol,Ft=te.Uint8Array,vt=it.propertyIsEnumerable,kt=lt.splice,nt=ot?ot.toStringTag:void 0,Jt=Object.getOwnPropertySymbols,ir=he?he.isBuffer:void 0,Qt=ge(Object.keys,Object),Yt=rn(te,"DataView"),mr=rn(te,"Map"),Dr=rn(te,"Promise"),Cn=rn(te,"Set"),Jr=rn(te,"WeakMap"),Or=rn(Object,"create"),Un=En(Yt),_n=En(mr),Gn=En(Dr),Nn=En(Cn),Fn=En(Jr),Bn=ot?ot.prototype:void 0,ce=Bn?Bn.valueOf:void 0;function Je(N){var W=-1,we=N==null?0:N.length;for(this.clear();++W<we;){var Ke=N[W];this.set(Ke[0],Ke[1])}}a(Je,"Hash");function pt(){this.__data__=Or?Or(null):{},this.size=0}a(pt,"hashClear");function xt(N){var W=this.has(N)&&delete this.__data__[N];return this.size-=W?1:0,W}a(xt,"hashDelete");function Ht(N){var W=this.__data__;if(Or){var we=W[N];return we===g?void 0:we}return v.call(W,N)?W[N]:void 0}a(Ht,"hashGet");function Bt(N){var W=this.__data__;return Or?W[N]!==void 0:v.call(W,N)}a(Bt,"hashHas");function Pr(N,W){var we=this.__data__;return this.size+=this.has(N)?0:1,we[N]=Or&&W===void 0?g:W,this}a(Pr,"hashSet"),Je.prototype.clear=pt,Je.prototype.delete=xt,Je.prototype.get=Ht,Je.prototype.has=Bt,Je.prototype.set=Pr;function Nr(N){var W=-1,we=N==null?0:N.length;for(this.clear();++W<we;){var Ke=N[W];this.set(Ke[0],Ke[1])}}a(Nr,"ListCache");function Ct(){this.__data__=[],this.size=0}a(Ct,"listCacheClear");function Rt(N){var W=this.__data__,we=vr(W,N);if(we<0)return!1;var Ke=W.length-1;return we==Ke?W.pop():kt.call(W,we,1),--this.size,!0}a(Rt,"listCacheDelete");function $t(N){var W=this.__data__,we=vr(W,N);return we<0?void 0:W[we][1]}a($t,"listCacheGet");function mt(N){return vr(this.__data__,N)>-1}a(mt,"listCacheHas");function Xt(N,W){var we=this.__data__,Ke=vr(we,N);return Ke<0?(++this.size,we.push([N,W])):we[Ke][1]=W,this}a(Xt,"listCacheSet"),Nr.prototype.clear=Ct,Nr.prototype.delete=Rt,Nr.prototype.get=$t,Nr.prototype.has=mt,Nr.prototype.set=Xt;function zt(N){var W=-1,we=N==null?0:N.length;for(this.clear();++W<we;){var Ke=N[W];this.set(Ke[0],Ke[1])}}a(zt,"MapCache");function bt(){this.size=0,this.__data__={hash:new Je,map:new(mr||Nr),string:new Je}}a(bt,"mapCacheClear");function tr(N){var W=jr(this,N).delete(N);return this.size-=W?1:0,W}a(tr,"mapCacheDelete");function ar(N){return jr(this,N).get(N)}a(ar,"mapCacheGet");function pr(N){return jr(this,N).has(N)}a(pr,"mapCacheHas");function hr(N,W){var we=jr(this,N),Ke=we.size;return we.set(N,W),this.size+=we.size==Ke?0:1,this}a(hr,"mapCacheSet"),zt.prototype.clear=bt,zt.prototype.delete=tr,zt.prototype.get=ar,zt.prototype.has=pr,zt.prototype.set=hr;function Wr(N){var W=-1,we=N==null?0:N.length;for(this.__data__=new zt;++W<we;)this.add(N[W])}a(Wr,"SetCache");function Sr(N){return this.__data__.set(N,g),this}a(Sr,"setCacheAdd");function Rr(N){return this.__data__.has(N)}a(Rr,"setCacheHas"),Wr.prototype.add=Wr.prototype.push=Sr,Wr.prototype.has=Rr;function fr(N){var W=this.__data__=new Nr(N);this.size=W.size}a(fr,"Stack");function Lt(){this.__data__=new Nr,this.size=0}a(Lt,"stackClear");function rr(N){var W=this.__data__,we=W.delete(N);return this.size=W.size,we}a(rr,"stackDelete");function er(N){return this.__data__.get(N)}a(er,"stackGet");function _r(N){return this.__data__.has(N)}a(_r,"stackHas");function Kt(N,W){var we=this.__data__;if(we instanceof Nr){var Ke=we.__data__;if(!mr||Ke.length<p-1)return Ke.push([N,W]),this.size=++we.size,this;we=this.__data__=new zt(Ke)}return we.set(N,W),this.size=we.size,this}a(Kt,"stackSet"),fr.prototype.clear=Lt,fr.prototype.delete=rr,fr.prototype.get=er,fr.prototype.has=_r,fr.prototype.set=Kt;function sr(N,W){var we=dn(N),Ke=!we&&Sn(N),Tt=!we&&!Ke&&kn(N),ht=!we&&!Ke&&!Tt&&Cr(N),Ee=we||Ke||Tt||ht,Pe=Ee?pe(N.length,String):[],He=Pe.length;for(var tt in N)(W||v.call(N,tt))&&!(Ee&&(tt=="length"||Tt&&(tt=="offset"||tt=="parent")||ht&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||Hr(tt,He)))&&Pe.push(tt);return Pe}a(sr,"arrayLikeKeys");function vr(N,W){for(var we=N.length;we--;)if(ci(N[we][0],W))return we;return-1}a(vr,"assocIndexOf");function Tr(N,W,we){var Ke=W(N);return dn(N)?Ke:xe(Ke,we(N))}a(Tr,"baseGetAllKeys");function nr(N){return N==null?N===void 0?re:oe:nt&&nt in Object(N)?Kr(N):An(N)}a(nr,"baseGetTag");function xr(N){return On(N)&&nr(N)==C}a(xr,"baseIsArguments");function $r(N,W,we,Ke,Tt){return N===W?!0:N==null||W==null||!On(N)&&!On(W)?N!==N&&W!==W:Ar(N,W,we,Ke,$r,Tt)}a($r,"baseIsEqual");function Ar(N,W,we,Ke,Tt,ht){var Ee=dn(N),Pe=dn(W),He=Ee?f:nn(N),tt=Pe?f:nn(W);He=He==C?O:He,tt=tt==C?O:tt;var gt=He==O,wt=tt==O,Ut=He==tt;if(Ut&&kn(N)){if(!kn(W))return!1;Ee=!0,gt=!1}if(Ut&&!gt)return ht||(ht=new fr),Ee||Cr(N)?Vt(N,W,we,Ke,Tt,ht):Ot(N,W,He,we,Ke,Tt,ht);if(!(we&y)){var Mt=gt&&v.call(N,"__wrapped__"),qt=wt&&v.call(W,"__wrapped__");if(Mt||qt){var Yr=Mt?N.value():N,jt=qt?W.value():W;return ht||(ht=new fr),Tt(Yr,jt,we,Ke,ht)}}return Ut?(ht||(ht=new fr),Lr(N,W,we,Ke,Tt,ht)):!1}a(Ar,"baseIsEqualDeep");function zr(N){if(!qn(N)||wn(N))return!1;var W=Vn(N)?Ne:ee;return W.test(En(N))}a(zr,"baseIsNative");function Xe(N){return On(N)&&Dn(N.length)&&!!qe[nr(N)]}a(Xe,"baseIsTypedArray");function kr(N){if(!yn(N))return Qt(N);var W=[];for(var we in Object(N))v.call(N,we)&&we!="constructor"&&W.push(we);return W}a(kr,"baseKeys");function Vt(N,W,we,Ke,Tt,ht){var Ee=we&y,Pe=N.length,He=W.length;if(Pe!=He&&!(Ee&&He>Pe))return!1;var tt=ht.get(N);if(tt&&ht.get(W))return tt==W;var gt=-1,wt=!0,Ut=we&w?new Wr:void 0;for(ht.set(N,W),ht.set(W,N);++gt<Pe;){var Mt=N[gt],qt=W[gt];if(Ke)var Yr=Ee?Ke(qt,Mt,gt,W,N,ht):Ke(Mt,qt,gt,N,W,ht);if(Yr!==void 0){if(Yr)continue;wt=!1;break}if(Ut){if(!ke(W,function(jt,en){if(!We(Ut,en)&&(Mt===jt||Tt(Mt,jt,we,Ke,ht)))return Ut.push(en)})){wt=!1;break}}else if(!(Mt===qt||Tt(Mt,qt,we,Ke,ht))){wt=!1;break}}return ht.delete(N),ht.delete(W),wt}a(Vt,"equalArrays");function Ot(N,W,we,Ke,Tt,ht,Ee){switch(we){case Ce:if(N.byteLength!=W.byteLength||N.byteOffset!=W.byteOffset)return!1;N=N.buffer,W=W.buffer;case se:return!(N.byteLength!=W.byteLength||!ht(new Ft(N),new Ft(W)));case b:case _:case K:return ci(+N,+W);case x:return N.name==W.name&&N.message==W.message;case D:case j:return N==W+"";case q:var Pe=J;case P:var He=Ke&y;if(Pe||(Pe=Qe),N.size!=W.size&&!He)return!1;var tt=Ee.get(N);if(tt)return tt==W;Ke|=w,Ee.set(N,W);var gt=Vt(Pe(N),Pe(W),Ke,Tt,ht,Ee);return Ee.delete(N),gt;case X:if(ce)return ce.call(N)==ce.call(W)}return!1}a(Ot,"equalByTag");function Lr(N,W,we,Ke,Tt,ht){var Ee=we&y,Pe=Tn(N),He=Pe.length,tt=Tn(W),gt=tt.length;if(He!=gt&&!Ee)return!1;for(var wt=He;wt--;){var Ut=Pe[wt];if(!(Ee?Ut in W:v.call(W,Ut)))return!1}var Mt=ht.get(N);if(Mt&&ht.get(W))return Mt==W;var qt=!0;ht.set(N,W),ht.set(W,N);for(var Yr=Ee;++wt<He;){Ut=Pe[wt];var jt=N[Ut],en=W[Ut];if(Ke)var Vr=Ee?Ke(en,jt,Ut,W,N,ht):Ke(jt,en,Ut,N,W,ht);if(!(Vr===void 0?jt===en||Tt(jt,en,we,Ke,ht):Vr)){qt=!1;break}Yr||(Yr=Ut=="constructor")}if(qt&&!Yr){var tn=N.constructor,bn=W.constructor;tn!=bn&&"constructor"in N&&"constructor"in W&&!(typeof tn=="function"&&tn instanceof tn&&typeof bn=="function"&&bn instanceof bn)&&(qt=!1)}return ht.delete(N),ht.delete(W),qt}a(Lr,"equalObjects");function Tn(N){return Tr(N,Mr,$n)}a(Tn,"getAllKeys");function jr(N,W){var we=N.__data__;return Yn(W)?we[typeof W=="string"?"string":"hash"]:we.map}a(jr,"getMapData");function rn(N,W){var we=U(N,W);return zr(we)?we:void 0}a(rn,"getNative");function Kr(N){var W=v.call(N,nt),we=N[nt];try{N[nt]=void 0;var Ke=!0}catch(ht){}var Tt=de.call(N);return Ke&&(W?N[nt]=we:delete N[nt]),Tt}a(Kr,"getRawTag");var $n=Jt?function(N){return N==null?[]:(N=Object(N),Te(Jt(N),function(W){return vt.call(N,W)}))}:br,nn=nr;(Yt&&nn(new Yt(new ArrayBuffer(1)))!=Ce||mr&&nn(new mr)!=q||Dr&&nn(Dr.resolve())!=z||Cn&&nn(new Cn)!=P||Jr&&nn(new Jr)!=ne)&&(nn=a(function(N){var W=nr(N),we=W==O?N.constructor:void 0,Ke=we?En(we):"";if(Ke)switch(Ke){case Un:return Ce;case _n:return q;case Gn:return z;case Nn:return P;case Fn:return ne}return W},"getTag"));function Hr(N,W){return W=W==null?F:W,!!W&&(typeof N=="number"||ut.test(N))&&N>-1&&N%1==0&&N<W}a(Hr,"isIndex");function Yn(N){var W=typeof N;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?N!=="__proto__":N===null}a(Yn,"isKeyable");function wn(N){return!!Q&&Q in N}a(wn,"isMasked");function yn(N){var W=N&&N.constructor,we=typeof W=="function"&&W.prototype||it;return N===we}a(yn,"isPrototype");function An(N){return de.call(N)}a(An,"objectToString");function En(N){if(N!=null){try{return d.call(N)}catch(W){}try{return N+""}catch(W){}}return""}a(En,"toSource");function ci(N,W){return N===W||N!==N&&W!==W}a(ci,"eq");var Sn=xr(function(){return arguments}())?xr:function(N){return On(N)&&v.call(N,"callee")&&!vt.call(N,"callee")},dn=Array.isArray;function Pn(N){return N!=null&&Dn(N.length)&&!Vn(N)}a(Pn,"isArrayLike");var kn=ir||Ae;function ni(N,W){return $r(N,W)}a(ni,"isEqual");function Vn(N){if(!qn(N))return!1;var W=nr(N);return W==M||W==R||W==E||W==$}a(Vn,"isFunction");function Dn(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=F}a(Dn,"isLength");function qn(N){var W=typeof N;return N!=null&&(W=="object"||W=="function")}a(qn,"isObject");function On(N){return N!=null&&typeof N=="object"}a(On,"isObjectLike");var Cr=Re?ct(Re):Xe;function Mr(N){return Pn(N)?sr(N):kr(N)}a(Mr,"keys");function br(){return[]}a(br,"stubArray");function Ae(){return!1}a(Ae,"stubFalse"),fe.exports=ni},919:(fe,u,S)=>{"use strict";const p=S(6391),g=S(6232),y=S(6796),w=S(292),F=a(f=>f===""||f==="./","isEmptyString"),C=a((f,E,b)=>{E=[].concat(E),f=[].concat(f);let _=new Set,x=new Set,M=new Set,R=0,q=a(O=>{M.add(O.output),b&&b.onResult&&b.onResult(O)},"onResult");for(let O=0;O<E.length;O++){let z=y(String(E[O]),{...b,onResult:q},!0),$=z.state.negated||z.state.negatedExtglob;$&&R++;for(let D of f){let P=z(D,!0);!($?!P.isMatch:P.isMatch)||($?_.add(P.output):(_.delete(P.output),x.add(P.output)))}}let oe=(R===E.length?[...M]:[...x]).filter(O=>!_.has(O));if(b&&oe.length===0){if(b.failglob===!0)throw new Error(`No matches found for "${E.join(", ")}"`);if(b.nonull===!0||b.nullglob===!0)return b.unescape?E.map(O=>O.replace(/\\/g,"")):E}return oe},"micromatch");C.match=C,C.matcher=(f,E)=>y(f,E),C.isMatch=(f,E,b)=>y(E,b)(f),C.any=C.isMatch,C.not=(f,E,b={})=>{E=[].concat(E).map(String);let _=new Set,x=[],M=a(q=>{b.onResult&&b.onResult(q),x.push(q.output)},"onResult"),R=new Set(C(f,E,{...b,onResult:M}));for(let q of x)R.has(q)||_.add(q);return[..._]},C.contains=(f,E,b)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${p.inspect(f)}"`);if(Array.isArray(E))return E.some(_=>C.contains(f,_,b));if(typeof E=="string"){if(F(f)||F(E))return!1;if(f.includes(E)||f.startsWith("./")&&f.slice(2).includes(E))return!0}return C.isMatch(f,E,{...b,contains:!0})},C.matchKeys=(f,E,b)=>{if(!w.isObject(f))throw new TypeError("Expected the first argument to be an object");let _=C(Object.keys(f),E,b),x={};for(let M of _)x[M]=f[M];return x},C.some=(f,E,b)=>{let _=[].concat(f);for(let x of[].concat(E)){let M=y(String(x),b);if(_.some(R=>M(R)))return!0}return!1},C.every=(f,E,b)=>{let _=[].concat(f);for(let x of[].concat(E)){let M=y(String(x),b);if(!_.every(R=>M(R)))return!1}return!0},C.all=(f,E,b)=>{if(typeof f!="string")throw new TypeError(`Expected a string: "${p.inspect(f)}"`);return[].concat(E).every(_=>y(_,b)(f))},C.capture=(f,E,b)=>{let _=w.isWindows(b),M=y.makeRe(String(f),{...b,capture:!0}).exec(_?w.toPosixSlashes(E):E);if(M)return M.slice(1).map(R=>R===void 0?"":R)},C.makeRe=(...f)=>y.makeRe(...f),C.scan=(...f)=>y.scan(...f),C.parse=(f,E)=>{let b=[];for(let _ of[].concat(f||[]))for(let x of g(String(_),E))b.push(y.parse(x,E));return b},C.braces=(f,E)=>{if(typeof f!="string")throw new TypeError("Expected a string");return E&&E.nobrace===!0||!/\{.*\}/.test(f)?[f]:g(f,E)},C.braceExpand=(f,E)=>{if(typeof f!="string")throw new TypeError("Expected a string");return C.braces(f,{...E,expand:!0})},fe.exports=C},6796:(fe,u,S)=>{"use strict";fe.exports=S(5761)},3889:(fe,u,S)=>{"use strict";const p=S(6470),g="\\\\/",y=`[^${g}]`,w="\\.",F="\\+",C="\\?",f="\\/",E="(?=.)",b="[^/]",_=`(?:${f}|$)`,x=`(?:^|${f})`,M=`${w}{1,2}${_}`,R=`(?!${w})`,q=`(?!${x}${M})`,K=`(?!${w}{0,1}${_})`,oe=`(?!${M})`,O=`[^.${f}]`,z=`${b}*?`,$={DOT_LITERAL:w,PLUS_LITERAL:F,QMARK_LITERAL:C,SLASH_LITERAL:f,ONE_CHAR:E,QMARK:b,END_ANCHOR:_,DOTS_SLASH:M,NO_DOT:R,NO_DOTS:q,NO_DOT_SLASH:K,NO_DOTS_SLASH:oe,QMARK_NO_DOT:O,STAR:z,START_ANCHOR:x},D={...$,SLASH_LITERAL:`[${g}]`,QMARK:y,STAR:`${y}*?`,DOTS_SLASH:`${w}{1,2}(?:[${g}]|$)`,NO_DOT:`(?!${w})`,NO_DOTS:`(?!(?:^|[${g}])${w}{1,2}(?:[${g}]|$))`,NO_DOT_SLASH:`(?!${w}{0,1}(?:[${g}]|$))`,NO_DOTS_SLASH:`(?!${w}{1,2}(?:[${g}]|$))`,QMARK_NO_DOT:`[^.${g}]`,START_ANCHOR:`(?:^|[${g}])`,END_ANCHOR:`(?:[${g}]|$)`},P={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fe.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:P,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:p.sep,extglobChars(j){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${j.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(j){return j===!0?D:$}}},3969:(fe,u,S)=>{"use strict";const p=S(3889),g=S(292),{MAX_LENGTH:y,POSIX_REGEX_SOURCE:w,REGEX_NON_SPECIAL_CHARS:F,REGEX_SPECIAL_CHARS_BACKREF:C,REPLACEMENTS:f}=p,E=a((x,M)=>{if(typeof M.expandRange=="function")return M.expandRange(...x,M);x.sort();const R=`[${x.join("-")}]`;try{new RegExp(R)}catch(q){return x.map(K=>g.escapeRegex(K)).join("..")}return R},"expandRange"),b=a((x,M)=>`Missing ${x}: "${M}" - use "\\\\${M}" to match literal characters`,"syntaxError"),_=a((x,M)=>{if(typeof x!="string")throw new TypeError("Expected a string");x=f[x]||x;const R={...M},q=typeof R.maxLength=="number"?Math.min(y,R.maxLength):y;let K=x.length;if(K>q)throw new SyntaxError(`Input length: ${K}, exceeds maximum allowed length: ${q}`);const oe={type:"bos",value:"",output:R.prepend||""},O=[oe],z=R.capture?"":"?:",$=g.isWindows(M),D=p.globChars($),P=p.extglobChars(D),{DOT_LITERAL:j,PLUS_LITERAL:X,SLASH_LITERAL:re,ONE_CHAR:ne,DOTS_SLASH:se,NO_DOT:Ce,NO_DOT_SLASH:ie,NO_DOTS_SLASH:G,QMARK:ve,QMARK_NO_DOT:Me,STAR:Le,START_ANCHOR:le}=D,Y=a(U=>`(${z}(?:(?!${le}${U.dot?se:j}).)*?)`,"globstar"),_e=R.dot?"":Ce,Fe=R.dot?ve:Me;let Ie=R.bash===!0?Y(R):Le;R.capture&&(Ie=`(${Ie})`),typeof R.noext=="boolean"&&(R.noextglob=R.noext);const ee={input:x,index:-1,start:0,dot:R.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:O};x=g.removePrefix(x,ee),K=x.length;const ut=[],qe=[],Ze=[];let Z=oe,te;const ae=a(()=>ee.index===K-1,"eos"),me=ee.peek=(U=1)=>x[ee.index+U],Ge=ee.advance=()=>x[++ee.index]||"",st=a(()=>x.slice(ee.index+1),"remaining"),Se=a((U="",J=0)=>{ee.consumed+=U,ee.index+=J},"consume"),Re=a(U=>{ee.output+=U.output!=null?U.output:U.value,Se(U.value)},"append"),Te=a(()=>{let U=1;for(;me()==="!"&&(me(2)!=="("||me(3)==="?");)Ge(),ee.start++,U++;return U%2==0?!1:(ee.negated=!0,ee.start++,!0)},"negate"),xe=a(U=>{ee[U]++,Ze.push(U)},"increment"),ke=a(U=>{ee[U]--,Ze.pop()},"decrement"),pe=a(U=>{if(Z.type==="globstar"){const J=ee.braces>0&&(U.type==="comma"||U.type==="brace"),ge=U.extglob===!0||ut.length&&(U.type==="pipe"||U.type==="paren");U.type!=="slash"&&U.type!=="paren"&&!J&&!ge&&(ee.output=ee.output.slice(0,-Z.output.length),Z.type="star",Z.value="*",Z.output=Ie,ee.output+=Z.output)}if(ut.length&&U.type!=="paren"&&(ut[ut.length-1].inner+=U.value),(U.value||U.output)&&Re(U),Z&&Z.type==="text"&&U.type==="text"){Z.value+=U.value,Z.output=(Z.output||"")+U.value;return}U.prev=Z,O.push(U),Z=U},"push"),ct=a((U,J)=>{const ge={...P[J],conditions:1,inner:""};ge.prev=Z,ge.parens=ee.parens,ge.output=ee.output;const Qe=(R.capture?"(":"")+ge.open;xe("parens"),pe({type:U,value:J,output:ee.output?"":ne}),pe({type:"paren",extglob:!0,value:Ge(),output:Qe}),ut.push(ge)},"extglobOpen"),We=a(U=>{let J=U.close+(R.capture?")":""),ge;if(U.type==="negate"){let Qe=Ie;if(U.inner&&U.inner.length>1&&U.inner.includes("/")&&(Qe=Y(R)),(Qe!==Ie||ae()||/^\)+$/.test(st()))&&(J=U.close=`)$))${Qe}`),U.inner.includes("*")&&(ge=st())&&/^\.[^\\/.]+$/.test(ge)){const lt=_(ge,{...M,fastpaths:!1}).output;J=U.close=`)${lt})${Qe})`}U.prev.type==="bos"&&(ee.negatedExtglob=!0)}pe({type:"paren",extglob:!0,value:te,output:J}),ke("parens")},"extglobClose");if(R.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(x)){let U=!1,J=x.replace(C,(ge,Qe,lt,yt,it,A)=>yt==="\\"?(U=!0,ge):yt==="?"?Qe?Qe+yt+(it?ve.repeat(it.length):""):A===0?Fe+(it?ve.repeat(it.length):""):ve.repeat(lt.length):yt==="."?j.repeat(lt.length):yt==="*"?Qe?Qe+yt+(it?Ie:""):Ie:Qe?ge:`\\${ge}`);return U===!0&&(R.unescape===!0?J=J.replace(/\\/g,""):J=J.replace(/\\+/g,ge=>ge.length%2==0?"\\\\":ge?"\\":"")),J===x&&R.contains===!0?(ee.output=x,ee):(ee.output=g.wrapOutput(J,ee,M),ee)}for(;!ae();){if(te=Ge(),te==="\0")continue;if(te==="\\"){const ge=me();if(ge==="/"&&R.bash!==!0||ge==="."||ge===";")continue;if(!ge){te+="\\",pe({type:"text",value:te});continue}const Qe=/^\\+/.exec(st());let lt=0;if(Qe&&Qe[0].length>2&&(lt=Qe[0].length,ee.index+=lt,lt%2!=0&&(te+="\\")),R.unescape===!0?te=Ge():te+=Ge(),ee.brackets===0){pe({type:"text",value:te});continue}}if(ee.brackets>0&&(te!=="]"||Z.value==="["||Z.value==="[^")){if(R.posix!==!1&&te===":"){const ge=Z.value.slice(1);if(ge.includes("[")&&(Z.posix=!0,ge.includes(":"))){const Qe=Z.value.lastIndexOf("["),lt=Z.value.slice(0,Qe),yt=Z.value.slice(Qe+2),it=w[yt];if(it){Z.value=lt+it,ee.backtrack=!0,Ge(),!oe.output&&O.indexOf(Z)===1&&(oe.output=ne);continue}}}(te==="["&&me()!==":"||te==="-"&&me()==="]")&&(te=`\\${te}`),te==="]"&&(Z.value==="["||Z.value==="[^")&&(te=`\\${te}`),R.posix===!0&&te==="!"&&Z.value==="["&&(te="^"),Z.value+=te,Re({value:te});continue}if(ee.quotes===1&&te!=='"'){te=g.escapeRegex(te),Z.value+=te,Re({value:te});continue}if(te==='"'){ee.quotes=ee.quotes===1?0:1,R.keepQuotes===!0&&pe({type:"text",value:te});continue}if(te==="("){xe("parens"),pe({type:"paren",value:te});continue}if(te===")"){if(ee.parens===0&&R.strictBrackets===!0)throw new SyntaxError(b("opening","("));const ge=ut[ut.length-1];if(ge&&ee.parens===ge.parens+1){We(ut.pop());continue}pe({type:"paren",value:te,output:ee.parens?")":"\\)"}),ke("parens");continue}if(te==="["){if(R.nobracket===!0||!st().includes("]")){if(R.nobracket!==!0&&R.strictBrackets===!0)throw new SyntaxError(b("closing","]"));te=`\\${te}`}else xe("brackets");pe({type:"bracket",value:te});continue}if(te==="]"){if(R.nobracket===!0||Z&&Z.type==="bracket"&&Z.value.length===1){pe({type:"text",value:te,output:`\\${te}`});continue}if(ee.brackets===0){if(R.strictBrackets===!0)throw new SyntaxError(b("opening","["));pe({type:"text",value:te,output:`\\${te}`});continue}ke("brackets");const ge=Z.value.slice(1);if(Z.posix!==!0&&ge[0]==="^"&&!ge.includes("/")&&(te=`/${te}`),Z.value+=te,Re({value:te}),R.literalBrackets===!1||g.hasRegexChars(ge))continue;const Qe=g.escapeRegex(Z.value);if(ee.output=ee.output.slice(0,-Z.value.length),R.literalBrackets===!0){ee.output+=Qe,Z.value=Qe;continue}Z.value=`(${z}${Qe}|${Z.value})`,ee.output+=Z.value;continue}if(te==="{"&&R.nobrace!==!0){xe("braces");const ge={type:"brace",value:te,output:"(",outputIndex:ee.output.length,tokensIndex:ee.tokens.length};qe.push(ge),pe(ge);continue}if(te==="}"){const ge=qe[qe.length-1];if(R.nobrace===!0||!ge){pe({type:"text",value:te,output:te});continue}let Qe=")";if(ge.dots===!0){const lt=O.slice(),yt=[];for(let it=lt.length-1;it>=0&&(O.pop(),lt[it].type!=="brace");it--)lt[it].type!=="dots"&&yt.unshift(lt[it].value);Qe=E(yt,R),ee.backtrack=!0}if(ge.comma!==!0&&ge.dots!==!0){const lt=ee.output.slice(0,ge.outputIndex),yt=ee.tokens.slice(ge.tokensIndex);ge.value=ge.output="\\{",te=Qe="\\}",ee.output=lt;for(const it of yt)ee.output+=it.output||it.value}pe({type:"brace",value:te,output:Qe}),ke("braces"),qe.pop();continue}if(te==="|"){ut.length>0&&ut[ut.length-1].conditions++,pe({type:"text",value:te});continue}if(te===","){let ge=te;const Qe=qe[qe.length-1];Qe&&Ze[Ze.length-1]==="braces"&&(Qe.comma=!0,ge="|"),pe({type:"comma",value:te,output:ge});continue}if(te==="/"){if(Z.type==="dot"&&ee.index===ee.start+1){ee.start=ee.index+1,ee.consumed="",ee.output="",O.pop(),Z=oe;continue}pe({type:"slash",value:te,output:re});continue}if(te==="."){if(ee.braces>0&&Z.type==="dot"){Z.value==="."&&(Z.output=j);const ge=qe[qe.length-1];Z.type="dots",Z.output+=te,Z.value+=te,ge.dots=!0;continue}if(ee.braces+ee.parens===0&&Z.type!=="bos"&&Z.type!=="slash"){pe({type:"text",value:te,output:j});continue}pe({type:"dot",value:te,output:j});continue}if(te==="?"){if(!(Z&&Z.value==="(")&&R.noextglob!==!0&&me()==="("&&me(2)!=="?"){ct("qmark",te);continue}if(Z&&Z.type==="paren"){const Qe=me();let lt=te;if(Qe==="<"&&!g.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(Z.value==="("&&!/[!=<:]/.test(Qe)||Qe==="<"&&!/<([!=]|\w+>)/.test(st()))&&(lt=`\\${te}`),pe({type:"text",value:te,output:lt});continue}if(R.dot!==!0&&(Z.type==="slash"||Z.type==="bos")){pe({type:"qmark",value:te,output:Me});continue}pe({type:"qmark",value:te,output:ve});continue}if(te==="!"){if(R.noextglob!==!0&&me()==="("&&(me(2)!=="?"||!/[!=<:]/.test(me(3)))){ct("negate",te);continue}if(R.nonegate!==!0&&ee.index===0){Te();continue}}if(te==="+"){if(R.noextglob!==!0&&me()==="("&&me(2)!=="?"){ct("plus",te);continue}if(Z&&Z.value==="("||R.regex===!1){pe({type:"plus",value:te,output:X});continue}if(Z&&(Z.type==="bracket"||Z.type==="paren"||Z.type==="brace")||ee.parens>0){pe({type:"plus",value:te});continue}pe({type:"plus",value:X});continue}if(te==="@"){if(R.noextglob!==!0&&me()==="("&&me(2)!=="?"){pe({type:"at",extglob:!0,value:te,output:""});continue}pe({type:"text",value:te});continue}if(te!=="*"){(te==="$"||te==="^")&&(te=`\\${te}`);const ge=F.exec(st());ge&&(te+=ge[0],ee.index+=ge[0].length),pe({type:"text",value:te});continue}if(Z&&(Z.type==="globstar"||Z.star===!0)){Z.type="star",Z.star=!0,Z.value+=te,Z.output=Ie,ee.backtrack=!0,ee.globstar=!0,Se(te);continue}let U=st();if(R.noextglob!==!0&&/^\([^?]/.test(U)){ct("star",te);continue}if(Z.type==="star"){if(R.noglobstar===!0){Se(te);continue}const ge=Z.prev,Qe=ge.prev,lt=ge.type==="slash"||ge.type==="bos",yt=Qe&&(Qe.type==="star"||Qe.type==="globstar");if(R.bash===!0&&(!lt||U[0]&&U[0]!=="/")){pe({type:"star",value:te,output:""});continue}const it=ee.braces>0&&(ge.type==="comma"||ge.type==="brace"),A=ut.length&&(ge.type==="pipe"||ge.type==="paren");if(!lt&&ge.type!=="paren"&&!it&&!A){pe({type:"star",value:te,output:""});continue}for(;U.slice(0,3)==="/**";){const d=x[ee.index+4];if(d&&d!=="/")break;U=U.slice(3),Se("/**",3)}if(ge.type==="bos"&&ae()){Z.type="globstar",Z.value+=te,Z.output=Y(R),ee.output=Z.output,ee.globstar=!0,Se(te);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&!yt&&ae()){ee.output=ee.output.slice(0,-(ge.output+Z.output).length),ge.output=`(?:${ge.output}`,Z.type="globstar",Z.output=Y(R)+(R.strictSlashes?")":"|$)"),Z.value+=te,ee.globstar=!0,ee.output+=ge.output+Z.output,Se(te);continue}if(ge.type==="slash"&&ge.prev.type!=="bos"&&U[0]==="/"){const d=U[1]!==void 0?"|$":"";ee.output=ee.output.slice(0,-(ge.output+Z.output).length),ge.output=`(?:${ge.output}`,Z.type="globstar",Z.output=`${Y(R)}${re}|${re}${d})`,Z.value+=te,ee.output+=ge.output+Z.output,ee.globstar=!0,Se(te+Ge()),pe({type:"slash",value:"/",output:""});continue}if(ge.type==="bos"&&U[0]==="/"){Z.type="globstar",Z.value+=te,Z.output=`(?:^|${re}|${Y(R)}${re})`,ee.output=Z.output,ee.globstar=!0,Se(te+Ge()),pe({type:"slash",value:"/",output:""});continue}ee.output=ee.output.slice(0,-Z.output.length),Z.type="globstar",Z.output=Y(R),Z.value+=te,ee.output+=Z.output,ee.globstar=!0,Se(te);continue}const J={type:"star",value:te,output:Ie};if(R.bash===!0){J.output=".*?",(Z.type==="bos"||Z.type==="slash")&&(J.output=_e+J.output),pe(J);continue}if(Z&&(Z.type==="bracket"||Z.type==="paren")&&R.regex===!0){J.output=te,pe(J);continue}(ee.index===ee.start||Z.type==="slash"||Z.type==="dot")&&(Z.type==="dot"?(ee.output+=ie,Z.output+=ie):R.dot===!0?(ee.output+=G,Z.output+=G):(ee.output+=_e,Z.output+=_e),me()!=="*"&&(ee.output+=ne,Z.output+=ne)),pe(J)}for(;ee.brackets>0;){if(R.strictBrackets===!0)throw new SyntaxError(b("closing","]"));ee.output=g.escapeLast(ee.output,"["),ke("brackets")}for(;ee.parens>0;){if(R.strictBrackets===!0)throw new SyntaxError(b("closing",")"));ee.output=g.escapeLast(ee.output,"("),ke("parens")}for(;ee.braces>0;){if(R.strictBrackets===!0)throw new SyntaxError(b("closing","}"));ee.output=g.escapeLast(ee.output,"{"),ke("braces")}if(R.strictSlashes!==!0&&(Z.type==="star"||Z.type==="bracket")&&pe({type:"maybe_slash",value:"",output:`${re}?`}),ee.backtrack===!0){ee.output="";for(const U of ee.tokens)ee.output+=U.output!=null?U.output:U.value,U.suffix&&(ee.output+=U.suffix)}return ee},"parse");_.fastpaths=(x,M)=>{const R={...M},q=typeof R.maxLength=="number"?Math.min(y,R.maxLength):y,K=x.length;if(K>q)throw new SyntaxError(`Input length: ${K}, exceeds maximum allowed length: ${q}`);x=f[x]||x;const oe=g.isWindows(M),{DOT_LITERAL:O,SLASH_LITERAL:z,ONE_CHAR:$,DOTS_SLASH:D,NO_DOT:P,NO_DOTS:j,NO_DOTS_SLASH:X,STAR:re,START_ANCHOR:ne}=p.globChars(oe),se=R.dot?j:P,Ce=R.dot?X:P,ie=R.capture?"":"?:",G={negated:!1,prefix:""};let ve=R.bash===!0?".*?":re;R.capture&&(ve=`(${ve})`);const Me=a(_e=>_e.noglobstar===!0?ve:`(${ie}(?:(?!${ne}${_e.dot?D:O}).)*?)`,"globstar"),Le=a(_e=>{switch(_e){case"*":return`${se}${$}${ve}`;case".*":return`${O}${$}${ve}`;case"*.*":return`${se}${ve}${O}${$}${ve}`;case"*/*":return`${se}${ve}${z}${$}${Ce}${ve}`;case"**":return se+Me(R);case"**/*":return`(?:${se}${Me(R)}${z})?${Ce}${$}${ve}`;case"**/*.*":return`(?:${se}${Me(R)}${z})?${Ce}${ve}${O}${$}${ve}`;case"**/.*":return`(?:${se}${Me(R)}${z})?${O}${$}${ve}`;default:{const Fe=/^(.*?)\.(\w+)$/.exec(_e);if(!Fe)return;const Ie=Le(Fe[1]);return Ie?Ie+O+Fe[2]:void 0}}},"create"),le=g.removePrefix(x,G);let Y=Le(le);return Y&&R.strictSlashes!==!0&&(Y+=`${z}?`),Y},fe.exports=_},5761:(fe,u,S)=>{"use strict";const p=S(6470),g=S(9826),y=S(3969),w=S(292),F=S(3889),C=a(E=>E&&typeof E=="object"&&!Array.isArray(E),"isObject"),f=a((E,b,_=!1)=>{if(Array.isArray(E)){const z=E.map(D=>f(D,b,_));return a(D=>{for(const P of z){const j=P(D);if(j)return j}return!1},"arrayMatcher")}const x=C(E)&&E.tokens&&E.input;if(E===""||typeof E!="string"&&!x)throw new TypeError("Expected pattern to be a non-empty string");const M=b||{},R=w.isWindows(b),q=x?f.compileRe(E,b):f.makeRe(E,b,!1,!0),K=q.state;delete q.state;let oe=a(()=>!1,"isIgnored");if(M.ignore){const z={...b,ignore:null,onMatch:null,onResult:null};oe=f(M.ignore,z,_)}const O=a((z,$=!1)=>{const{isMatch:D,match:P,output:j}=f.test(z,q,b,{glob:E,posix:R}),X={glob:E,state:K,regex:q,posix:R,input:z,output:j,match:P,isMatch:D};return typeof M.onResult=="function"&&M.onResult(X),D===!1?(X.isMatch=!1,$?X:!1):oe(z)?(typeof M.onIgnore=="function"&&M.onIgnore(X),X.isMatch=!1,$?X:!1):(typeof M.onMatch=="function"&&M.onMatch(X),$?X:!0)},"matcher");return _&&(O.state=K),O},"picomatch");f.test=(E,b,_,{glob:x,posix:M}={})=>{if(typeof E!="string")throw new TypeError("Expected input to be a string");if(E==="")return{isMatch:!1,output:""};const R=_||{},q=R.format||(M?w.toPosixSlashes:null);let K=E===x,oe=K&&q?q(E):E;return K===!1&&(oe=q?q(E):E,K=oe===x),(K===!1||R.capture===!0)&&(R.matchBase===!0||R.basename===!0?K=f.matchBase(E,b,_,M):K=b.exec(oe)),{isMatch:Boolean(K),match:K,output:oe}},f.matchBase=(E,b,_,x=w.isWindows(_))=>(b instanceof RegExp?b:f.makeRe(b,_)).test(p.basename(E)),f.isMatch=(E,b,_)=>f(b,_)(E),f.parse=(E,b)=>Array.isArray(E)?E.map(_=>f.parse(_,b)):y(E,{...b,fastpaths:!1}),f.scan=(E,b)=>g(E,b),f.compileRe=(E,b,_=!1,x=!1)=>{if(_===!0)return E.output;const M=b||{},R=M.contains?"":"^",q=M.contains?"":"$";let K=`${R}(?:${E.output})${q}`;E&&E.negated===!0&&(K=`^(?!${K}).*$`);const oe=f.toRegex(K,b);return x===!0&&(oe.state=E),oe},f.makeRe=(E,b={},_=!1,x=!1)=>{if(!E||typeof E!="string")throw new TypeError("Expected a non-empty string");let M={negated:!1,fastpaths:!0};return b.fastpaths!==!1&&(E[0]==="."||E[0]==="*")&&(M.output=y.fastpaths(E,b)),M.output||(M=y(E,b)),f.compileRe(M,b,_,x)},f.toRegex=(E,b)=>{try{const _=b||{};return new RegExp(E,_.flags||(_.nocase?"i":""))}catch(_){if(b&&b.debug===!0)throw _;return/$^/}},f.constants=F,fe.exports=f},9826:(fe,u,S)=>{"use strict";const p=S(292),{CHAR_ASTERISK:g,CHAR_AT:y,CHAR_BACKWARD_SLASH:w,CHAR_COMMA:F,CHAR_DOT:C,CHAR_EXCLAMATION_MARK:f,CHAR_FORWARD_SLASH:E,CHAR_LEFT_CURLY_BRACE:b,CHAR_LEFT_PARENTHESES:_,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_PLUS:M,CHAR_QUESTION_MARK:R,CHAR_RIGHT_CURLY_BRACE:q,CHAR_RIGHT_PARENTHESES:K,CHAR_RIGHT_SQUARE_BRACKET:oe}=S(3889),O=a(D=>D===E||D===w,"isPathSeparator"),z=a(D=>{D.isPrefix!==!0&&(D.depth=D.isGlobstar?1/0:1)},"depth"),$=a((D,P)=>{const j=P||{},X=D.length-1,re=j.parts===!0||j.scanToEnd===!0,ne=[],se=[],Ce=[];let ie=D,G=-1,ve=0,Me=0,Le=!1,le=!1,Y=!1,_e=!1,Fe=!1,Ie=!1,ee=!1,ut=!1,qe=!1,Ze=!1,Z=0,te,ae,me={value:"",depth:0,isGlob:!1};const Ge=a(()=>G>=X,"eos"),st=a(()=>ie.charCodeAt(G+1),"peek"),Se=a(()=>(te=ae,ie.charCodeAt(++G)),"advance");for(;G<X;){ae=Se();let pe;if(ae===w){ee=me.backslashes=!0,ae=Se(),ae===b&&(Ie=!0);continue}if(Ie===!0||ae===b){for(Z++;Ge()!==!0&&(ae=Se());){if(ae===w){ee=me.backslashes=!0,Se();continue}if(ae===b){Z++;continue}if(Ie!==!0&&ae===C&&(ae=Se())===C){if(Le=me.isBrace=!0,Y=me.isGlob=!0,Ze=!0,re===!0)continue;break}if(Ie!==!0&&ae===F){if(Le=me.isBrace=!0,Y=me.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===q&&(Z--,Z===0)){Ie=!1,Le=me.isBrace=!0,Ze=!0;break}}if(re===!0)continue;break}if(ae===E){if(ne.push(G),se.push(me),me={value:"",depth:0,isGlob:!1},Ze===!0)continue;if(te===C&&G===ve+1){ve+=2;continue}Me=G+1;continue}if(j.noext!==!0&&(ae===M||ae===y||ae===g||ae===R||ae===f)===!0&&st()===_){if(Y=me.isGlob=!0,_e=me.isExtglob=!0,Ze=!0,ae===f&&G===ve&&(qe=!0),re===!0){for(;Ge()!==!0&&(ae=Se());){if(ae===w){ee=me.backslashes=!0,ae=Se();continue}if(ae===K){Y=me.isGlob=!0,Ze=!0;break}}continue}break}if(ae===g){if(te===g&&(Fe=me.isGlobstar=!0),Y=me.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===R){if(Y=me.isGlob=!0,Ze=!0,re===!0)continue;break}if(ae===x){for(;Ge()!==!0&&(pe=Se());){if(pe===w){ee=me.backslashes=!0,Se();continue}if(pe===oe){le=me.isBracket=!0,Y=me.isGlob=!0,Ze=!0;break}}if(re===!0)continue;break}if(j.nonegate!==!0&&ae===f&&G===ve){ut=me.negated=!0,ve++;continue}if(j.noparen!==!0&&ae===_){if(Y=me.isGlob=!0,re===!0){for(;Ge()!==!0&&(ae=Se());){if(ae===_){ee=me.backslashes=!0,ae=Se();continue}if(ae===K){Ze=!0;break}}continue}break}if(Y===!0){if(Ze=!0,re===!0)continue;break}}j.noext===!0&&(_e=!1,Y=!1);let Re=ie,Te="",xe="";ve>0&&(Te=ie.slice(0,ve),ie=ie.slice(ve),Me-=ve),Re&&Y===!0&&Me>0?(Re=ie.slice(0,Me),xe=ie.slice(Me)):Y===!0?(Re="",xe=ie):Re=ie,Re&&Re!==""&&Re!=="/"&&Re!==ie&&O(Re.charCodeAt(Re.length-1))&&(Re=Re.slice(0,-1)),j.unescape===!0&&(xe&&(xe=p.removeBackslashes(xe)),Re&&ee===!0&&(Re=p.removeBackslashes(Re)));const ke={prefix:Te,input:D,start:ve,base:Re,glob:xe,isBrace:Le,isBracket:le,isGlob:Y,isExtglob:_e,isGlobstar:Fe,negated:ut,negatedExtglob:qe};if(j.tokens===!0&&(ke.maxDepth=0,O(ae)||se.push(me),ke.tokens=se),j.parts===!0||j.tokens===!0){let pe;for(let ct=0;ct<ne.length;ct++){const We=pe?pe+1:ve,U=ne[ct],J=D.slice(We,U);j.tokens&&(ct===0&&ve!==0?(se[ct].isPrefix=!0,se[ct].value=Te):se[ct].value=J,z(se[ct]),ke.maxDepth+=se[ct].depth),(ct!==0||J!=="")&&Ce.push(J),pe=U}if(pe&&pe+1<D.length){const ct=D.slice(pe+1);Ce.push(ct),j.tokens&&(se[se.length-1].value=ct,z(se[se.length-1]),ke.maxDepth+=se[se.length-1].depth)}ke.slashes=ne,ke.parts=Ce}return ke},"scan");fe.exports=$},292:(fe,u,S)=>{"use strict";var p=S(6038);const g=S(6470),y=p.platform==="win32",{REGEX_BACKSLASH:w,REGEX_REMOVE_BACKSLASH:F,REGEX_SPECIAL_CHARS:C,REGEX_SPECIAL_CHARS_GLOBAL:f}=S(3889);u.isObject=E=>E!==null&&typeof E=="object"&&!Array.isArray(E),u.hasRegexChars=E=>C.test(E),u.isRegexChar=E=>E.length===1&&u.hasRegexChars(E),u.escapeRegex=E=>E.replace(f,"\\$1"),u.toPosixSlashes=E=>E.replace(w,"/"),u.removeBackslashes=E=>E.replace(F,b=>b==="\\"?"":b),u.supportsLookbehinds=()=>{const E=p.version.slice(1).split(".").map(Number);return E.length===3&&E[0]>=9||E[0]===8&&E[1]>=10},u.isWindows=E=>E&&typeof E.windows=="boolean"?E.windows:y===!0||g.sep==="\\",u.escapeLast=(E,b,_)=>{const x=E.lastIndexOf(b,_);return x===-1?E:E[x-1]==="\\"?u.escapeLast(E,b,x-1):`${E.slice(0,x)}\\${E.slice(x)}`},u.removePrefix=(E,b={})=>{let _=E;return _.startsWith("./")&&(_=_.slice(2),b.prefix="./"),_},u.wrapOutput=(E,b={},_={})=>{const x=_.contains?"":"^",M=_.contains?"":"$";let R=`${x}(?:${E})${M}`;return b.negated===!0&&(R=`(?:^(?!${R}).*$)`),R}},6038:fe=>{var u=fe.exports={},S,p;function g(){throw new Error("setTimeout has not been defined")}a(g,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?S=setTimeout:S=g}catch(q){S=g}try{typeof clearTimeout=="function"?p=clearTimeout:p=y}catch(q){p=y}}();function w(q){if(S===setTimeout)return setTimeout(q,0);if((S===g||!S)&&setTimeout)return S=setTimeout,setTimeout(q,0);try{return S(q,0)}catch(K){try{return S.call(null,q,0)}catch(oe){return S.call(this,q,0)}}}a(w,"runTimeout");function F(q){if(p===clearTimeout)return clearTimeout(q);if((p===y||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(q);try{return p(q)}catch(K){try{return p.call(null,q)}catch(oe){return p.call(this,q)}}}a(F,"runClearTimeout");var C=[],f=!1,E,b=-1;function _(){!f||!E||(f=!1,E.length?C=E.concat(C):b=-1,C.length&&x())}a(_,"cleanUpNextTick");function x(){if(!f){var q=w(_);f=!0;for(var K=C.length;K;){for(E=C,C=[];++b<K;)E&&E[b].run();b=-1,K=C.length}E=null,f=!1,F(q)}}a(x,"drainQueue"),u.nextTick=function(q){var K=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)K[oe-1]=arguments[oe];C.push(new M(q,K)),C.length===1&&!f&&w(x)};function M(q,K){this.fun=q,this.array=K}a(M,"Item"),M.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function R(){}a(R,"noop"),u.on=R,u.addListener=R,u.once=R,u.off=R,u.removeListener=R,u.removeAllListeners=R,u.emit=R,u.prependListener=R,u.prependOnceListener=R,u.listeners=function(q){return[]},u.binding=function(q){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(q){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},5431:(fe,u,S)=>{"use strict";fe.exports=S(7905)},7905:(fe,u,S)=>{"use strict";var p=S(1417);function g(){return!0}a(g,"_toTrue");function y(){return!1}a(y,"_toFalse");function w(K){return K.then(g,y)}a(w,"pSuccess");function F(K){return K}a(F,"_pass");function C(K){throw K}a(C,"_throw");function f(K){return K.then(F,C)}a(f,"ensurePromise");function E(K,oe){return{result:K,args:oe,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(E,"createCacheObj");function b(K,oe){!K[oe]||(clearTimeout(K[oe].expire_id),clearTimeout(K[oe].prefetch_id),delete K[oe])}a(b,"destroyCacheObj");function _(K,oe){!K[oe]||(K[oe].need_prefetch=!0)}a(_,"askPrefetch");function x(K){var oe=K[0],O=K[1],z=K[2],$=K[3];if(!!O[z]){if(oe){if(!$.maxAge)return;O[z].expire_id=setTimeout(b,$.maxAge,O,z),O[z].prefetch_id=setTimeout(_,$.maxAge*.7,O,z),O[z].expire_id.unref&&O[z].expire_id.unref(),O[z].prefetch_id.unref&&O[z].prefetch_id.unref();return}if(!$.maxErrorAge){b(O,z);return}O[z].expire_id=setTimeout(b,$.maxErrorAge,O,z),O[z].expire_id.unref&&O[z].expire_id.unref()}}a(x,"_track_proceed");function M(K,oe,O){var z=K[oe].result.constructor;z.all([w(K[oe].result),K,oe,O]).then(x)}a(M,"trackCacheObj");function R(K){var oe=K[0],O=K[1],z=K[2],$=K[3],D=K[4][0];!O[z]||!oe||(O[z].result=D,clearTimeout(O[z].expire_id),M(O,z,$))}a(R,"_prefetch_proceed");function q(K,oe,O){var z=f(O.fn.apply(null,K[oe].args)),$=z.constructor;K[oe].need_prefetch=!1,$.all([w(z),K,oe,O,[z]]).then(R)}a(q,"doPrefetch"),fe.exports=a(function(oe,O){var z={},$=O||{},D=p($.resolve),P={fn:oe,maxAge:$.maxAge||0,maxErrorAge:$.maxErrorAge||0};function j(){for(var X=new Array(arguments.length),re=0;re<X.length;re++)X[re]=arguments[re];var ne=D(X);return z[ne]?z[ne].need_prefetch&&q(z,ne,P):(z[ne]=E(f(P.fn.apply(null,X)),P.maxAge||P.maxErrorAge?X:null),M(z,ne,P)),z[ne].result}return a(j,"memoizedFn"),j.clear=function(){var X=Object.keys(z);return X.forEach(function(re){b(z,re)}),X.length},j},"promiseMemoize")},1417:fe=>{"use strict";var u={simple:function(p){return p.length?p.join(""):""},json:function(p){if(!p.length)return"";for(var g=[],y=p.length-1;y>=0;y--)g.push(JSON.stringify(p[y]));return g.join("")}};function S(p){return p.forEach(function(g){if(typeof g=="string"&&!u.hasOwnProperty(g))throw new Error('promise-memoize: unknown value "'+g+'" in resolve option')}),function(g){var y=Math.min(p.length,g.length);if(!y)return"";for(var w=[],F=0;F<y;F++)typeof p[F]=="string"?w.push(u[p[F]]([g[F]])):w.push(p[F](g[F]));return w.join("")}}a(S,"createFlexResolver"),fe.exports=a(function(g){if(typeof g=="undefined")return u.simple;if(typeof g=="string"&&u.hasOwnProperty(g))return u[g];if(Array.isArray(g))return S(g);if(Object.prototype.toString.call(g)==="[object Function]")return g;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(fe,u,S)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const p=S(3338),g=a((O,z,$)=>{if(p(O)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(z===void 0||O===z)return String(O);if(p(z)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let D={relaxZeros:!0,...$};typeof D.strictZeros=="boolean"&&(D.relaxZeros=D.strictZeros===!1);let P=String(D.relaxZeros),j=String(D.shorthand),X=String(D.capture),re=String(D.wrap),ne=O+":"+z+"="+P+j+X+re;if(g.cache.hasOwnProperty(ne))return g.cache[ne].result;let se=Math.min(O,z),Ce=Math.max(O,z);if(Math.abs(se-Ce)===1){let Le=O+"|"+z;return D.capture?`(${Le})`:D.wrap===!1?Le:`(?:${Le})`}let ie=K(O)||K(z),G={min:O,max:z,a:se,b:Ce},ve=[],Me=[];if(ie&&(G.isPadded=ie,G.maxLen=String(G.max).length),se<0){let Le=Ce<0?Math.abs(Ce):1;Me=C(Le,Math.abs(se),G,D),se=G.a=0}return Ce>=0&&(ve=C(se,Ce,G,D)),G.negatives=Me,G.positives=ve,G.result=y(Me,ve,D),D.capture===!0?G.result=`(${G.result})`:D.wrap!==!1&&ve.length+Me.length>1&&(G.result=`(?:${G.result})`),g.cache[ne]=G,G.result},"toRegexRange");function y(O,z,$){let D=f(O,z,"-",!1,$)||[],P=f(z,O,"",!1,$)||[],j=f(O,z,"-?",!0,$)||[];return D.concat(j).concat(P).join("|")}a(y,"collatePatterns");function w(O,z){let $=1,D=1,P=x(O,$),j=new Set([z]);for(;O<=P&&P<=z;)j.add(P),$+=1,P=x(O,$);for(P=M(z+1,D)-1;O<P&&P<=z;)j.add(P),D+=1,P=M(z+1,D)-1;return j=[...j],j.sort(b),j}a(w,"splitToRanges");function F(O,z,$){if(O===z)return{pattern:O,count:[],digits:0};let D=E(O,z),P=D.length,j="",X=0;for(let re=0;re<P;re++){let[ne,se]=D[re];ne===se?j+=ne:ne!=="0"||se!=="9"?j+=q(ne,se,$):X++}return X&&(j+=$.shorthand===!0?"\\d":"[0-9]"),{pattern:j,count:[X],digits:P}}a(F,"rangeToPattern");function C(O,z,$,D){let P=w(O,z),j=[],X=O,re;for(let ne=0;ne<P.length;ne++){let se=P[ne],Ce=F(String(X),String(se),D),ie="";if(!$.isPadded&&re&&re.pattern===Ce.pattern){re.count.length>1&&re.count.pop(),re.count.push(Ce.count[0]),re.string=re.pattern+R(re.count),X=se+1;continue}$.isPadded&&(ie=oe(se,$,D)),Ce.string=ie+Ce.pattern+R(Ce.count),j.push(Ce),X=se+1,re=Ce}return j}a(C,"splitToPatterns");function f(O,z,$,D,P){let j=[];for(let X of O){let{string:re}=X;!D&&!_(z,"string",re)&&j.push($+re),D&&_(z,"string",re)&&j.push($+re)}return j}a(f,"filterPatterns");function E(O,z){let $=[];for(let D=0;D<O.length;D++)$.push([O[D],z[D]]);return $}a(E,"zip");function b(O,z){return O>z?1:z>O?-1:0}a(b,"compare");function _(O,z,$){return O.some(D=>D[z]===$)}a(_,"contains");function x(O,z){return Number(String(O).slice(0,-z)+"9".repeat(z))}a(x,"countNines");function M(O,z){return O-O%Math.pow(10,z)}a(M,"countZeros");function R(O){let[z=0,$=""]=O;return $||z>1?`{${z+($?","+$:"")}}`:""}a(R,"toQuantifier");function q(O,z,$){return`[${O}${z-O==1?"":"-"}${z}]`}a(q,"toCharacterClass");function K(O){return/^-?(0+)\d/.test(O)}a(K,"hasPadding");function oe(O,z,$){if(!z.isPadded)return O;let D=Math.abs(z.maxLen-String(O).length),P=$.relaxZeros!==!1;switch(D){case 0:return"";case 1:return P?"0?":"0";case 2:return P?"0{0,2}":"00";default:return P?`0{0,${D}}`:`0{${D}}`}}a(oe,"padZeros"),g.cache={},g.clearCache=()=>g.cache={},fe.exports=g},9742:(fe,u)=>{"use strict";u.byteLength=f,u.toByteArray=b,u.fromByteArray=M;for(var S=[],p=[],g=typeof Uint8Array!="undefined"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,F=y.length;w<F;++w)S[w]=y[w],p[y.charCodeAt(w)]=w;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function C(R){var q=R.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var K=R.indexOf("=");K===-1&&(K=q);var oe=K===q?0:4-K%4;return[K,oe]}a(C,"getLens");function f(R){var q=C(R),K=q[0],oe=q[1];return(K+oe)*3/4-oe}a(f,"byteLength");function E(R,q,K){return(q+K)*3/4-K}a(E,"_byteLength");function b(R){var q,K=C(R),oe=K[0],O=K[1],z=new g(E(R,oe,O)),$=0,D=O>0?oe-4:oe,P;for(P=0;P<D;P+=4)q=p[R.charCodeAt(P)]<<18|p[R.charCodeAt(P+1)]<<12|p[R.charCodeAt(P+2)]<<6|p[R.charCodeAt(P+3)],z[$++]=q>>16&255,z[$++]=q>>8&255,z[$++]=q&255;return O===2&&(q=p[R.charCodeAt(P)]<<2|p[R.charCodeAt(P+1)]>>4,z[$++]=q&255),O===1&&(q=p[R.charCodeAt(P)]<<10|p[R.charCodeAt(P+1)]<<4|p[R.charCodeAt(P+2)]>>2,z[$++]=q>>8&255,z[$++]=q&255),z}a(b,"toByteArray");function _(R){return S[R>>18&63]+S[R>>12&63]+S[R>>6&63]+S[R&63]}a(_,"tripletToBase64");function x(R,q,K){for(var oe,O=[],z=q;z<K;z+=3)oe=(R[z]<<16&16711680)+(R[z+1]<<8&65280)+(R[z+2]&255),O.push(_(oe));return O.join("")}a(x,"encodeChunk");function M(R){for(var q,K=R.length,oe=K%3,O=[],z=16383,$=0,D=K-oe;$<D;$+=z)O.push(x(R,$,$+z>D?D:$+z));return oe===1?(q=R[K-1],O.push(S[q>>2]+S[q<<4&63]+"==")):oe===2&&(q=(R[K-2]<<8)+R[K-1],O.push(S[q>>10]+S[q>>4&63]+S[q<<2&63]+"=")),O.join("")}a(M,"fromByteArray")},5186:(fe,u,S)=>{var p=S(3698),g=S(2505),y=S(6417),w=Function.bind,F=w.bind(w);function C(x,M,R){var q=F(y,null).apply(null,R?[M,R]:[M]);x.api={remove:q},x.remove=q,["before","error","after","wrap"].forEach(function(K){var oe=R?[M,K,R]:[M,K];x[K]=x.api[K]=F(g,null).apply(null,oe)})}a(C,"bindApi");function f(){var x="h",M={registry:{}},R=p.bind(null,M,x);return C(R,M,x),R}a(f,"HookSingular");function E(){var x={registry:{}},M=p.bind(null,x);return C(M,x),M}a(E,"HookCollection");var b=!1;function _(){return b||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),b=!0),E()}a(_,"Hook"),_.Singular=f.bind(),_.Collection=E.bind(),fe.exports=_,fe.exports.Hook=_,fe.exports.Singular=_.Singular,fe.exports.Collection=_.Collection},2505:fe=>{fe.exports=u;function u(S,p,g,y){var w=y;S.registry[g]||(S.registry[g]=[]),p==="before"&&(y=a(function(F,C){return Promise.resolve().then(w.bind(null,C)).then(F.bind(null,C))},"hook")),p==="after"&&(y=a(function(F,C){var f;return Promise.resolve().then(F.bind(null,C)).then(function(E){return f=E,w(f,C)}).then(function(){return f})},"hook")),p==="error"&&(y=a(function(F,C){return Promise.resolve().then(F.bind(null,C)).catch(function(f){return w(f,C)})},"hook")),S.registry[g].push({hook:y,orig:w})}a(u,"addHook")},3698:fe=>{fe.exports=u;function u(S,p,g,y){if(typeof g!="function")throw new Error("method for before hook must be a function");return y||(y={}),Array.isArray(p)?p.reverse().reduce(function(w,F){return u.bind(null,S,F,w,y)},g)():Promise.resolve().then(function(){return S.registry[p]?S.registry[p].reduce(function(w,F){return F.hook.bind(null,w,y)},g)():g(y)})}a(u,"register")},6417:fe=>{fe.exports=u;function u(S,p,g){if(!!S.registry[p]){var y=S.registry[p].map(function(w){return w.orig}).indexOf(g);y!==-1&&S.registry[p].splice(y,1)}}a(u,"removeHook")},8764:(fe,u,S)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const p=S(9742),g=S(645),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=f,u.SlowBuffer=z,u.INSPECT_MAX_BYTES=50;const w=2147483647;u.kMaxLength=w,f.TYPED_ARRAY_SUPPORT=F(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function F(){try{const A=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(A,d),A.foo()===42}catch(A){return!1}}a(F,"typedArraySupport"),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function C(A){if(A>w)throw new RangeError('The value "'+A+'" is invalid for option "size"');const d=new Uint8Array(A);return Object.setPrototypeOf(d,f.prototype),d}a(C,"createBuffer");function f(A,d,v){if(typeof A=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(A)}return E(A,d,v)}a(f,"Buffer"),f.poolSize=8192;function E(A,d,v){if(typeof A=="string")return M(A,d);if(ArrayBuffer.isView(A))return q(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(ge(A,ArrayBuffer)||A&&ge(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ge(A,SharedArrayBuffer)||A&&ge(A.buffer,SharedArrayBuffer)))return K(A,d,v);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=A.valueOf&&A.valueOf();if(Q!=null&&Q!==A)return f.from(Q,d,v);const de=oe(A);if(de)return de;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),d,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a(E,"from"),f.from=function(A,d,v){return E(A,d,v)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function b(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}a(b,"assertSize");function _(A,d,v){return b(A),A<=0?C(A):d!==void 0?typeof v=="string"?C(A).fill(d,v):C(A).fill(d):C(A)}a(_,"alloc"),f.alloc=function(A,d,v){return _(A,d,v)};function x(A){return b(A),C(A<0?0:O(A)|0)}a(x,"allocUnsafe"),f.allocUnsafe=function(A){return x(A)},f.allocUnsafeSlow=function(A){return x(A)};function M(A,d){if((typeof d!="string"||d==="")&&(d="utf8"),!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const v=$(A,d)|0;let Q=C(v);const de=Q.write(A,d);return de!==v&&(Q=Q.slice(0,de)),Q}a(M,"fromString");function R(A){const d=A.length<0?0:O(A.length)|0,v=C(d);for(let Q=0;Q<d;Q+=1)v[Q]=A[Q]&255;return v}a(R,"fromArrayLike");function q(A){if(ge(A,Uint8Array)){const d=new Uint8Array(A);return K(d.buffer,d.byteOffset,d.byteLength)}return R(A)}a(q,"fromArrayView");function K(A,d,v){if(d<0||A.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<d+(v||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return d===void 0&&v===void 0?Q=new Uint8Array(A):v===void 0?Q=new Uint8Array(A,d):Q=new Uint8Array(A,d,v),Object.setPrototypeOf(Q,f.prototype),Q}a(K,"fromArrayBuffer");function oe(A){if(f.isBuffer(A)){const d=O(A.length)|0,v=C(d);return v.length===0||A.copy(v,0,0,d),v}if(A.length!==void 0)return typeof A.length!="number"||Qe(A.length)?C(0):R(A);if(A.type==="Buffer"&&Array.isArray(A.data))return R(A.data)}a(oe,"fromObject");function O(A){if(A>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return A|0}a(O,"checked");function z(A){return+A!=A&&(A=0),f.alloc(+A)}a(z,"SlowBuffer"),f.isBuffer=a(function(d){return d!=null&&d._isBuffer===!0&&d!==f.prototype},"isBuffer"),f.compare=a(function(d,v){if(ge(d,Uint8Array)&&(d=f.from(d,d.offset,d.byteLength)),ge(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(d)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===v)return 0;let Q=d.length,de=v.length;for(let Ne=0,he=Math.min(Q,de);Ne<he;++Ne)if(d[Ne]!==v[Ne]){Q=d[Ne],de=v[Ne];break}return Q<de?-1:de<Q?1:0},"compare"),f.isEncoding=a(function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),f.concat=a(function(d,v){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return f.alloc(0);let Q;if(v===void 0)for(v=0,Q=0;Q<d.length;++Q)v+=d[Q].length;const de=f.allocUnsafe(v);let Ne=0;for(Q=0;Q<d.length;++Q){let he=d[Q];if(ge(he,Uint8Array))Ne+he.length>de.length?(f.isBuffer(he)||(he=f.from(he)),he.copy(de,Ne)):Uint8Array.prototype.set.call(de,he,Ne);else if(f.isBuffer(he))he.copy(de,Ne);else throw new TypeError('"list" argument must be an Array of Buffers');Ne+=he.length}return de},"concat");function $(A,d){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||ge(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const v=A.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&v===0)return 0;let de=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return pe(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return U(A).length;default:if(de)return Q?-1:pe(A).length;d=(""+d).toLowerCase(),de=!0}}a($,"byteLength"),f.byteLength=$;function D(A,d,v){let Q=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,d>>>=0,v<=d))return"";for(A||(A="utf8");;)switch(A){case"hex":return _e(this,d,v);case"utf8":case"utf-8":return ve(this,d,v);case"ascii":return le(this,d,v);case"latin1":case"binary":return Y(this,d,v);case"base64":return G(this,d,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,d,v);default:if(Q)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Q=!0}}a(D,"slowToString"),f.prototype._isBuffer=!0;function P(A,d,v){const Q=A[d];A[d]=A[v],A[v]=Q}a(P,"swap"),f.prototype.swap16=a(function(){const d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<d;v+=2)P(this,v,v+1);return this},"swap16"),f.prototype.swap32=a(function(){const d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<d;v+=4)P(this,v,v+3),P(this,v+1,v+2);return this},"swap32"),f.prototype.swap64=a(function(){const d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<d;v+=8)P(this,v,v+7),P(this,v+1,v+6),P(this,v+2,v+5),P(this,v+3,v+4);return this},"swap64"),f.prototype.toString=a(function(){const d=this.length;return d===0?"":arguments.length===0?ve(this,0,d):D.apply(this,arguments)},"toString"),f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=a(function(d){if(!f.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:f.compare(this,d)===0},"equals"),f.prototype.inspect=a(function(){let d="";const v=u.INSPECT_MAX_BYTES;return d=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(d+=" ... "),"<Buffer "+d+">"},"inspect"),y&&(f.prototype[y]=f.prototype.inspect),f.prototype.compare=a(function(d,v,Q,de,Ne){if(ge(d,Uint8Array)&&(d=f.from(d,d.offset,d.byteLength)),!f.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(v===void 0&&(v=0),Q===void 0&&(Q=d?d.length:0),de===void 0&&(de=0),Ne===void 0&&(Ne=this.length),v<0||Q>d.length||de<0||Ne>this.length)throw new RangeError("out of range index");if(de>=Ne&&v>=Q)return 0;if(de>=Ne)return-1;if(v>=Q)return 1;if(v>>>=0,Q>>>=0,de>>>=0,Ne>>>=0,this===d)return 0;let he=Ne-de,ot=Q-v;const Ft=Math.min(he,ot),vt=this.slice(de,Ne),kt=d.slice(v,Q);for(let nt=0;nt<Ft;++nt)if(vt[nt]!==kt[nt]){he=vt[nt],ot=kt[nt];break}return he<ot?-1:ot<he?1:0},"compare");function j(A,d,v,Q,de){if(A.length===0)return-1;if(typeof v=="string"?(Q=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,Qe(v)&&(v=de?0:A.length-1),v<0&&(v=A.length+v),v>=A.length){if(de)return-1;v=A.length-1}else if(v<0)if(de)v=0;else return-1;if(typeof d=="string"&&(d=f.from(d,Q)),f.isBuffer(d))return d.length===0?-1:X(A,d,v,Q,de);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(A,d,v):Uint8Array.prototype.lastIndexOf.call(A,d,v):X(A,[d],v,Q,de);throw new TypeError("val must be string, number or Buffer")}a(j,"bidirectionalIndexOf");function X(A,d,v,Q,de){let Ne=1,he=A.length,ot=d.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(A.length<2||d.length<2)return-1;Ne=2,he/=2,ot/=2,v/=2}function Ft(kt,nt){return Ne===1?kt[nt]:kt.readUInt16BE(nt*Ne)}a(Ft,"read");let vt;if(de){let kt=-1;for(vt=v;vt<he;vt++)if(Ft(A,vt)===Ft(d,kt===-1?0:vt-kt)){if(kt===-1&&(kt=vt),vt-kt+1===ot)return kt*Ne}else kt!==-1&&(vt-=vt-kt),kt=-1}else for(v+ot>he&&(v=he-ot),vt=v;vt>=0;vt--){let kt=!0;for(let nt=0;nt<ot;nt++)if(Ft(A,vt+nt)!==Ft(d,nt)){kt=!1;break}if(kt)return vt}return-1}a(X,"arrayIndexOf"),f.prototype.includes=a(function(d,v,Q){return this.indexOf(d,v,Q)!==-1},"includes"),f.prototype.indexOf=a(function(d,v,Q){return j(this,d,v,Q,!0)},"indexOf"),f.prototype.lastIndexOf=a(function(d,v,Q){return j(this,d,v,Q,!1)},"lastIndexOf");function re(A,d,v,Q){v=Number(v)||0;const de=A.length-v;Q?(Q=Number(Q),Q>de&&(Q=de)):Q=de;const Ne=d.length;Q>Ne/2&&(Q=Ne/2);let he;for(he=0;he<Q;++he){const ot=parseInt(d.substr(he*2,2),16);if(Qe(ot))return he;A[v+he]=ot}return he}a(re,"hexWrite");function ne(A,d,v,Q){return J(pe(d,A.length-v),A,v,Q)}a(ne,"utf8Write");function se(A,d,v,Q){return J(ct(d),A,v,Q)}a(se,"asciiWrite");function Ce(A,d,v,Q){return J(U(d),A,v,Q)}a(Ce,"base64Write");function ie(A,d,v,Q){return J(We(d,A.length-v),A,v,Q)}a(ie,"ucs2Write"),f.prototype.write=a(function(d,v,Q,de){if(v===void 0)de="utf8",Q=this.length,v=0;else if(Q===void 0&&typeof v=="string")de=v,Q=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(Q)?(Q=Q>>>0,de===void 0&&(de="utf8")):(de=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ne=this.length-v;if((Q===void 0||Q>Ne)&&(Q=Ne),d.length>0&&(Q<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let he=!1;for(;;)switch(de){case"hex":return re(this,d,v,Q);case"utf8":case"utf-8":return ne(this,d,v,Q);case"ascii":case"latin1":case"binary":return se(this,d,v,Q);case"base64":return Ce(this,d,v,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,d,v,Q);default:if(he)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),he=!0}},"write"),f.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function G(A,d,v){return d===0&&v===A.length?p.fromByteArray(A):p.fromByteArray(A.slice(d,v))}a(G,"base64Slice");function ve(A,d,v){v=Math.min(A.length,v);const Q=[];let de=d;for(;de<v;){const Ne=A[de];let he=null,ot=Ne>239?4:Ne>223?3:Ne>191?2:1;if(de+ot<=v){let Ft,vt,kt,nt;switch(ot){case 1:Ne<128&&(he=Ne);break;case 2:Ft=A[de+1],(Ft&192)==128&&(nt=(Ne&31)<<6|Ft&63,nt>127&&(he=nt));break;case 3:Ft=A[de+1],vt=A[de+2],(Ft&192)==128&&(vt&192)==128&&(nt=(Ne&15)<<12|(Ft&63)<<6|vt&63,nt>2047&&(nt<55296||nt>57343)&&(he=nt));break;case 4:Ft=A[de+1],vt=A[de+2],kt=A[de+3],(Ft&192)==128&&(vt&192)==128&&(kt&192)==128&&(nt=(Ne&15)<<18|(Ft&63)<<12|(vt&63)<<6|kt&63,nt>65535&&nt<1114112&&(he=nt))}}he===null?(he=65533,ot=1):he>65535&&(he-=65536,Q.push(he>>>10&1023|55296),he=56320|he&1023),Q.push(he),de+=ot}return Le(Q)}a(ve,"utf8Slice");const Me=4096;function Le(A){const d=A.length;if(d<=Me)return String.fromCharCode.apply(String,A);let v="",Q=0;for(;Q<d;)v+=String.fromCharCode.apply(String,A.slice(Q,Q+=Me));return v}a(Le,"decodeCodePointsArray");function le(A,d,v){let Q="";v=Math.min(A.length,v);for(let de=d;de<v;++de)Q+=String.fromCharCode(A[de]&127);return Q}a(le,"asciiSlice");function Y(A,d,v){let Q="";v=Math.min(A.length,v);for(let de=d;de<v;++de)Q+=String.fromCharCode(A[de]);return Q}a(Y,"latin1Slice");function _e(A,d,v){const Q=A.length;(!d||d<0)&&(d=0),(!v||v<0||v>Q)&&(v=Q);let de="";for(let Ne=d;Ne<v;++Ne)de+=lt[A[Ne]];return de}a(_e,"hexSlice");function Fe(A,d,v){const Q=A.slice(d,v);let de="";for(let Ne=0;Ne<Q.length-1;Ne+=2)de+=String.fromCharCode(Q[Ne]+Q[Ne+1]*256);return de}a(Fe,"utf16leSlice"),f.prototype.slice=a(function(d,v){const Q=this.length;d=~~d,v=v===void 0?Q:~~v,d<0?(d+=Q,d<0&&(d=0)):d>Q&&(d=Q),v<0?(v+=Q,v<0&&(v=0)):v>Q&&(v=Q),v<d&&(v=d);const de=this.subarray(d,v);return Object.setPrototypeOf(de,f.prototype),de},"slice");function Ie(A,d,v){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+d>v)throw new RangeError("Trying to access beyond buffer length")}a(Ie,"checkOffset"),f.prototype.readUintLE=f.prototype.readUIntLE=a(function(d,v,Q){d=d>>>0,v=v>>>0,Q||Ie(d,v,this.length);let de=this[d],Ne=1,he=0;for(;++he<v&&(Ne*=256);)de+=this[d+he]*Ne;return de},"readUIntLE"),f.prototype.readUintBE=f.prototype.readUIntBE=a(function(d,v,Q){d=d>>>0,v=v>>>0,Q||Ie(d,v,this.length);let de=this[d+--v],Ne=1;for(;v>0&&(Ne*=256);)de+=this[d+--v]*Ne;return de},"readUIntBE"),f.prototype.readUint8=f.prototype.readUInt8=a(function(d,v){return d=d>>>0,v||Ie(d,1,this.length),this[d]},"readUInt8"),f.prototype.readUint16LE=f.prototype.readUInt16LE=a(function(d,v){return d=d>>>0,v||Ie(d,2,this.length),this[d]|this[d+1]<<8},"readUInt16LE"),f.prototype.readUint16BE=f.prototype.readUInt16BE=a(function(d,v){return d=d>>>0,v||Ie(d,2,this.length),this[d]<<8|this[d+1]},"readUInt16BE"),f.prototype.readUint32LE=f.prototype.readUInt32LE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},"readUInt32LE"),f.prototype.readUint32BE=f.prototype.readUInt32BE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},"readUInt32BE"),f.prototype.readBigUInt64LE=yt(a(function(d){d=d>>>0,Re(d,"offset");const v=this[d],Q=this[d+7];(v===void 0||Q===void 0)&&Te(d,this.length-8);const de=v+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,Ne=this[++d]+this[++d]*2**8+this[++d]*2**16+Q*2**24;return BigInt(de)+(BigInt(Ne)<<BigInt(32))},"readBigUInt64LE")),f.prototype.readBigUInt64BE=yt(a(function(d){d=d>>>0,Re(d,"offset");const v=this[d],Q=this[d+7];(v===void 0||Q===void 0)&&Te(d,this.length-8);const de=v*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],Ne=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+Q;return(BigInt(de)<<BigInt(32))+BigInt(Ne)},"readBigUInt64BE")),f.prototype.readIntLE=a(function(d,v,Q){d=d>>>0,v=v>>>0,Q||Ie(d,v,this.length);let de=this[d],Ne=1,he=0;for(;++he<v&&(Ne*=256);)de+=this[d+he]*Ne;return Ne*=128,de>=Ne&&(de-=Math.pow(2,8*v)),de},"readIntLE"),f.prototype.readIntBE=a(function(d,v,Q){d=d>>>0,v=v>>>0,Q||Ie(d,v,this.length);let de=v,Ne=1,he=this[d+--de];for(;de>0&&(Ne*=256);)he+=this[d+--de]*Ne;return Ne*=128,he>=Ne&&(he-=Math.pow(2,8*v)),he},"readIntBE"),f.prototype.readInt8=a(function(d,v){return d=d>>>0,v||Ie(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},"readInt8"),f.prototype.readInt16LE=a(function(d,v){d=d>>>0,v||Ie(d,2,this.length);const Q=this[d]|this[d+1]<<8;return Q&32768?Q|4294901760:Q},"readInt16LE"),f.prototype.readInt16BE=a(function(d,v){d=d>>>0,v||Ie(d,2,this.length);const Q=this[d+1]|this[d]<<8;return Q&32768?Q|4294901760:Q},"readInt16BE"),f.prototype.readInt32LE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},"readInt32LE"),f.prototype.readInt32BE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},"readInt32BE"),f.prototype.readBigInt64LE=yt(a(function(d){d=d>>>0,Re(d,"offset");const v=this[d],Q=this[d+7];(v===void 0||Q===void 0)&&Te(d,this.length-8);const de=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(Q<<24);return(BigInt(de)<<BigInt(32))+BigInt(v+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)},"readBigInt64LE")),f.prototype.readBigInt64BE=yt(a(function(d){d=d>>>0,Re(d,"offset");const v=this[d],Q=this[d+7];(v===void 0||Q===void 0)&&Te(d,this.length-8);const de=(v<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(de)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+Q)},"readBigInt64BE")),f.prototype.readFloatLE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),g.read(this,d,!0,23,4)},"readFloatLE"),f.prototype.readFloatBE=a(function(d,v){return d=d>>>0,v||Ie(d,4,this.length),g.read(this,d,!1,23,4)},"readFloatBE"),f.prototype.readDoubleLE=a(function(d,v){return d=d>>>0,v||Ie(d,8,this.length),g.read(this,d,!0,52,8)},"readDoubleLE"),f.prototype.readDoubleBE=a(function(d,v){return d=d>>>0,v||Ie(d,8,this.length),g.read(this,d,!1,52,8)},"readDoubleBE");function ee(A,d,v,Q,de,Ne){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>de||d<Ne)throw new RangeError('"value" argument is out of bounds');if(v+Q>A.length)throw new RangeError("Index out of range")}a(ee,"checkInt"),f.prototype.writeUintLE=f.prototype.writeUIntLE=a(function(d,v,Q,de){if(d=+d,v=v>>>0,Q=Q>>>0,!de){const ot=Math.pow(2,8*Q)-1;ee(this,d,v,Q,ot,0)}let Ne=1,he=0;for(this[v]=d&255;++he<Q&&(Ne*=256);)this[v+he]=d/Ne&255;return v+Q},"writeUIntLE"),f.prototype.writeUintBE=f.prototype.writeUIntBE=a(function(d,v,Q,de){if(d=+d,v=v>>>0,Q=Q>>>0,!de){const ot=Math.pow(2,8*Q)-1;ee(this,d,v,Q,ot,0)}let Ne=Q-1,he=1;for(this[v+Ne]=d&255;--Ne>=0&&(he*=256);)this[v+Ne]=d/he&255;return v+Q},"writeUIntBE"),f.prototype.writeUint8=f.prototype.writeUInt8=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,1,255,0),this[v]=d&255,v+1},"writeUInt8"),f.prototype.writeUint16LE=f.prototype.writeUInt16LE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,2,65535,0),this[v]=d&255,this[v+1]=d>>>8,v+2},"writeUInt16LE"),f.prototype.writeUint16BE=f.prototype.writeUInt16BE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,2,65535,0),this[v]=d>>>8,this[v+1]=d&255,v+2},"writeUInt16BE"),f.prototype.writeUint32LE=f.prototype.writeUInt32LE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,4,4294967295,0),this[v+3]=d>>>24,this[v+2]=d>>>16,this[v+1]=d>>>8,this[v]=d&255,v+4},"writeUInt32LE"),f.prototype.writeUint32BE=f.prototype.writeUInt32BE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,4,4294967295,0),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=d&255,v+4},"writeUInt32BE");function ut(A,d,v,Q,de){Se(d,Q,de,A,v,7);let Ne=Number(d&BigInt(4294967295));A[v++]=Ne,Ne=Ne>>8,A[v++]=Ne,Ne=Ne>>8,A[v++]=Ne,Ne=Ne>>8,A[v++]=Ne;let he=Number(d>>BigInt(32)&BigInt(4294967295));return A[v++]=he,he=he>>8,A[v++]=he,he=he>>8,A[v++]=he,he=he>>8,A[v++]=he,v}a(ut,"wrtBigUInt64LE");function qe(A,d,v,Q,de){Se(d,Q,de,A,v,7);let Ne=Number(d&BigInt(4294967295));A[v+7]=Ne,Ne=Ne>>8,A[v+6]=Ne,Ne=Ne>>8,A[v+5]=Ne,Ne=Ne>>8,A[v+4]=Ne;let he=Number(d>>BigInt(32)&BigInt(4294967295));return A[v+3]=he,he=he>>8,A[v+2]=he,he=he>>8,A[v+1]=he,he=he>>8,A[v]=he,v+8}a(qe,"wrtBigUInt64BE"),f.prototype.writeBigUInt64LE=yt(a(function(d,v=0){return ut(this,d,v,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),f.prototype.writeBigUInt64BE=yt(a(function(d,v=0){return qe(this,d,v,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),f.prototype.writeIntLE=a(function(d,v,Q,de){if(d=+d,v=v>>>0,!de){const Ft=Math.pow(2,8*Q-1);ee(this,d,v,Q,Ft-1,-Ft)}let Ne=0,he=1,ot=0;for(this[v]=d&255;++Ne<Q&&(he*=256);)d<0&&ot===0&&this[v+Ne-1]!==0&&(ot=1),this[v+Ne]=(d/he>>0)-ot&255;return v+Q},"writeIntLE"),f.prototype.writeIntBE=a(function(d,v,Q,de){if(d=+d,v=v>>>0,!de){const Ft=Math.pow(2,8*Q-1);ee(this,d,v,Q,Ft-1,-Ft)}let Ne=Q-1,he=1,ot=0;for(this[v+Ne]=d&255;--Ne>=0&&(he*=256);)d<0&&ot===0&&this[v+Ne+1]!==0&&(ot=1),this[v+Ne]=(d/he>>0)-ot&255;return v+Q},"writeIntBE"),f.prototype.writeInt8=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,1,127,-128),d<0&&(d=255+d+1),this[v]=d&255,v+1},"writeInt8"),f.prototype.writeInt16LE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,2,32767,-32768),this[v]=d&255,this[v+1]=d>>>8,v+2},"writeInt16LE"),f.prototype.writeInt16BE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,2,32767,-32768),this[v]=d>>>8,this[v+1]=d&255,v+2},"writeInt16BE"),f.prototype.writeInt32LE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,4,2147483647,-2147483648),this[v]=d&255,this[v+1]=d>>>8,this[v+2]=d>>>16,this[v+3]=d>>>24,v+4},"writeInt32LE"),f.prototype.writeInt32BE=a(function(d,v,Q){return d=+d,v=v>>>0,Q||ee(this,d,v,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=d&255,v+4},"writeInt32BE"),f.prototype.writeBigInt64LE=yt(a(function(d,v=0){return ut(this,d,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),f.prototype.writeBigInt64BE=yt(a(function(d,v=0){return qe(this,d,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Ze(A,d,v,Q,de,Ne){if(v+Q>A.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}a(Ze,"checkIEEE754");function Z(A,d,v,Q,de){return d=+d,v=v>>>0,de||Ze(A,d,v,4,34028234663852886e22,-34028234663852886e22),g.write(A,d,v,Q,23,4),v+4}a(Z,"writeFloat"),f.prototype.writeFloatLE=a(function(d,v,Q){return Z(this,d,v,!0,Q)},"writeFloatLE"),f.prototype.writeFloatBE=a(function(d,v,Q){return Z(this,d,v,!1,Q)},"writeFloatBE");function te(A,d,v,Q,de){return d=+d,v=v>>>0,de||Ze(A,d,v,8,17976931348623157e292,-17976931348623157e292),g.write(A,d,v,Q,52,8),v+8}a(te,"writeDouble"),f.prototype.writeDoubleLE=a(function(d,v,Q){return te(this,d,v,!0,Q)},"writeDoubleLE"),f.prototype.writeDoubleBE=a(function(d,v,Q){return te(this,d,v,!1,Q)},"writeDoubleBE"),f.prototype.copy=a(function(d,v,Q,de){if(!f.isBuffer(d))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!de&&de!==0&&(de=this.length),v>=d.length&&(v=d.length),v||(v=0),de>0&&de<Q&&(de=Q),de===Q||d.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),d.length-v<de-Q&&(de=d.length-v+Q);const Ne=de-Q;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,Q,de):Uint8Array.prototype.set.call(d,this.subarray(Q,de),v),Ne},"copy"),f.prototype.fill=a(function(d,v,Q,de){if(typeof d=="string"){if(typeof v=="string"?(de=v,v=0,Q=this.length):typeof Q=="string"&&(de=Q,Q=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!f.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(d.length===1){const he=d.charCodeAt(0);(de==="utf8"&&he<128||de==="latin1")&&(d=he)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(v<0||this.length<v||this.length<Q)throw new RangeError("Out of range index");if(Q<=v)return this;v=v>>>0,Q=Q===void 0?this.length:Q>>>0,d||(d=0);let Ne;if(typeof d=="number")for(Ne=v;Ne<Q;++Ne)this[Ne]=d;else{const he=f.isBuffer(d)?d:f.from(d,de),ot=he.length;if(ot===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(Ne=0;Ne<Q-v;++Ne)this[Ne+v]=he[Ne%ot]}return this},"fill");const ae={};function me(A,d,v){ae[A]=a(class extends v{constructor(){super();Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}},"NodeError")}a(me,"E"),me("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(A,d){return`The "${A}" argument must be of type number. Received type ${typeof d}`},TypeError),me("ERR_OUT_OF_RANGE",function(A,d,v){let Q=`The value of "${A}" is out of range.`,de=v;return Number.isInteger(v)&&Math.abs(v)>2**32?de=Ge(String(v)):typeof v=="bigint"&&(de=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(de=Ge(de)),de+="n"),Q+=` It must be ${d}. Received ${de}`,Q},RangeError);function Ge(A){let d="",v=A.length;const Q=A[0]==="-"?1:0;for(;v>=Q+4;v-=3)d=`_${A.slice(v-3,v)}${d}`;return`${A.slice(0,v)}${d}`}a(Ge,"addNumericalSeparator");function st(A,d,v){Re(d,"offset"),(A[d]===void 0||A[d+v]===void 0)&&Te(d,A.length-(v+1))}a(st,"checkBounds");function Se(A,d,v,Q,de,Ne){if(A>v||A<d){const he=typeof d=="bigint"?"n":"";let ot;throw Ne>3?d===0||d===BigInt(0)?ot=`>= 0${he} and < 2${he} ** ${(Ne+1)*8}${he}`:ot=`>= -(2${he} ** ${(Ne+1)*8-1}${he}) and < 2 ** ${(Ne+1)*8-1}${he}`:ot=`>= ${d}${he} and <= ${v}${he}`,new ae.ERR_OUT_OF_RANGE("value",ot,A)}st(Q,de,Ne)}a(Se,"checkIntBI");function Re(A,d){if(typeof A!="number")throw new ae.ERR_INVALID_ARG_TYPE(d,"number",A)}a(Re,"validateNumber");function Te(A,d,v){throw Math.floor(A)!==A?(Re(A,v),new ae.ERR_OUT_OF_RANGE(v||"offset","an integer",A)):d<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${d}`,A)}a(Te,"boundsError");const xe=/[^+/0-9A-Za-z-_]/g;function ke(A){if(A=A.split("=")[0],A=A.trim().replace(xe,""),A.length<2)return"";for(;A.length%4!=0;)A=A+"=";return A}a(ke,"base64clean");function pe(A,d){d=d||1/0;let v;const Q=A.length;let de=null;const Ne=[];for(let he=0;he<Q;++he){if(v=A.charCodeAt(he),v>55295&&v<57344){if(!de){if(v>56319){(d-=3)>-1&&Ne.push(239,191,189);continue}else if(he+1===Q){(d-=3)>-1&&Ne.push(239,191,189);continue}de=v;continue}if(v<56320){(d-=3)>-1&&Ne.push(239,191,189),de=v;continue}v=(de-55296<<10|v-56320)+65536}else de&&(d-=3)>-1&&Ne.push(239,191,189);if(de=null,v<128){if((d-=1)<0)break;Ne.push(v)}else if(v<2048){if((d-=2)<0)break;Ne.push(v>>6|192,v&63|128)}else if(v<65536){if((d-=3)<0)break;Ne.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((d-=4)<0)break;Ne.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return Ne}a(pe,"utf8ToBytes");function ct(A){const d=[];for(let v=0;v<A.length;++v)d.push(A.charCodeAt(v)&255);return d}a(ct,"asciiToBytes");function We(A,d){let v,Q,de;const Ne=[];for(let he=0;he<A.length&&!((d-=2)<0);++he)v=A.charCodeAt(he),Q=v>>8,de=v%256,Ne.push(de),Ne.push(Q);return Ne}a(We,"utf16leToBytes");function U(A){return p.toByteArray(ke(A))}a(U,"base64ToBytes");function J(A,d,v,Q){let de;for(de=0;de<Q&&!(de+v>=d.length||de>=A.length);++de)d[de+v]=A[de];return de}a(J,"blitBuffer");function ge(A,d){return A instanceof d||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===d.name}a(ge,"isInstance");function Qe(A){return A!==A}a(Qe,"numberIsNaN");const lt=function(){const A="0123456789abcdef",d=new Array(256);for(let v=0;v<16;++v){const Q=v*16;for(let de=0;de<16;++de)d[Q+de]=A[v]+A[de]}return d}();function yt(A){return typeof BigInt=="undefined"?it:A}a(yt,"defineBigIntMethod");function it(){throw new Error("BigInt not supported")}a(it,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(fe){const u=await strtok3.fromStream(fe);try{return await fromTokenizer(u)}finally{await u.close()}}a(fromStream,"fromStream");async function fromBuffer(fe){if(!(fe instanceof Uint8Array||fe instanceof ArrayBuffer||Buffer.isBuffer(fe)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof fe}\``);const u=fe instanceof Buffer?fe:Buffer.from(fe);if(!(u&&u.length>1))return;const S=strtok3.fromBuffer(u);return fromTokenizer(S)}a(fromBuffer,"fromBuffer");function _check(fe,u,S){S={offset:0,...S};for(const[p,g]of u.entries())if(S.mask){if(g!==(S.mask[p]&fe[p+S.offset]))return!1}else if(g!==fe[p+S.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(fe){try{return _fromTokenizer(fe)}catch(u){if(!(u instanceof strtok3.EndOfStreamError))throw u}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(fe){let u=Buffer.alloc(minimumBytes);const S=12,p=a((y,w)=>_check(u,y,w),"check"),g=a((y,w)=>p(stringToBytes(y),w),"checkString");if(fe.fileInfo.size||(fe.fileInfo.size=Number.MAX_SAFE_INTEGER),await fe.peekBuffer(u,{length:S,mayBeLess:!0}),p([66,77]))return{ext:"bmp",mime:"image/bmp"};if(p([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(p([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(p([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(p([37,33]))return await fe.peekBuffer(u,{length:24,mayBeLess:!0}),g("PS-Adobe-",{offset:2})&&g(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(p([31,160])||p([31,157]))return{ext:"Z",mime:"application/x-compress"};if(p([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(p([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(p([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(p([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(g("ID3")){await fe.ignore(6);const y=await fe.readToken(uint32SyncSafeToken);return fe.position+y>fe.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await fe.ignore(y),fromTokenizer(fe))}if(g("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((u[0]===67||u[0]===70)&&p([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(p([71,73,70]))return{ext:"gif",mime:"image/gif"};if(g("FLIF"))return{ext:"flif",mime:"image/flif"};if(g("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(g("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(g("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(g("FORM"))return{ext:"aif",mime:"audio/aiff"};if(g("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(p([80,75,3,4])){try{for(;fe.position+30<fe.fileInfo.size;){await fe.readBuffer(u,{length:30});const y={compressedSize:u.readUInt32LE(18),uncompressedSize:u.readUInt32LE(22),filenameLength:u.readUInt16LE(26),extraFieldLength:u.readUInt16LE(28)};if(y.filename=await fe.readToken(new Token.StringType(y.filenameLength,"utf-8")),await fe.ignore(y.extraFieldLength),y.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(y.filename.endsWith(".rels")||y.filename.endsWith(".xml"))switch(y.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(y.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(y.filename.startsWith("3D/")&&y.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(y.filename==="mimetype"&&y.compressedSize===y.uncompressedSize)switch(await fe.readToken(new Token.StringType(y.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(y.compressedSize===0){let w=-1;for(;w<0&&fe.position<fe.fileInfo.size;)await fe.peekBuffer(u,{mayBeLess:!0}),w=u.indexOf("504B0304",0,"hex"),await fe.ignore(w>=0?w:u.length)}else await fe.ignore(y.compressedSize)}}catch(y){if(!(y instanceof strtok3.EndOfStreamError))throw y}return{ext:"zip",mime:"application/zip"}}if(g("OggS")){await fe.ignore(28);const y=Buffer.alloc(8);return await fe.readBuffer(y),_check(y,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(y,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(y,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(y,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(y,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(y,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(p([80,75])&&(u[2]===3||u[2]===5||u[2]===7)&&(u[3]===4||u[3]===6||u[3]===8))return{ext:"zip",mime:"application/zip"};if(g("ftyp",{offset:4})&&(u[8]&96)!=0){const y=u.toString("binary",8,12).replace("\0"," ").trim();switch(y){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return y.startsWith("3g")?y.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(g("MThd"))return{ext:"mid",mime:"audio/midi"};if(g("wOFF")&&(p([0,1,0,0],{offset:4})||g("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(g("wOF2")&&(p([0,1,0,0],{offset:4})||g("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(p([212,195,178,161])||p([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(g("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(g("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(g("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(p([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(g("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(g("%PDF")){await fe.ignore(1350);const y=10*1024*1024,w=Buffer.alloc(Math.min(y,fe.fileInfo.size));return await fe.readBuffer(w,{mayBeLess:!0}),w.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(p([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(p([73,73,42,0]))return g("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:p([28,0,254,0],{offset:8})||p([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:p([8,0,0,0],{offset:4})&&(p([45,0,254,0],{offset:8})||p([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(u=Buffer.alloc(24),await fe.peekBuffer(u),(p([16,251,134,1],{offset:4})||p([8,0,0,0],{offset:4}))&&p([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(p([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(g("MAC "))return{ext:"ape",mime:"audio/ape"};if(p([26,69,223,163])){async function y(){const E=await fe.peekNumber(Token.UINT8);let b=128,_=0;for(;(E&b)==0&&b!==0;)++_,b>>=1;const x=Buffer.alloc(_+1);return await fe.readBuffer(x),x}a(y,"readField");async function w(){const E=await y(),b=await y();b[0]^=128>>b.length-1;const _=Math.min(6,b.length);return{id:E.readUIntBE(0,E.length),len:b.readUIntBE(b.length-_,_)}}a(w,"readElement");async function F(E,b){for(;b>0;){const _=await w();if(_.id===17026)return fe.readToken(new Token.StringType(_.len,"utf-8"));await fe.ignore(_.len),--b}}a(F,"readChildren");const C=await w();switch(await F(1,C.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(p([82,73,70,70])){if(p([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(p([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(p([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(g("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(p([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(g("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(g("MSCF")||g("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(p([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(p([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(p([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(p([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(g("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(g("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(p([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(g("IMPM"))return{ext:"it",mime:"audio/x-it"};if(g("-lh0-",{offset:2})||g("-lh1-",{offset:2})||g("-lh2-",{offset:2})||g("-lh3-",{offset:2})||g("-lh4-",{offset:2})||g("-lh5-",{offset:2})||g("-lh6-",{offset:2})||g("-lh7-",{offset:2})||g("-lzs-",{offset:2})||g("-lz4-",{offset:2})||g("-lz5-",{offset:2})||g("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(p([0,0,1,186])){if(p([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(p([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(g("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(p([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(g("<?xml "))return{ext:"xml",mime:"application/xml"};if(p([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(p([82,97,114,33,26,7])&&(u[6]===0||u[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(g("solid "))return{ext:"stl",mime:"model/stl"};if(g("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(g("!<arch>"))return await fe.ignore(8),await fe.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(p([137,80,78,71,13,10,26,10])){await fe.ignore(8);async function y(){return{length:await fe.readToken(Token.INT32_BE),type:await fe.readToken(new Token.StringType(4,"binary"))}}a(y,"readChunkHeader");do{const w=await y();if(w.length<0)return;switch(w.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await fe.ignore(w.length+4)}}while(fe.position+8<fe.fileInfo.size);return{ext:"png",mime:"image/png"}}if(p([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(p([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(p([102,114,101,101],{offset:4})||p([109,100,97,116],{offset:4})||p([109,111,111,118],{offset:4})||p([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(p([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(g("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(p([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(p([48,38,178,117,142,102,207,17,166,217])){async function y(){const w=Buffer.alloc(16);return await fe.readBuffer(w),{id:w,size:Number(await fe.readToken(Token.UINT64_LE))}}for(a(y,"readHeader"),await fe.ignore(30);fe.position+24<fe.fileInfo.size;){const w=await y();let F=w.size-24;if(_check(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const C=Buffer.alloc(16);if(F-=await fe.readBuffer(C),_check(C,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(C,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await fe.ignore(F)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(p([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((p([126,16,4])||p([126,24,4]))&&p([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(p([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(p([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await fe.ignore(20),await fe.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(p([255,10])||p([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(p([0,0,1,186])||p([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(p([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(p([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(p([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(p([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await fe.peekBuffer(u,{length:Math.min(256,fe.fileInfo.size),mayBeLess:!0}),g("BEGIN:")){if(g("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(g("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(g("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(g("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(g("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(p([4,0,0,0])&&u.length>=16){const y=u.readUInt32LE(12);if(y>12&&u.length>=y+16)try{const w=u.slice(16,y+16).toString();if(JSON.parse(w).files)return{ext:"asar",mime:"application/x-asar"}}catch(w){}}if(p([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(g("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(p([71],{offset:4})&&(p([71],{offset:192})||p([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(p([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(p([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(p([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(p([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(p([76,80],{offset:34})&&(p([0,0,1],{offset:8})||p([1,0,2],{offset:8})||p([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(p([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await fe.peekBuffer(u,{length:Math.min(512,fe.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(u))return{ext:"tar",mime:"application/x-tar"};if(p([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(g("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(u.length>=2&&p([255,224],{offset:0,mask:[255,224]})){if(p([16],{offset:1,mask:[22]}))return p([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(p([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(p([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(p([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const fe=new stream.PassThrough;let u;stream.pipeline?u=stream.pipeline(readableStream,fe,()=>{}):u=readableStream.pipe(fe);const S=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const p=await fromBuffer(S);fe.fileType=p}catch(p){reject(p)}resolve(u)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(fe,u,S)=>{"use strict";const p=S(6597),g=S(1);async function y(F){const C=await p.fromFile(F);try{return await g.fromTokenizer(C)}finally{await C.close()}}a(y,"fromFile");const w={fromFile:y};Object.assign(w,g),Object.defineProperty(w,"extensions",{get(){return g.extensions}}),Object.defineProperty(w,"mimeTypes",{get(){return g.mimeTypes}}),fe.exports=w},9898:fe=>{"use strict";fe.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(fe,u)=>{"use strict";u.stringToBytes=S=>[...S].map(p=>p.charCodeAt(0)),u.tarHeaderChecksumMatches=(S,p=0)=>{const g=parseInt(S.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let y=8*32;for(let w=p;w<p+148;w++)y+=S[w];for(let w=p+156;w<p+512;w++)y+=S[w];return g===y},u.uint32SyncSafeToken={get:(S,p)=>S[p+3]&127|S[p+2]<<7|S[p+1]<<14|S[p]<<21,len:4}},7360:function(fe,u){var S,p,g;(function(y,w){p=[],S=w,g=typeof S=="function"?S.apply(u,p):S,g!==void 0&&(fe.exports=g)})(this,a(function(){function w(O){var z={single:function($,D,P){if(!$||(q($)||($=z.getPreparedSearch($)),!D))return null;q(D)||(D=z.getPrepared(D));var j=P&&P.allowTypo!==void 0?P.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,X=j?z.algorithm:z.algorithmNoTypo;return X($,D,$[0])},go:function($,D,P){if(!$)return E;$=z.prepareSearch($);var j=$[0],X=P&&P.threshold||O&&O.threshold||-9007199254740991,re=P&&P.limit||O&&O.limit||9007199254740991,ne=P&&P.allowTypo!==void 0?P.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,se=ne?z.algorithm:z.algorithmNoTypo,Ce=0,ie=0,G=D.length;if(P&&P.keys)for(var ve=P.scoreFn||M,Me=P.keys,Le=Me.length,le=G-1;le>=0;--le){for(var Y=D[le],_e=new Array(Le),Fe=Le-1;Fe>=0;--Fe){var Ie=Me[Fe],ee=R(Y,Ie);if(!ee){_e[Fe]=null;continue}q(ee)||(ee=z.getPrepared(ee)),_e[Fe]=se($,ee,j)}_e.obj=Y;var ut=ve(_e);ut!==null&&(ut<X||(_e.score=ut,Ce<re?(oe.add(_e),++Ce):(++ie,ut>oe.peek().score&&oe.replaceTop(_e))))}else if(P&&P.key)for(var Ie=P.key,le=G-1;le>=0;--le){var Y=D[le],ee=R(Y,Ie);if(!!ee){q(ee)||(ee=z.getPrepared(ee));var qe=se($,ee,j);qe!==null&&(qe.score<X||(qe={target:qe.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:qe.score,indexes:qe.indexes,obj:Y},Ce<re?(oe.add(qe),++Ce):(++ie,qe.score>oe.peek().score&&oe.replaceTop(qe))))}}else for(var le=G-1;le>=0;--le){var ee=D[le];if(!!ee){q(ee)||(ee=z.getPrepared(ee));var qe=se($,ee,j);qe!==null&&(qe.score<X||(Ce<re?(oe.add(qe),++Ce):(++ie,qe.score>oe.peek().score&&oe.replaceTop(qe))))}}if(Ce===0)return E;for(var Ze=new Array(Ce),le=Ce-1;le>=0;--le)Ze[le]=oe.poll();return Ze.total=Ce+ie,Ze},goAsync:function($,D,P){var j=!1,X=new Promise(function(re,ne){if(!$)return re(E);$=z.prepareSearch($);var se=$[0],Ce=K(),ie=D.length-1,G=P&&P.threshold||O&&O.threshold||-9007199254740991,ve=P&&P.limit||O&&O.limit||9007199254740991,Me=P&&P.allowTypo!==void 0?P.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,Le=Me?z.algorithm:z.algorithmNoTypo,le=0,Y=0;function _e(){if(j)return ne("canceled");var Fe=Date.now();if(P&&P.keys)for(var Ie=P.scoreFn||M,ee=P.keys,ut=ee.length;ie>=0;--ie){for(var qe=D[ie],Ze=new Array(ut),Z=ut-1;Z>=0;--Z){var te=ee[Z],ae=R(qe,te);if(!ae){Ze[Z]=null;continue}q(ae)||(ae=z.getPrepared(ae)),Ze[Z]=Le($,ae,se)}Ze.obj=qe;var me=Ie(Ze);if(me!==null&&!(me<G)&&(Ze.score=me,le<ve?(Ce.add(Ze),++le):(++Y,me>Ce.peek().score&&Ce.replaceTop(Ze)),ie%1e3==0&&Date.now()-Fe>=10)){F?setImmediate(_e):setTimeout(_e);return}}else if(P&&P.key)for(var te=P.key;ie>=0;--ie){var qe=D[ie],ae=R(qe,te);if(!!ae){q(ae)||(ae=z.getPrepared(ae));var Ge=Le($,ae,se);if(Ge!==null&&!(Ge.score<G)&&(Ge={target:Ge.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Ge.score,indexes:Ge.indexes,obj:qe},le<ve?(Ce.add(Ge),++le):(++Y,Ge.score>Ce.peek().score&&Ce.replaceTop(Ge)),ie%1e3==0&&Date.now()-Fe>=10)){F?setImmediate(_e):setTimeout(_e);return}}}else for(;ie>=0;--ie){var ae=D[ie];if(!!ae){q(ae)||(ae=z.getPrepared(ae));var Ge=Le($,ae,se);if(Ge!==null&&!(Ge.score<G)&&(le<ve?(Ce.add(Ge),++le):(++Y,Ge.score>Ce.peek().score&&Ce.replaceTop(Ge)),ie%1e3==0&&Date.now()-Fe>=10)){F?setImmediate(_e):setTimeout(_e);return}}}if(le===0)return re(E);for(var st=new Array(le),Se=le-1;Se>=0;--Se)st[Se]=Ce.poll();st.total=le+Y,re(st)}a(_e,"step"),F?setImmediate(_e):_e()});return X.cancel=function(){j=!0},X},highlight:function($,D,P){if($===null)return null;D===void 0&&(D="<b>"),P===void 0&&(P="</b>");for(var j="",X=0,re=!1,ne=$.target,se=ne.length,Ce=$.indexes,ie=0;ie<se;++ie){var G=ne[ie];if(Ce[X]===ie){if(++X,re||(re=!0,j+=D),X===Ce.length){j+=G+P+ne.substr(ie+1);break}}else re&&(re=!1,j+=P);j+=G}return j},prepare:function($){if(!!$)return{target:$,_targetLowerCodes:z.prepareLowerCodes($),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function($){if(!!$)return{target:$,_targetLowerCodes:z.prepareLowerCodes($),_nextBeginningIndexes:z.prepareNextBeginningIndexes($),score:null,indexes:null,obj:null}},prepareSearch:function($){if(!!$)return z.prepareLowerCodes($)},getPrepared:function($){if($.length>999)return z.prepare($);var D=C.get($);return D!==void 0||(D=z.prepare($),C.set($,D)),D},getPreparedSearch:function($){if($.length>999)return z.prepareSearch($);var D=f.get($);return D!==void 0||(D=z.prepareSearch($),f.set($,D)),D},algorithm:function($,D,P){for(var j=D._targetLowerCodes,X=$.length,re=j.length,ne=0,se=0,Ce=0,ie=0;;){var G=P===j[se];if(G){if(b[ie++]=se,++ne,ne===X)break;P=$[Ce===0?ne:Ce===ne?ne+1:Ce===ne-1?ne-1:ne]}if(++se,se>=re)for(;;){if(ne<=1)return null;if(Ce===0){--ne;var ve=$[ne];if(P===ve)continue;Ce=ne}else{if(Ce===1)return null;--Ce,ne=Ce,P=$[ne+1];var ve=$[ne];if(P===ve)continue}ie=ne,se=b[ie-1]+1;break}}var ne=0,Me=0,Le=!1,le=0,Y=D._nextBeginningIndexes;Y===null&&(Y=D._nextBeginningIndexes=z.prepareNextBeginningIndexes(D.target));var _e=se=b[0]===0?0:Y[b[0]-1];if(se!==re)for(;;)if(se>=re){if(ne<=0){if(++Me,Me>X-2)break;if($[Me]===$[Me+1])continue;se=_e;continue}--ne;var Fe=_[--le];se=Y[Fe]}else{var G=$[Me===0?ne:Me===ne?ne+1:Me===ne-1?ne-1:ne]===j[se];if(G){if(_[le++]=se,++ne,ne===X){Le=!0;break}++se}else se=Y[se]}{if(Le)var Ie=_,ee=le;else var Ie=b,ee=ie;for(var ut=0,qe=-1,Ze=0;Ze<X;++Ze){var se=Ie[Ze];qe!==se-1&&(ut-=se),qe=se}Le?Me!==0&&(ut+=-20):(ut*=1e3,Ce!==0&&(ut+=-20)),ut-=re-X,D.score=ut,D.indexes=new Array(ee);for(var Ze=ee-1;Ze>=0;--Ze)D.indexes[Ze]=Ie[Ze];return D}},algorithmNoTypo:function($,D,P){for(var j=D._targetLowerCodes,X=$.length,re=j.length,ne=0,se=0,Ce=0;;){var ie=P===j[se];if(ie){if(b[Ce++]=se,++ne,ne===X)break;P=$[ne]}if(++se,se>=re)return null}var ne=0,G=!1,ve=0,Me=D._nextBeginningIndexes;Me===null&&(Me=D._nextBeginningIndexes=z.prepareNextBeginningIndexes(D.target));var Le=se=b[0]===0?0:Me[b[0]-1];if(se!==re)for(;;)if(se>=re){if(ne<=0)break;--ne;var le=_[--ve];se=Me[le]}else{var ie=$[ne]===j[se];if(ie){if(_[ve++]=se,++ne,ne===X){G=!0;break}++se}else se=Me[se]}{if(G)var Y=_,_e=ve;else var Y=b,_e=Ce;for(var Fe=0,Ie=-1,ee=0;ee<X;++ee){var se=Y[ee];Ie!==se-1&&(Fe-=se),Ie=se}G||(Fe*=1e3),Fe-=re-X,D.score=Fe,D.indexes=new Array(_e);for(var ee=_e-1;ee>=0;--ee)D.indexes[ee]=Y[ee];return D}},prepareLowerCodes:function($){for(var D=$.length,P=[],j=$.toLowerCase(),X=0;X<D;++X)P[X]=j.charCodeAt(X);return P},prepareBeginningIndexes:function($){for(var D=$.length,P=[],j=0,X=!1,re=!1,ne=0;ne<D;++ne){var se=$.charCodeAt(ne),Ce=se>=65&&se<=90,ie=Ce||se>=97&&se<=122||se>=48&&se<=57,G=Ce&&!X||!re||!ie;X=Ce,re=ie,G&&(P[j++]=ne)}return P},prepareNextBeginningIndexes:function($){for(var D=$.length,P=z.prepareBeginningIndexes($),j=[],X=P[0],re=0,ne=0;ne<D;++ne)X>ne?j[ne]=X:(X=P[++re],j[ne]=X===void 0?D:X);return j},cleanup:x,new:w};return z}a(w,"fuzzysortNew");var F=typeof window=="undefined",C=new Map,f=new Map,E=[];E.total=0;var b=[],_=[];function x(){C.clear(),f.clear(),b=[],_=[]}a(x,"cleanup");function M(O){for(var z=-9007199254740991,$=O.length-1;$>=0;--$){var D=O[$];if(D!==null){var P=D.score;P>z&&(z=P)}}return z===-9007199254740991?null:z}a(M,"defaultScoreFn");function R(O,z){var $=O[z];if($!==void 0)return $;var D=z;Array.isArray(z)||(D=z.split("."));for(var P=D.length,j=-1;O&&++j<P;)O=O[D[j]];return O}a(R,"getValue");function q(O){return typeof O=="object"}a(q,"isObj");var K=a(function(){var O=[],z=0,$={};function D(){for(var P=0,j=O[P],X=1;X<z;){var re=X+1;P=X,re<z&&O[re].score<O[X].score&&(P=re),O[P-1>>1]=O[P],X=1+(P<<1)}for(var ne=P-1>>1;P>0&&j.score<O[ne].score;ne=(P=ne)-1>>1)O[P]=O[ne];O[P]=j}return a(D,"n"),$.add=function(P){var j=z;O[z++]=P;for(var X=j-1>>1;j>0&&P.score<O[X].score;X=(j=X)-1>>1)O[j]=O[X];O[j]=P},$.poll=function(){if(z!==0){var P=O[0];return O[0]=O[--z],D(),P}},$.peek=function(P){if(z!==0)return O[0]},$.replaceTop=function(P){O[0]=P,D()},$},"fastpriorityqueue"),oe=K();return w()},"UMD"))},645:(fe,u)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(S,p,g,y,w){var F,C,f=w*8-y-1,E=(1<<f)-1,b=E>>1,_=-7,x=g?w-1:0,M=g?-1:1,R=S[p+x];for(x+=M,F=R&(1<<-_)-1,R>>=-_,_+=f;_>0;F=F*256+S[p+x],x+=M,_-=8);for(C=F&(1<<-_)-1,F>>=-_,_+=y;_>0;C=C*256+S[p+x],x+=M,_-=8);if(F===0)F=1-b;else{if(F===E)return C?NaN:(R?-1:1)*(1/0);C=C+Math.pow(2,y),F=F-b}return(R?-1:1)*C*Math.pow(2,F-y)},u.write=function(S,p,g,y,w,F){var C,f,E,b=F*8-w-1,_=(1<<b)-1,x=_>>1,M=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=y?0:F-1,q=y?1:-1,K=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(f=isNaN(p)?1:0,C=_):(C=Math.floor(Math.log(p)/Math.LN2),p*(E=Math.pow(2,-C))<1&&(C--,E*=2),C+x>=1?p+=M/E:p+=M*Math.pow(2,1-x),p*E>=2&&(C++,E/=2),C+x>=_?(f=0,C=_):C+x>=1?(f=(p*E-1)*Math.pow(2,w),C=C+x):(f=p*Math.pow(2,x-1)*Math.pow(2,w),C=0));w>=8;S[g+R]=f&255,R+=q,f/=256,w-=8);for(C=C<<w|f,b+=w;b>0;S[g+R]=C&255,R+=q,C/=256,b-=8);S[g+R-q]|=K*128}},3300:(fe,u)=>{"use strict";var S=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof p!="undefined")return p;throw new Error("unable to locate global object")},"getGlobal"),p=S();fe.exports=u=p.fetch,p.fetch&&(u.default=p.fetch.bind(p)),u.Headers=p.Headers,u.Request=p.Request,u.Response=p.Response},447:(fe,u,S)=>{var p=S(2479);fe.exports=p(g),fe.exports.strict=p(y),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return y(this)},configurable:!0})});function g(w){var F=a(function(){return F.called?F.value:(F.called=!0,F.value=w.apply(this,arguments))},"f");return F.called=!1,F}a(g,"once");function y(w){var F=a(function(){if(F.called)throw new Error(F.onceError);return F.called=!0,F.value=w.apply(this,arguments)},"f"),C=w.name||"Function wrapped with `once`";return F.onceError=C+" shouldn't be called more than once",F.called=!1,F}a(y,"onceStrict")},6470:(fe,u,S)=>{"use strict";var p=S(4155);function g(C){if(typeof C!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(C))}a(g,"assertPath");function y(C,f){for(var E="",b=0,_=-1,x=0,M,R=0;R<=C.length;++R){if(R<C.length)M=C.charCodeAt(R);else{if(M===47)break;M=47}if(M===47){if(!(_===R-1||x===1))if(_!==R-1&&x===2){if(E.length<2||b!==2||E.charCodeAt(E.length-1)!==46||E.charCodeAt(E.length-2)!==46){if(E.length>2){var q=E.lastIndexOf("/");if(q!==E.length-1){q===-1?(E="",b=0):(E=E.slice(0,q),b=E.length-1-E.lastIndexOf("/")),_=R,x=0;continue}}else if(E.length===2||E.length===1){E="",b=0,_=R,x=0;continue}}f&&(E.length>0?E+="/..":E="..",b=2)}else E.length>0?E+="/"+C.slice(_+1,R):E=C.slice(_+1,R),b=R-_-1;_=R,x=0}else M===46&&x!==-1?++x:x=-1}return E}a(y,"normalizeStringPosix");function w(C,f){var E=f.dir||f.root,b=f.base||(f.name||"")+(f.ext||"");return E?E===f.root?E+b:E+C+b:b}a(w,"_format");var F={resolve:a(function(){for(var f="",E=!1,b,_=arguments.length-1;_>=-1&&!E;_--){var x;_>=0?x=arguments[_]:(b===void 0&&(b=p.cwd()),x=b),g(x),x.length!==0&&(f=x+"/"+f,E=x.charCodeAt(0)===47)}return f=y(f,!E),E?f.length>0?"/"+f:"/":f.length>0?f:"."},"resolve"),normalize:a(function(f){if(g(f),f.length===0)return".";var E=f.charCodeAt(0)===47,b=f.charCodeAt(f.length-1)===47;return f=y(f,!E),f.length===0&&!E&&(f="."),f.length>0&&b&&(f+="/"),E?"/"+f:f},"normalize"),isAbsolute:a(function(f){return g(f),f.length>0&&f.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var f,E=0;E<arguments.length;++E){var b=arguments[E];g(b),b.length>0&&(f===void 0?f=b:f+="/"+b)}return f===void 0?".":F.normalize(f)},"join"),relative:a(function(f,E){if(g(f),g(E),f===E||(f=F.resolve(f),E=F.resolve(E),f===E))return"";for(var b=1;b<f.length&&f.charCodeAt(b)===47;++b);for(var _=f.length,x=_-b,M=1;M<E.length&&E.charCodeAt(M)===47;++M);for(var R=E.length,q=R-M,K=x<q?x:q,oe=-1,O=0;O<=K;++O){if(O===K){if(q>K){if(E.charCodeAt(M+O)===47)return E.slice(M+O+1);if(O===0)return E.slice(M+O)}else x>K&&(f.charCodeAt(b+O)===47?oe=O:O===0&&(oe=0));break}var z=f.charCodeAt(b+O),$=E.charCodeAt(M+O);if(z!==$)break;z===47&&(oe=O)}var D="";for(O=b+oe+1;O<=_;++O)(O===_||f.charCodeAt(O)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+E.slice(M+oe):(M+=oe,E.charCodeAt(M)===47&&++M,E.slice(M))},"relative"),_makeLong:a(function(f){return f},"_makeLong"),dirname:a(function(f){if(g(f),f.length===0)return".";for(var E=f.charCodeAt(0),b=E===47,_=-1,x=!0,M=f.length-1;M>=1;--M)if(E=f.charCodeAt(M),E===47){if(!x){_=M;break}}else x=!1;return _===-1?b?"/":".":b&&_===1?"//":f.slice(0,_)},"dirname"),basename:a(function(f,E){if(E!==void 0&&typeof E!="string")throw new TypeError('"ext" argument must be a string');g(f);var b=0,_=-1,x=!0,M;if(E!==void 0&&E.length>0&&E.length<=f.length){if(E.length===f.length&&E===f)return"";var R=E.length-1,q=-1;for(M=f.length-1;M>=0;--M){var K=f.charCodeAt(M);if(K===47){if(!x){b=M+1;break}}else q===-1&&(x=!1,q=M+1),R>=0&&(K===E.charCodeAt(R)?--R==-1&&(_=M):(R=-1,_=q))}return b===_?_=q:_===-1&&(_=f.length),f.slice(b,_)}else{for(M=f.length-1;M>=0;--M)if(f.charCodeAt(M)===47){if(!x){b=M+1;break}}else _===-1&&(x=!1,_=M+1);return _===-1?"":f.slice(b,_)}},"basename"),extname:a(function(f){g(f);for(var E=-1,b=0,_=-1,x=!0,M=0,R=f.length-1;R>=0;--R){var q=f.charCodeAt(R);if(q===47){if(!x){b=R+1;break}continue}_===-1&&(x=!1,_=R+1),q===46?E===-1?E=R:M!==1&&(M=1):E!==-1&&(M=-1)}return E===-1||_===-1||M===0||M===1&&E===_-1&&E===b+1?"":f.slice(E,_)},"extname"),format:a(function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return w("/",f)},"format"),parse:a(function(f){g(f);var E={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return E;var b=f.charCodeAt(0),_=b===47,x;_?(E.root="/",x=1):x=0;for(var M=-1,R=0,q=-1,K=!0,oe=f.length-1,O=0;oe>=x;--oe){if(b=f.charCodeAt(oe),b===47){if(!K){R=oe+1;break}continue}q===-1&&(K=!1,q=oe+1),b===46?M===-1?M=oe:O!==1&&(O=1):M!==-1&&(O=-1)}return M===-1||q===-1||O===0||O===1&&M===q-1&&M===R+1?q!==-1&&(R===0&&_?E.base=E.name=f.slice(1,q):E.base=E.name=f.slice(R,q)):(R===0&&_?(E.name=f.slice(1,M),E.base=f.slice(1,q)):(E.name=f.slice(R,M),E.base=f.slice(R,q)),E.ext=f.slice(M,q)),R>0?E.dir=f.slice(0,R-1):_&&(E.dir="/"),E},"parse"),sep:"/",delimiter:":",win32:null,posix:null};F.posix=F,fe.exports=F},8985:(fe,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Deferred=void 0;class S{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((g,y)=>{this.reject=y,this.resolve=g})}}a(S,"Deferred"),u.Deferred=S},7279:(fe,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EndOfStreamError=u.defaultMessages=void 0,u.defaultMessages="End-Of-Stream";class S extends Error{constructor(){super(u.defaultMessages)}}a(S,"EndOfStreamError"),u.EndOfStreamError=S},6654:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StreamReader=u.EndOfStreamError=void 0;const p=S(7279),g=S(8985);var y=S(7279);Object.defineProperty(u,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});const w=1*1024*1024;class F{constructor(f){if(this.s=f,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!f.read||!f.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new p.EndOfStreamError)),this.s.once("error",E=>this.reject(E)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(f,E,b){const _=await this.read(f,E,b);return this.peekQueue.push(f.subarray(E,E+_)),_}async read(f,E,b){if(b===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new p.EndOfStreamError;let _=b,x=0;for(;this.peekQueue.length>0&&_>0;){const M=this.peekQueue.pop();if(!M)throw new Error("peekData should be defined");const R=Math.min(M.length,_);f.set(M.subarray(0,R),E+x),x+=R,_-=R,R<M.length&&this.peekQueue.push(M.subarray(R))}for(;_>0&&!this.endOfStream;){const M=Math.min(_,w),R=await this.readFromStream(f,E+x,M);if(x+=R,R<M)break;_-=R}return x}async readFromStream(f,E,b){const _=this.s.read(b);if(_)return f.set(_,E),_.length;{const x={buffer:f,offset:E,length:b,deferred:new g.Deferred};return this.deferred=x.deferred,this.s.once("readable",()=>{this.readDeferred(x)}),x.deferred.promise}}readDeferred(f){const E=this.s.read(f.length);E?(f.buffer.set(E,f.offset),f.deferred.resolve(E.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(f)})}reject(f){this.endOfStream=!0,this.deferred&&(this.deferred.reject(f),this.deferred=null)}}a(F,"StreamReader"),u.StreamReader=F},5167:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StreamReader=u.EndOfStreamError=void 0;var p=S(7279);Object.defineProperty(u,"EndOfStreamError",{enumerable:!0,get:function(){return p.EndOfStreamError}});var g=S(6654);Object.defineProperty(u,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})},4155:fe=>{var u=fe.exports={},S,p;function g(){throw new Error("setTimeout has not been defined")}a(g,"defaultSetTimout");function y(){throw new Error("clearTimeout has not been defined")}a(y,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?S=setTimeout:S=g}catch(q){S=g}try{typeof clearTimeout=="function"?p=clearTimeout:p=y}catch(q){p=y}}();function w(q){if(S===setTimeout)return setTimeout(q,0);if((S===g||!S)&&setTimeout)return S=setTimeout,setTimeout(q,0);try{return S(q,0)}catch(K){try{return S.call(null,q,0)}catch(oe){return S.call(this,q,0)}}}a(w,"runTimeout");function F(q){if(p===clearTimeout)return clearTimeout(q);if((p===y||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(q);try{return p(q)}catch(K){try{return p.call(null,q)}catch(oe){return p.call(this,q)}}}a(F,"runClearTimeout");var C=[],f=!1,E,b=-1;function _(){!f||!E||(f=!1,E.length?C=E.concat(C):b=-1,C.length&&x())}a(_,"cleanUpNextTick");function x(){if(!f){var q=w(_);f=!0;for(var K=C.length;K;){for(E=C,C=[];++b<K;)E&&E[b].run();b=-1,K=C.length}E=null,f=!1,F(q)}}a(x,"drainQueue"),u.nextTick=function(q){var K=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)K[oe-1]=arguments[oe];C.push(new M(q,K)),C.length===1&&!f&&w(x)};function M(q,K){this.fun=q,this.array=K}a(M,"Item"),M.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function R(){}a(R,"noop"),u.on=R,u.addListener=R,u.once=R,u.off=R,u.removeListener=R,u.removeAllListeners=R,u.emit=R,u.prependListener=R,u.prependOnceListener=R,u.listeners=function(q){return[]},u.binding=function(q){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(q){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},842:(fe,u,S)=>{"use strict";var p=S(8764).Buffer;Object.defineProperty(u,"__esModule",{value:!0}),u.AbstractTokenizer=void 0;const g=S(5167);class y{constructor(F){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=F||{}}async readToken(F,C=this.position){const f=p.alloc(F.len);if(await this.readBuffer(f,{position:C})<F.len)throw new g.EndOfStreamError;return F.get(f,0)}async peekToken(F,C=this.position){const f=p.alloc(F.len);if(await this.peekBuffer(f,{position:C})<F.len)throw new g.EndOfStreamError;return F.get(f,0)}async readNumber(F){if(await this.readBuffer(this.numBuffer,{length:F.len})<F.len)throw new g.EndOfStreamError;return F.get(this.numBuffer,0)}async peekNumber(F){if(await this.peekBuffer(this.numBuffer,{length:F.len})<F.len)throw new g.EndOfStreamError;return F.get(this.numBuffer,0)}async ignore(F){if(this.fileInfo.size!==void 0){const C=this.fileInfo.size-this.position;if(F>C)return this.position+=C,C}return this.position+=F,F}async close(){}normalizeOptions(F,C){if(C&&C.position!==void 0&&C.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return C?{mayBeLess:C.mayBeLess===!0,offset:C.offset?C.offset:0,length:C.length?C.length:F.length-(C.offset?C.offset:0),position:C.position?C.position:this.position}:{mayBeLess:!1,offset:0,length:F.length,position:this.position}}}a(y,"AbstractTokenizer"),u.AbstractTokenizer=y},778:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.BufferTokenizer=void 0;const p=S(5167),g=S(842);class y extends g.AbstractTokenizer{constructor(F,C){super(C);this.uint8Array=F,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:F.length}async readBuffer(F,C){if(C&&C.position){if(C.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=C.position}const f=await this.peekBuffer(F,C);return this.position+=f,f}async peekBuffer(F,C){const f=this.normalizeOptions(F,C),E=Math.min(this.uint8Array.length-f.position,f.length);if(!f.mayBeLess&&E<f.length)throw new p.EndOfStreamError;return F.set(this.uint8Array.subarray(f.position,f.position+E),f.offset),E}async close(){}}a(y,"BufferTokenizer"),u.BufferTokenizer=y},7859:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromFile=u.FileTokenizer=void 0;const p=S(842),g=S(5167),y=S(7209);class w extends p.AbstractTokenizer{constructor(f,E){super(E);this.fd=f}async readBuffer(f,E){const b=this.normalizeOptions(f,E);this.position=b.position;const _=await y.read(this.fd,f,b.offset,b.length,b.position);if(this.position+=_.bytesRead,_.bytesRead<b.length&&(!E||!E.mayBeLess))throw new g.EndOfStreamError;return _.bytesRead}async peekBuffer(f,E){const b=this.normalizeOptions(f,E),_=await y.read(this.fd,f,b.offset,b.length,b.position);if(!b.mayBeLess&&_.bytesRead<b.length)throw new g.EndOfStreamError;return _.bytesRead}async close(){return y.close(this.fd)}}a(w,"FileTokenizer"),u.FileTokenizer=w;async function F(C){const f=await y.stat(C);if(!f.isFile)throw new Error(`File not a file: ${C}`);const E=await y.open(C,"r");return new w(E,{path:C,size:f.size})}a(F,"fromFile"),u.fromFile=F},7209:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.readFile=u.writeFileSync=u.writeFile=u.read=u.open=u.close=u.stat=u.createReadStream=u.pathExists=void 0;const p=S(4059);u.pathExists=p.existsSync,u.createReadStream=p.createReadStream;async function g(b){return new Promise((_,x)=>{p.stat(b,(M,R)=>{M?x(M):_(R)})})}a(g,"stat"),u.stat=g;async function y(b){return new Promise((_,x)=>{p.close(b,M=>{M?x(M):_()})})}a(y,"close"),u.close=y;async function w(b,_){return new Promise((x,M)=>{p.open(b,_,(R,q)=>{R?M(R):x(q)})})}a(w,"open"),u.open=w;async function F(b,_,x,M,R){return new Promise((q,K)=>{p.read(b,_,x,M,R,(oe,O,z)=>{oe?K(oe):q({bytesRead:O,buffer:z})})})}a(F,"read"),u.read=F;async function C(b,_){return new Promise((x,M)=>{p.writeFile(b,_,R=>{R?M(R):x()})})}a(C,"writeFile"),u.writeFile=C;function f(b,_){p.writeFileSync(b,_)}a(f,"writeFileSync"),u.writeFileSync=f;async function E(b){return new Promise((_,x)=>{p.readFile(b,(M,R)=>{M?x(M):_(R)})})}a(E,"readFile"),u.readFile=E},599:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ReadStreamTokenizer=void 0;const p=S(842),g=S(5167),y=256e3;class w extends p.AbstractTokenizer{constructor(C,f){super(f);this.streamReader=new g.StreamReader(C)}async getFileInfo(){return this.fileInfo}async readBuffer(C,f){const E=this.normalizeOptions(C,f),b=E.position-this.position;if(b>0)return await this.ignore(b),this.readBuffer(C,f);if(b<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(E.length===0)return 0;const _=await this.streamReader.read(C,E.offset,E.length);if(this.position+=_,(!f||!f.mayBeLess)&&_<E.length)throw new g.EndOfStreamError;return _}async peekBuffer(C,f){const E=this.normalizeOptions(C,f);let b=0;if(E.position){const _=E.position-this.position;if(_>0){const x=new Uint8Array(E.length+_);return b=await this.peekBuffer(x,{mayBeLess:E.mayBeLess}),C.set(x.subarray(_),E.offset),b-_}else if(_<0)throw new Error("Cannot peek from a negative offset in a stream")}if(E.length>0){try{b=await this.streamReader.peek(C,E.offset,E.length)}catch(_){if(f&&f.mayBeLess&&_ instanceof g.EndOfStreamError)return 0;throw _}if(!E.mayBeLess&&b<E.length)throw new g.EndOfStreamError}return b}async ignore(C){const f=Math.min(y,C),E=new Uint8Array(f);let b=0;for(;b<C;){const _=C-b,x=await this.readBuffer(E,{length:Math.min(f,_)});if(x<0)return x;b+=x}return b}}a(w,"ReadStreamTokenizer"),u.ReadStreamTokenizer=w},5849:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromBuffer=u.fromStream=u.EndOfStreamError=void 0;const p=S(599),g=S(778);var y=S(5167);Object.defineProperty(u,"EndOfStreamError",{enumerable:!0,get:function(){return y.EndOfStreamError}});function w(C,f){return f=f||{},new p.ReadStreamTokenizer(C,f)}a(w,"fromStream"),u.fromStream=w;function F(C,f){return new g.BufferTokenizer(C,f)}a(F,"fromBuffer"),u.fromBuffer=F},6597:(fe,u,S)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromStream=u.fromBuffer=u.EndOfStreamError=u.fromFile=void 0;const p=S(7209),g=S(5849);var y=S(7859);Object.defineProperty(u,"fromFile",{enumerable:!0,get:function(){return y.fromFile}});var w=S(5849);Object.defineProperty(u,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),Object.defineProperty(u,"fromBuffer",{enumerable:!0,get:function(){return w.fromBuffer}});async function F(C,f){if(f=f||{},C.path){const E=await p.stat(C.path);f.path=C.path,f.size=E.size}return g.fromStream(C,f)}a(F,"fromStream"),u.fromStream=F},3416:(fe,u,S)=>{"use strict";var p=S(8764).Buffer;Object.defineProperty(u,"__esModule",{value:!0}),u.AnsiStringType=u.StringType=u.BufferType=u.Uint8ArrayType=u.IgnoreType=u.Float80_LE=u.Float80_BE=u.Float64_LE=u.Float64_BE=u.Float32_LE=u.Float32_BE=u.Float16_LE=u.Float16_BE=u.INT64_BE=u.UINT64_BE=u.INT64_LE=u.UINT64_LE=u.INT32_LE=u.INT32_BE=u.INT24_BE=u.INT24_LE=u.INT16_LE=u.INT16_BE=u.INT8=u.UINT32_BE=u.UINT32_LE=u.UINT24_BE=u.UINT24_LE=u.UINT16_BE=u.UINT16_LE=u.UINT8=void 0;const g=S(645);function y(b){return new DataView(b.buffer,b.byteOffset)}a(y,"dv"),u.UINT8={len:1,get(b,_){return y(b).getUint8(_)},put(b,_,x){return y(b).setUint8(_,x),_+1}},u.UINT16_LE={len:2,get(b,_){return y(b).getUint16(_,!0)},put(b,_,x){return y(b).setUint16(_,x,!0),_+2}},u.UINT16_BE={len:2,get(b,_){return y(b).getUint16(_)},put(b,_,x){return y(b).setUint16(_,x),_+2}},u.UINT24_LE={len:3,get(b,_){const x=y(b);return x.getUint8(_)+(x.getUint16(_+1,!0)<<8)},put(b,_,x){const M=y(b);return M.setUint8(_,x&255),M.setUint16(_+1,x>>8,!0),_+3}},u.UINT24_BE={len:3,get(b,_){const x=y(b);return(x.getUint16(_)<<8)+x.getUint8(_+2)},put(b,_,x){const M=y(b);return M.setUint16(_,x>>8),M.setUint8(_+2,x&255),_+3}},u.UINT32_LE={len:4,get(b,_){return y(b).getUint32(_,!0)},put(b,_,x){return y(b).setUint32(_,x,!0),_+4}},u.UINT32_BE={len:4,get(b,_){return y(b).getUint32(_)},put(b,_,x){return y(b).setUint32(_,x),_+4}},u.INT8={len:1,get(b,_){return y(b).getInt8(_)},put(b,_,x){return y(b).setInt8(_,x),_+2}},u.INT16_BE={len:2,get(b,_){return y(b).getInt16(_)},put(b,_,x){return y(b).setInt16(_,x),_+2}},u.INT16_LE={len:2,get(b,_){return y(b).getInt16(_,!0)},put(b,_,x){return y(b).setInt16(_,x,!0),_+2}},u.INT24_LE={len:3,get(b,_){const x=u.UINT24_LE.get(b,_);return x>8388607?x-16777216:x},put(b,_,x){const M=y(b);return M.setUint8(_,x&255),M.setUint16(_+1,x>>8,!0),_+3}},u.INT24_BE={len:3,get(b,_){const x=u.UINT24_BE.get(b,_);return x>8388607?x-16777216:x},put(b,_,x){const M=y(b);return M.setUint16(_,x>>8),M.setUint8(_+2,x&255),_+3}},u.INT32_BE={len:4,get(b,_){return y(b).getInt32(_)},put(b,_,x){return y(b).setInt32(_,x),_+4}},u.INT32_LE={len:4,get(b,_){return y(b).getInt32(_,!0)},put(b,_,x){return y(b).setInt32(_,x,!0),_+4}},u.UINT64_LE={len:8,get(b,_){return y(b).getBigUint64(_,!0)},put(b,_,x){return y(b).setBigUint64(_,x,!0),_+8}},u.INT64_LE={len:8,get(b,_){return y(b).getBigInt64(_,!0)},put(b,_,x){return y(b).setBigInt64(_,x,!0),_+8}},u.UINT64_BE={len:8,get(b,_){return y(b).getBigUint64(_)},put(b,_,x){return y(b).setBigUint64(_,x),_+8}},u.INT64_BE={len:8,get(b,_){return y(b).getBigInt64(_)},put(b,_,x){return y(b).setBigInt64(_,x),_+8}},u.Float16_BE={len:2,get(b,_){return g.read(b,_,!1,10,this.len)},put(b,_,x){return g.write(b,x,_,!1,10,this.len),_+this.len}},u.Float16_LE={len:2,get(b,_){return g.read(b,_,!0,10,this.len)},put(b,_,x){return g.write(b,x,_,!0,10,this.len),_+this.len}},u.Float32_BE={len:4,get(b,_){return y(b).getFloat32(_)},put(b,_,x){return y(b).setFloat32(_,x),_+4}},u.Float32_LE={len:4,get(b,_){return y(b).getFloat32(_,!0)},put(b,_,x){return y(b).setFloat32(_,x,!0),_+4}},u.Float64_BE={len:8,get(b,_){return y(b).getFloat64(_)},put(b,_,x){return y(b).setFloat64(_,x),_+8}},u.Float64_LE={len:8,get(b,_){return y(b).getFloat64(_,!0)},put(b,_,x){return y(b).setFloat64(_,x,!0),_+8}},u.Float80_BE={len:10,get(b,_){return g.read(b,_,!1,63,this.len)},put(b,_,x){return g.write(b,x,_,!1,63,this.len),_+this.len}},u.Float80_LE={len:10,get(b,_){return g.read(b,_,!0,63,this.len)},put(b,_,x){return g.write(b,x,_,!0,63,this.len),_+this.len}};class w{constructor(_){this.len=_}get(_,x){}}a(w,"IgnoreType"),u.IgnoreType=w;class F{constructor(_){this.len=_}get(_,x){return _.subarray(x,x+this.len)}}a(F,"Uint8ArrayType"),u.Uint8ArrayType=F;class C{constructor(_){this.len=_}get(_,x){return p.from(_.subarray(x,x+this.len))}}a(C,"BufferType"),u.BufferType=C;class f{constructor(_,x){this.len=_,this.encoding=x}get(_,x){return p.from(_).toString(this.encoding,x,x+this.len)}}a(f,"StringType"),u.StringType=f;class E{constructor(_){this.len=_}static decode(_,x,M){let R="";for(let q=x;q<M;++q)R+=E.codePointToString(E.singleByteDecoder(_[q]));return R}static inRange(_,x,M){return x<=_&&_<=M}static codePointToString(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode((_>>10)+55296,(_&1023)+56320))}static singleByteDecoder(_){if(E.inRange(_,0,127))return _;const x=E.windows1252[_-128];if(x===null)throw Error("invaliding encoding");return x}get(_,x=0){return E.decode(_,x,x+this.len)}}a(E,"AnsiStringType"),u.AnsiStringType=E,E.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:fe=>{fe.exports=u;function u(S,p){if(S&&p)return u(S)(p);if(typeof S!="function")throw new TypeError("need wrapper function");return Object.keys(S).forEach(function(y){g[y]=S[y]}),g;function g(){for(var y=new Array(arguments.length),w=0;w<y.length;w++)y[w]=arguments[w];var F=S.apply(this,y),C=y[y.length-1];return typeof F=="function"&&F!==C&&Object.keys(C).forEach(function(f){F[f]=C[f]}),F}a(g,"wrapper")}a(u,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(fe){var u=__webpack_module_cache__[fe];if(u!==void 0)return u.exports;var S=__webpack_module_cache__[fe]={id:fe,loaded:!1,exports:{}};return __webpack_modules__[fe].call(S.exports,S,S.exports,__webpack_require__),S.loaded=!0,S.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=fe=>{var u=fe&&fe.__esModule?()=>fe.default:()=>fe;return __webpack_require__.d(u,{a:u}),u}})(),(()=>{__webpack_require__.d=(fe,u)=>{for(var S in u)__webpack_require__.o(u,S)&&!__webpack_require__.o(fe,S)&&Object.defineProperty(fe,S,{enumerable:!0,get:u[S]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(fe){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(fe,u)=>Object.prototype.hasOwnProperty.call(fe,u)})(),(()=>{__webpack_require__.r=fe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=fe=>(fe.paths=[],fe.children||(fe.children=[]),fe)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>Kd});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{max:()=>Vt,min:()=>kr});const u=require("vscode"),S=new TextDecoder,p=new TextEncoder,g=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function y(t){const e=p.encode(t),r=new Array(e.length);for(let n=0;n<e.length;++n)r[n]=g[e[n]];return r.join("")}a(y,"encodeUtf8Hex");function w(t){const e=t.match(/(\w{2})/g);if(e===null)return"";const r=new Uint8Array(e.map(n=>parseInt(n,16)));return S.decode(r)}a(w,"decodeUtf8Hex");const F=/^[0-9a-f]{40}$/i;function C(t){return t!==void 0&&F.test(t)}a(C,"isSha");const f=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function E(t){return f.test(t)}a(E,"isValidBranchName");function b(t){return t===""||t==="~"||t==="HEAD"?t:t.endsWith("^")?`${t.substr(0,7)}^`:t.substr(0,7)}a(b,"shortenRef");const _=47;function x(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,fragment:""}).toString()}a(x,"asKey");function M(t){if(t===void 0)return;const e=t.path.endsWith("/");return!e&&!t.query&&!t.fragment?t.toString():t.with({path:e?t.path.slice(0,-1):t.path,query:"",fragment:""}).toString()}a(M,"asFileKey");function R(t,e){return`${(e==null?void 0:e.excludeScheme)?"":`${t.scheme}-`}${t.authority}${t.path.endsWith("/")?t.path.slice(0,-1):t.path}`}a(R,"asFileStorageKey");function q(t){const e=t.path;let r=0,n=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===_){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)}a(q,"basename");function K(t){const e=t.path;if(e.length===1)return"/";let r,n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(r=e.charCodeAt(o),r===_){if(!i){n=o;break}}else i=!1;return n===-1?"/":e.slice(0,n)}a(K,"dirname");function oe(t){const e=t.path.lastIndexOf("/");return e===-1?t.with({path:"/"}):t.with({path:t.path.substring(0,e)})}a(oe,"getParent");function O(t,e){const r=typeof e=="string"?e:e.path;return r.startsWith(t.path)?u.Uri.joinPath(t,r.substr(t.path.length)):u.Uri.joinPath(t,r)}a(O,"joinRelativePath");function z(t,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),$(t,e)&&t.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):$(t,e)&&t.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(z,"isChild");function $(t,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),e.length===1||t.path.startsWith(e.endsWith("/")?e:`${e}/`)):e.scheme===t.scheme&&e.authority===t.authority&&(e.path.length===1||t.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a($,"isDescendent");function D(t){return t&&typeof t=="object"&&"scheme"in t}a(D,"isSerializedUri");var P;(function(t){t.authoritySeparator="+",t.scheme="vscode-vfs",t.baseVirtualWorkspaceUri=u.Uri.parse(`${t.scheme}://`);function e(c){const{authority:m}=c,B=m.indexOf(t.authoritySeparator);return B!==-1?m.substr(0,B):m}a(e,"getProviderId"),t.getProviderId=e;function r(c){return c.scheme!==t.scheme?c:c.with({scheme:e(c)})}a(r,"getProviderUri"),t.getProviderUri=r;function n(c,m){const B=new Map,I=u.workspace.textDocuments;if(I.length===0)return B;for(const L of I)L.uri.scheme===c&&m.some(ue=>$(L.uri,ue))&&B.set(x(L.uri),L.uri);return B}a(n,"getOpenUris"),t.getOpenUris=n;function i(c){return c.scheme===t.scheme?c:c.with({scheme:t.scheme})}a(i,"getVirtualUri"),t.getVirtualUri=i;function o(c,m){const[B,I]=c.authority.split(t.authoritySeparator);let L;if(I)try{const ue=JSON.parse(w(I));L=m?m(ue):ue}catch{}return{scheme:B,metadata:L}}a(o,"decodeAuthority"),t.decodeAuthority=o;function s(c,m){const B=m?`${t.authoritySeparator}${y(JSON.stringify(m))}`:"";return`${c}${B}`}a(s,"encodeAuthority"),t.encodeAuthority=s;function l(c){return c.authority.indexOf(t.authoritySeparator)===-1}a(l,"isCanonicalUri"),t.isCanonicalUri=l;function h(){var c,m;return(m=(c=u.workspace.workspaceFolders)==null?void 0:c.every(B=>B.uri.scheme===t.scheme))!=null?m:!1}a(h,"isVirtualWorkspace"),t.isVirtualWorkspace=h})(P||(P={}));var j;(function(t){t[t.Admin=100]="Admin",t[t.Maintain=40]="Maintain",t[t.WriteToPullRequest=31]="WriteToPullRequest",t[t.Write=30]="Write",t[t.Triage=20]="Triage",t[t.Read=10]="Read",t[t.None=0]="None"})(j||(j={}));var X;(function(t){t[t.Branch=0]="Branch",t[t.RemoteBranch=1]="RemoteBranch",t[t.Tag=2]="Tag",t[t.Commit=3]="Commit"})(X||(X={}));var re;(function(t){function e(r){return r!==void 0&&r.type===Ce.Active}a(e,"isActive"),t.isActive=e})(re||(re={}));var ne;(function(t){function e(r){const n=P.decodeAuthority(r).metadata;if(!(n===void 0||n.idx===void 0)){if(n.idx==="latest")return{type:se.Latest};if(C(n.idx))return{type:se.SHA,sha:n.idx}}}a(e,"decode"),t.decode=e})(ne||(ne={}));var se;(function(t){t[t.Latest=1]="Latest",t[t.SHA=2]="SHA"})(se||(se={}));var Ce;(function(t){t[t.NotIndexed=0]="NotIndexed",t[t.Indexed=1]="Indexed",t[t.Match=2]="Match",t[t.Active=3]="Active"})(Ce||(Ce={})),function(t){function e(r){return r!==void 0&&(r===t.Indexed||r===t.Match||r===t.Active)}a(e,"hasIndex"),t.hasIndex=e}(Ce||(Ce={}));var ie;(function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed",t[t.Merged=2]="Merged"})(ie||(ie={}));var G;(function(t){t[t.Changed=1]="Changed",t[t.Created=2]="Created",t[t.Deleted=3]="Deleted"})(G||(G={}));var ve;(function(t){t.CurrentWindow="currentWindow",t.NewWindow="newWindow",t.AddToWorkspace="addToWorkspace"})(ve||(ve={}));var Me;(function(t){t[t.Branch=0]="Branch",t[t.Tag=1]="Tag",t[t.Commit=2]="Commit",t[t.PullRequest=3]="PullRequest",t[t.Tree=4]="Tree"})(Me||(Me={}));var Le;(function(t){t[t.Abort=0]="Abort",t[t.KeepCurrent=1]="KeepCurrent",t[t.DiscardCurrent=2]="DiscardCurrent",t[t.Merge=3]="Merge"})(Le||(Le={}));var le;(function(t){t[t.Repository=0]="Repository",t[t.PullRequest=1]="PullRequest",t[t.Branch=2]="Branch",t[t.Commit=3]="Commit",t[t.File=4]="File",t[t.Tag=5]="Tag"})(le||(le={}));var Y;(function(t){t.Branch="branch",t.RemoteBranch="remoteBranch",t.PullRequestBranch="pullRequestBranch",t.PullRequestRemoteBranch="pullRequestRemoteBranch",t.Tag="tag",t.Commit="commit"})(Y||(Y={}));var _e;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(_e||(_e={}));var Fe;(function(t){t.Browse="browse",t.Edit="edit"})(Fe||(Fe={}));var Ie;(function(t){t.CommitFailedError="CommitFailedError",t.DetachedHEADError="DetachedHEADError",t.CommitToProtectedBranchError="CommitToProtectedBranchError",t.InvalidBranchNameError="InvalidBranchNameError",t.InvalidCredentialsError="InvalidCredentialsError",t.MergeConflictError="MergeConflictError",t.NothingToCommitError="NothingToCommitError",t.SyncConflictsError="SyncConflictsError",t.SyncOrFetchError="SyncOrFetchError",t.UnresolvedConflictsError="UnresolvedConflictsError",t.InvalidRepositoryError="InvalidRepositoryError",t.Unknown="Unknown"})(Ie||(Ie={}));class ee extends Error{constructor(e,r,n){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=r,this.action=n}static CommitFailedError(){return new ee("Failed to create and push commit",Ie.CommitFailedError)}static DetachedHEADError(e){return new ee(e,Ie.DetachedHEADError)}static CommitToProtectedBranchError(e){return new ee(e,Ie.CommitToProtectedBranchError)}static InvalidBranchNameError(e,r=!1){const n=r?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new ee(n,Ie.InvalidBranchNameError)}static InvalidCredentialsError(e,r){return new ee(e,Ie.InvalidCredentialsError,r)}static MergeConflictError(e){return new ee(e,Ie.MergeConflictError)}static NothingToCommitError(e){return new ee(e,Ie.NothingToCommitError)}static SyncOrFetchError(e=!1){const r=e?"Unable to sync the repository":"Unable to fetch the repository";return new ee(r,Ie.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new ee(e,Ie.SyncConflictsError)}static UnresolvedConflictsError(){return new ee("You have unresolved merge conflicts.",Ie.UnresolvedConflictsError)}static InvalidRepositoryError(){return new ee("The current repository is invalid",Ie.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:Ie.Unknown}}a(ee,"VirtualProviderError");const ut=6;var qe;(function(t){t.Off="off",t.Auto="auto",t.Always="always"})(qe||(qe={}));var Ze;(function(t){t.None="none",t.Latest="latest",t.Match="match",t.TipPlusLatest="tip+latest"})(Ze||(Ze={})),function(t){function e(r){return r===t.None||r===t.Latest||r===t.Match||r===t.TipPlusLatest?r:t.None}a(e,"sanitize"),t.sanitize=e}(Ze||(Ze={}));var Z;(function(t){t.Browse="browse",t.Edit="edit"})(Z||(Z={})),function(t){function e(n){return n===t.Browse||n===t.Edit?n:t.Edit}a(e,"sanitize"),t.sanitize=e;function r(n){return n===t.Browse?t.Edit:t.Browse}a(r,"toggle"),t.toggle=r}(Z||(Z={}));var te;(function(t){function e(r,n){return r.display===n.display&&r.index===n.index}a(e,"equals"),t.equals=e})(te||(te={}));var ae;(function(t){const e=new Map([[Y.Branch,Ze.None],[Y.RemoteBranch,Ze.None],[Y.PullRequestBranch,Ze.Match],[Y.PullRequestRemoteBranch,Ze.Match],[Y.Commit,Ze.Match],[Y.Tag,Ze.Match]]),r=new Map([[Y.Branch,Z.Edit],[Y.RemoteBranch,Z.Edit],[Y.PullRequestBranch,Z.Browse],[Y.PullRequestRemoteBranch,Z.Browse],[Y.Commit,Z.Browse],[Y.Tag,Z.Browse]]);function n(o){var s,l;return{display:(s=r.get(o))!=null?s:Z.Edit,index:(l=e.get(o))!=null?l:Ze.None}}a(n,"getDefault"),t.getDefault=n;function i(o){switch(o){case Y.Branch:case Y.RemoteBranch:return{display:Z.Browse,index:Ze.Latest};case Y.PullRequestBranch:case Y.PullRequestRemoteBranch:return{display:Z.Browse,index:Ze.Match};case Y.Commit:case Y.Tag:return{display:Z.Browse,index:Ze.Match};default:return{display:Z.Edit,index:Ze.None}}}a(i,"getIndexDefault"),t.getIndexDefault=i})(ae||(ae={}));const me=null;var Ge=__webpack_require__(5179),st=__webpack_require__.n(Ge);const Se="modes",Re="indexMemento";class Te{constructor(){this._onDidChange=new u.EventEmitter,this._onDidChangeAny=new u.EventEmitter,this.memoryState=new Map}static configure(e,r){xe.configPrefix=e,xe.state=r.workspaceState,r.subscriptions.push(u.workspace.onDidChangeConfiguration(xe.onConfigurationChanged,xe))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(Se),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const r of this.memoryState.entries())this.modes[r[0]]=r[1];this._state.update(Se,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Re),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,r,n){const i=this.inspect(e,r);return i===void 0&&n!==void 0?n:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,r,n){return n===void 0?u.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).get(e===void 0?this.configPrefix:e):u.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).get(e===void 0?this.configPrefix:e,n)}getMode(e,r,n){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:Z.sanitize(s.display),index:Ze.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(r===Y.Branch||r===Y.RemoteBranch)switch((i=u.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:Z.Edit,index:Ze.None};case"latest":return{display:Z.Browse,index:Ze.Latest};case"tipPlusLatest":return{display:Z.Edit,index:Ze.TipPlusLatest}}if(!n)return ae.getDefault(r)}setMode(e,r){const n=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(n,r),Promise.resolve()):(this.modes[n]=r,this._state.update(Se,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,r){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=r,this._state.update(Re,this.indexMemento))}getAny(e,r,n){return n===void 0?u.workspace.getConfiguration(void 0,r).get(e):u.workspace.getConfiguration(void 0,r).get(e,n)}changed(e,r,n){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${r}`,n))!=null?i:!0}inspect(e,r){return u.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,r).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,r){return u.workspace.getConfiguration(void 0,r).inspect(e)}async migrate(e,r,n){const i=xe.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,u.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,u.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,u.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&n.fallbackValue!==void 0&&(await this.update(r,n.fallbackValue,u.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,r,n){const i=xe.inspect(e);if(i===void 0)return;const o=xe.inspect(r);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,u.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,u.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(r,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,u.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,r,n){return u.workspace.getConfiguration(this.configPrefix).update(e,r,n)}updateAny(e,r,n,i){return u.workspace.getConfiguration(void 0,n===u.ConfigurationTarget.Global?void 0:i).update(e,r,n)}updateEffective(e,r){const n=xe.inspect(e);return n.workspaceFolderValue!==void 0?r===n.workspaceFolderValue?Promise.resolve(void 0):xe.update(e,r,u.ConfigurationTarget.WorkspaceFolder):n.workspaceValue!==void 0?r===n.workspaceValue?Promise.resolve(void 0):xe.update(e,r,u.ConfigurationTarget.Workspace):n.globalValue===r||n.globalValue===void 0&&r===n.defaultValue?Promise.resolve(void 0):xe.update(e,st()(r,n.defaultValue)?void 0:r,u.ConfigurationTarget.Global)}}a(Te,"Configuration");const xe=new Te,ke="";var pe;(function(t){t.Off="off",t.Error="error",t.Warn="warn",t.Info="info",t.Debug="debug"})(pe||(pe={}));var ct;(function(t){t[t.Off=0]="Off",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"})(ct||(ct={}));const We="[RemoteHub]",U=a(class{static configure(t,e,r){this._isDebugging=t.extensionMode===u.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=r}static enabled(t){return this.level>=this.toOrderedLevel(t)}static get logLevel(){return this._logLevel}static set logLevel(t){var e,r;this._logLevel=t,this.level=this.toOrderedLevel(t),t===pe.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(r=this.output)!=null?r:u.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(t){switch(t){case pe.Off:return 0;case pe.Error:return 1;case pe.Warn:return 2;case pe.Info:return 3;case pe.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(t,...e){U.isDebugging&&console.log(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!0,e)}`)}static error(t,e,...r){if(!(this.level<1&&!U.isDebugging)){if(e===void 0){const n=t instanceof Error?t.stack:void 0;if(n){const i=/.*\s*?at\s(.+?)\s/.exec(n);i!==null&&(e=i[1])}}U.isDebugging&&console.error(this.timestamp,We,e!=null?e:ke,...r,t),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:ke}${this.toLoggableParams(!1,r)}
${String(t)}`)}}static log(t,...e){U.isDebugging&&console.log(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!1,e)}`)}static warn(t,...e){U.isDebugging&&console.warn(this.timestamp,We,t!=null?t:ke,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:ke}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var t;(t=this.output)==null||t.show()}static toLoggable(t,e){if(typeof t!="object")return String(t);if(t instanceof u.Uri)return`Uri(${t.toString(!0)})`;try{return JSON.stringify(t,e)}catch{return"<error>"}}static toLoggableName(t){var e,r,n;let i;if(typeof t=="function"){if(t.prototype===void 0||t.prototype.constructor===void 0)return t.name;i=(e=t.prototype.constructor.name)!=null?e:ke}else i=(n=(r=t.constructor)==null?void 0:r.name)!=null?n:ke;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static get timestamp(){const t=new Date;return`[${t.toISOString().replace(/T/," ").replace(/\..+/,ke)}:${`00${t.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(t,e){if(e.length===0||t&&this.level<4&&!U.isDebugging)return ke;const r=e.map(n=>this.toLoggable(n)).join(", ");return r.length!==0?` \u2014 ${r}`:ke}},"_Logger");let J=U;J.level=0,J._logLevel=pe.Off;class ge{constructor(e){this.provider=e,this._timeout=0,this._disposable=xe.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const r=xe.get("autoFetch");this._config={enabled:(e=r.enabled)!=null?e:!0,interval:r.interval*1e3}}return this._config}onConfigurationChanged(e){!xe.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await u.window.withProgress({location:u.ProgressLocation.SourceControl},async()=>{for(const r of e)try{await this.provider.fetch(r.uri)}catch(n){J.error(n)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(ge,"AutoFetchService");function Qe(){}a(Qe,"Diff"),Qe.prototype={diff:a(function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function s(be){return i?(setTimeout(function(){i(void 0,be)},0),!0):be}a(s,"done"),e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var l=r.length,h=e.length,c=1,m=l+h,B=[{newPos:-1,components:[]}],I=this.extractCommon(B[0],r,e,0);if(B[0].newPos+1>=l&&I+1>=h)return s([{value:this.join(r),count:r.length}]);function L(){for(var be=-1*c;be<=c;be+=2){var Ue=void 0,Oe=B[be-1],Ye=B[be+1],et=(Ye?Ye.newPos:0)-be;Oe&&(B[be-1]=void 0);var $e=Oe&&Oe.newPos+1<l,ft=Ye&&0<=et&&et<h;if(!$e&&!ft){B[be]=void 0;continue}if(!$e||ft&&Oe.newPos<Ye.newPos?(Ue=yt(Ye),o.pushComponent(Ue.components,void 0,!0)):(Ue=Oe,Ue.newPos++,o.pushComponent(Ue.components,!0,void 0)),et=o.extractCommon(Ue,r,e,be),Ue.newPos+1>=l&&et+1>=h)return s(lt(o,Ue.components,r,e,o.useLongestToken));B[be]=Ue}c++}if(a(L,"execEditLength"),i)a(function be(){setTimeout(function(){if(c>m)return i();L()||be()},0)},"exec")();else for(;c<=m;){var ue=L();if(ue)return ue}},"diff"),pushComponent:a(function(e,r,n){var i=e[e.length-1];i&&i.added===r&&i.removed===n?e[e.length-1]={count:i.count+1,added:r,removed:n}:e.push({count:1,added:r,removed:n})},"pushComponent"),extractCommon:a(function(e,r,n,i){for(var o=r.length,s=n.length,l=e.newPos,h=l-i,c=0;l+1<o&&h+1<s&&this.equals(r[l+1],n[h+1]);)l++,h++,c++;return c&&e.components.push({count:c}),e.newPos=l,h},"extractCommon"),equals:a(function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(e[n]);return r},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function lt(t,e,r,n,i){for(var o=0,s=e.length,l=0,h=0;o<s;o++){var c=e[o];if(c.removed){if(c.value=t.join(n.slice(h,h+c.count)),h+=c.count,o&&e[o-1].added){var B=e[o-1];e[o-1]=e[o],e[o]=B}}else{if(!c.added&&i){var m=r.slice(l,l+c.count);m=m.map(function(L,ue){var be=n[h+ue];return be.length>L.length?be:L}),c.value=t.join(m)}else c.value=t.join(r.slice(l,l+c.count));l+=c.count,c.added||(h+=c.count)}}var I=e[s-1];return s>1&&typeof I.value=="string"&&(I.added||I.removed)&&t.equals("",I.value)&&(e[s-2].value+=I.value,e.pop()),e}a(lt,"buildValues");function yt(t){return{newPos:t.newPos,components:t.components.slice(0)}}a(yt,"clonePath");var it=new Qe;function A(t,e,r){return it.diff(t,e,r)}a(A,"diffChars");function d(t,e){if(typeof t=="function")e.callback=t;else if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}a(d,"generateOptions");var v=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Q=/\S/,de=new Qe;de.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!Q.test(t)&&!Q.test(e)},de.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<e.length-1;r++)!e[r+1]&&e[r+2]&&v.test(e[r])&&v.test(e[r+2])&&(e[r]+=e[r+2],e.splice(r+1,2),r--);return e};function Ne(t,e,r){return r=d(r,{ignoreWhitespace:!0}),de.diff(t,e,r)}a(Ne,"diffWords");function he(t,e,r){return de.diff(t,e,r)}a(he,"diffWordsWithSpace");var ot=new Qe;ot.tokenize=function(t){var e=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function Ft(t,e,r){return ot.diff(t,e,r)}a(Ft,"diffLines");function vt(t,e,r){var n=d(r,{ignoreWhitespace:!0});return ot.diff(t,e,n)}a(vt,"diffTrimmedLines");var kt=new Qe;kt.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};function nt(t,e,r){return kt.diff(t,e,r)}a(nt,"diffSentences");var Jt=new Qe;Jt.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function ir(t,e,r){return Jt.diff(t,e,r)}a(ir,"diffCss");function Qt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qt=a(function(e){return typeof e},"_typeof"):Qt=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Qt(t)}a(Qt,"_typeof");function Yt(t){return mr(t)||Dr(t)||Cn(t)||Or()}a(Yt,"_toConsumableArray");function mr(t){if(Array.isArray(t))return Jr(t)}a(mr,"_arrayWithoutHoles");function Dr(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}a(Dr,"_iterableToArray");function Cn(t,e){if(!!t){if(typeof t=="string")return Jr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jr(t,e)}}a(Cn,"_unsupportedIterableToArray");function Jr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}a(Jr,"_arrayLikeToArray");function Or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Or,"_nonIterableSpread");var Un=Object.prototype.toString,_n=new Qe;_n.useLongestToken=!0,_n.tokenize=ot.tokenize,_n.castInput=function(t){var e=this.options,r=e.undefinedReplacement,n=e.stringifyReplacer,i=n===void 0?function(o,s){return typeof s=="undefined"?r:s}:n;return typeof t=="string"?t:JSON.stringify(Nn(t,null,null,i),i,"  ")},_n.equals=function(t,e){return Qe.prototype.equals.call(_n,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Gn(t,e,r){return _n.diff(t,e,r)}a(Gn,"diffJson");function Nn(t,e,r,n,i){e=e||[],r=r||[],n&&(t=n(i,t));var o;for(o=0;o<e.length;o+=1)if(e[o]===t)return r[o];var s;if(Un.call(t)==="[object Array]"){for(e.push(t),s=new Array(t.length),r.push(s),o=0;o<t.length;o+=1)s[o]=Nn(t[o],e,r,n,i);return e.pop(),r.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),Qt(t)==="object"&&t!==null){e.push(t),s={},r.push(s);var l=[],h;for(h in t)t.hasOwnProperty(h)&&l.push(h);for(l.sort(),o=0;o<l.length;o+=1)h=l[o],s[h]=Nn(t[h],e,r,n,h);e.pop(),r.pop()}else s=t;return s}a(Nn,"canonicalize");var Fn=new Qe;Fn.tokenize=function(t){return t.slice()},Fn.join=Fn.removeEmpty=function(t){return t};function Bn(t,e,r){return Fn.diff(t,e,r)}a(Bn,"diffArrays");function ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.split(/\r\n|[\n\v\f\r\x85]/),n=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var c={};for(i.push(c);o<r.length;){var m=r[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(m))break;var B=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(m);B&&(c.index=B[1]),o++}for(l(c),l(c),c.hunks=[];o<r.length;){var I=r[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(I))break;if(/^@@/.test(I))c.hunks.push(h());else{if(I&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(I));o++}}}a(s,"parseIndex");function l(c){var m=/^(---|\+\+\+)\s+(.*)$/.exec(r[o]);if(m){var B=m[1]==="---"?"old":"new",I=m[2].split("	",2),L=I[0].replace(/\\\\/g,"\\");/^".*"$/.test(L)&&(L=L.substr(1,L.length-2)),c[B+"FileName"]=L,c[B+"Header"]=(I[1]||"").trim(),o++}}a(l,"parseFileHeader");function h(){var c=o,m=r[o++],B=m.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),I={oldStart:+B[1],oldLines:typeof B[2]=="undefined"?1:+B[2],newStart:+B[3],newLines:typeof B[4]=="undefined"?1:+B[4],lines:[],linedelimiters:[]};I.oldLines===0&&(I.oldStart+=1),I.newLines===0&&(I.newStart+=1);for(var L=0,ue=0;o<r.length&&!(r[o].indexOf("--- ")===0&&o+2<r.length&&r[o+1].indexOf("+++ ")===0&&r[o+2].indexOf("@@")===0);o++){var be=r[o].length==0&&o!=r.length-1?" ":r[o][0];if(be==="+"||be==="-"||be===" "||be==="\\")I.lines.push(r[o]),I.linedelimiters.push(n[o]||`
`),be==="+"?L++:be==="-"?ue++:be===" "&&(L++,ue++);else break}if(!L&&I.newLines===1&&(I.newLines=0),!ue&&I.oldLines===1&&(I.oldLines=0),e.strict){if(L!==I.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(ue!==I.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return I}for(a(h,"parseHunk");o<r.length;)s();return i}a(ce,"parsePatch");function Je(t,e,r){var n=!0,i=!1,o=!1,s=1;return a(function l(){if(n&&!o){if(i?s++:n=!1,t+s<=r)return s;o=!0}if(!i)return o||(n=!0),e<=t-s?-s++:(i=!0,l())},"iterator")}a(Je,"distanceIterator");function pt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=ce(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=r.compareLine||function(Ei,Mn,Si,ia){return Mn===ia},l=0,h=r.fuzzFactor||0,c=0,m=0,B,I;function L(Ei,Mn){for(var Si=0;Si<Ei.lines.length;Si++){var ia=Ei.lines[Si],zs=ia.length>0?ia[0]:" ",Gd=ia.length>0?ia.substr(1):ia;if(zs===" "||zs==="-"){if(!s(Mn+1,n[Mn],zs,Gd)&&(l++,l>h))return!1;Mn++}}return!0}a(L,"hunkFits");for(var ue=0;ue<o.length;ue++){for(var be=o[ue],Ue=n.length-be.oldLines,Oe=0,Ye=m+be.oldStart-1,et=Je(Ye,c,Ue);Oe!==void 0;Oe=et())if(L(be,Ye+Oe)){be.offset=m+=Oe;break}if(Oe===void 0)return!1;c=be.offset+be.oldStart+be.oldLines}for(var $e=0,ft=0;ft<o.length;ft++){var Nt=o[ft],at=Nt.oldStart+Nt.offset+$e-1;$e+=Nt.newLines-Nt.oldLines;for(var dt=0;dt<Nt.lines.length;dt++){var Pt=Nt.lines[dt],rt=Pt.length>0?Pt[0]:" ",It=Pt.length>0?Pt.substr(1):Pt,dr=Nt.linedelimiters[dt];if(rt===" ")at++;else if(rt==="-")n.splice(at,1),i.splice(at,1);else if(rt==="+")n.splice(at,0,It),i.splice(at,0,dr),at++;else if(rt==="\\"){var Xr=Nt.lines[dt-1]?Nt.lines[dt-1][0]:null;Xr==="+"?B=!0:Xr==="-"&&(I=!0)}}}if(B)for(;!n[n.length-1];)n.pop(),i.pop();else I&&(n.push(""),i.push(`
`));for(var Zr=0;Zr<n.length-1;Zr++)n[Zr]=n[Zr]+i[Zr];return n.join("")}a(pt,"applyPatch");function xt(t,e){typeof t=="string"&&(t=ce(t));var r=0;function n(){var i=t[r++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var l=pt(s,i,e);e.patched(i,l,function(h){if(h)return e.complete(h);n()})})}a(n,"processIndex"),n()}a(xt,"applyPatches");function Ht(t,e,r,n,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var l=Ft(r,n,s);l.push({value:"",lines:[]});function h(Oe){return Oe.map(function(Ye){return" "+Ye})}a(h,"contextLines");for(var c=[],m=0,B=0,I=[],L=1,ue=1,be=a(function(Ye){var et=l[Ye],$e=et.lines||et.value.replace(/\n$/,"").split(`
`);if(et.lines=$e,et.added||et.removed){var ft;if(!m){var Nt=l[Ye-1];m=L,B=ue,Nt&&(I=s.context>0?h(Nt.lines.slice(-s.context)):[],m-=I.length,B-=I.length)}(ft=I).push.apply(ft,Yt($e.map(function(Zr){return(et.added?"+":"-")+Zr}))),et.added?ue+=$e.length:L+=$e.length}else{if(m)if($e.length<=s.context*2&&Ye<l.length-2){var at;(at=I).push.apply(at,Yt(h($e)))}else{var dt,Pt=Math.min($e.length,s.context);(dt=I).push.apply(dt,Yt(h($e.slice(0,Pt))));var rt={oldStart:m,oldLines:L-m+Pt,newStart:B,newLines:ue-B+Pt,lines:I};if(Ye>=l.length-2&&$e.length<=s.context){var It=/\n$/.test(r),dr=/\n$/.test(n),Xr=$e.length==0&&I.length>rt.oldLines;!It&&Xr&&r.length>0&&I.splice(rt.oldLines,0,"\\ No newline at end of file"),(!It&&!Xr||!dr)&&I.push("\\ No newline at end of file")}c.push(rt),m=0,B=0,I=[]}L+=$e.length,ue+=$e.length}},"_loop"),Ue=0;Ue<l.length;Ue++)be(Ue);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:c}}a(Ht,"structuredPatch");function Bt(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(typeof t.oldHeader=="undefined"?"":"	"+t.oldHeader)),e.push("+++ "+t.newFileName+(typeof t.newHeader=="undefined"?"":"	"+t.newHeader));for(var r=0;r<t.hunks.length;r++){var n=t.hunks[r];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),e.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),e.push.apply(e,n.lines)}return e.join(`
`)+`
`}a(Bt,"formatPatch");function Pr(t,e,r,n,i,o,s){return Bt(Ht(t,e,r,n,i,o,s))}a(Pr,"createTwoFilesPatch");function Nr(t,e,r,n,i,o){return Pr(t,t,e,r,n,i,o)}a(Nr,"createPatch");function Ct(t,e){return t.length!==e.length?!1:Rt(t,e)}a(Ct,"arrayEqual");function Rt(t,e){if(e.length>t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}a(Rt,"arrayStartsWith");function $t(t){var e=Kt(t.lines),r=e.oldLines,n=e.newLines;r!==void 0?t.oldLines=r:delete t.oldLines,n!==void 0?t.newLines=n:delete t.newLines}a($t,"calcLineCount");function mt(t,e,r){t=Xt(t,r),e=Xt(e,r);var n={};(t.index||e.index)&&(n.index=t.index||e.index),(t.newFileName||e.newFileName)&&(zt(t)?zt(e)?(n.oldFileName=bt(n,t.oldFileName,e.oldFileName),n.newFileName=bt(n,t.newFileName,e.newFileName),n.oldHeader=bt(n,t.oldHeader,e.oldHeader),n.newHeader=bt(n,t.newHeader,e.newHeader)):(n.oldFileName=t.oldFileName,n.newFileName=t.newFileName,n.oldHeader=t.oldHeader,n.newHeader=t.newHeader):(n.oldFileName=e.oldFileName||t.oldFileName,n.newFileName=e.newFileName||t.newFileName,n.oldHeader=e.oldHeader||t.oldHeader,n.newHeader=e.newHeader||t.newHeader)),n.hunks=[];for(var i=0,o=0,s=0,l=0;i<t.hunks.length||o<e.hunks.length;){var h=t.hunks[i]||{oldStart:1/0},c=e.hunks[o]||{oldStart:1/0};if(tr(h,c))n.hunks.push(ar(h,s)),i++,l+=h.newLines-h.oldLines;else if(tr(c,h))n.hunks.push(ar(c,l)),o++,s+=c.newLines-c.oldLines;else{var m={oldStart:Math.min(h.oldStart,c.oldStart),oldLines:0,newStart:Math.min(h.newStart+s,c.oldStart+l),newLines:0,lines:[]};pr(m,h.oldStart,h.lines,c.oldStart,c.lines),o++,i++,n.hunks.push(m)}}return n}a(mt,"merge");function Xt(t,e){if(typeof t=="string"){if(/^@@/m.test(t)||/^Index:/m.test(t))return ce(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return Ht(void 0,void 0,e,t)}return t}a(Xt,"loadPatch");function zt(t){return t.newFileName&&t.newFileName!==t.oldFileName}a(zt,"fileNameChanged");function bt(t,e,r){return e===r?e:(t.conflict=!0,{mine:e,theirs:r})}a(bt,"selectField");function tr(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}a(tr,"hunkBefore");function ar(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}a(ar,"cloneHunk");function pr(t,e,r,n,i){var o={offset:e,lines:r,index:0},s={offset:n,lines:i,index:0};for(Rr(t,o,s),Rr(t,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var l=o.lines[o.index],h=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(h[0]==="-"||h[0]==="+"))hr(t,o,s);else if(l[0]==="+"&&h[0]===" "){var c;(c=t.lines).push.apply(c,Yt(Lt(o)))}else if(h[0]==="+"&&l[0]===" "){var m;(m=t.lines).push.apply(m,Yt(Lt(s)))}else l[0]==="-"&&h[0]===" "?Wr(t,o,s):h[0]==="-"&&l[0]===" "?Wr(t,s,o,!0):l===h?(t.lines.push(l),o.index++,s.index++):Sr(t,Lt(o),Lt(s))}fr(t,o),fr(t,s),$t(t)}a(pr,"mergeLines");function hr(t,e,r){var n=Lt(e),i=Lt(r);if(er(n)&&er(i)){if(Rt(n,i)&&_r(r,n,n.length-i.length)){var o;(o=t.lines).push.apply(o,Yt(n));return}else if(Rt(i,n)&&_r(e,i,i.length-n.length)){var s;(s=t.lines).push.apply(s,Yt(i));return}}else if(Ct(n,i)){var l;(l=t.lines).push.apply(l,Yt(n));return}Sr(t,n,i)}a(hr,"mutualChange");function Wr(t,e,r,n){var i=Lt(e),o=rr(r,i);if(o.merged){var s;(s=t.lines).push.apply(s,Yt(o.merged))}else Sr(t,n?o:i,n?i:o)}a(Wr,"removal");function Sr(t,e,r){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:r})}a(Sr,"conflict");function Rr(t,e,r){for(;e.offset<r.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n),e.offset++}}a(Rr,"insertLeading");function fr(t,e){for(;e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r)}}a(fr,"insertTrailing");function Lt(t){for(var e=[],r=t.lines[t.index][0];t.index<t.lines.length;){var n=t.lines[t.index];if(r==="-"&&n[0]==="+"&&(r="+"),r===n[0])e.push(n),t.index++;else break}return e}a(Lt,"collectChange");function rr(t,e){for(var r=[],n=[],i=0,o=!1,s=!1;i<e.length&&t.index<t.lines.length;){var l=t.lines[t.index],h=e[i];if(h[0]==="+")break;if(o=o||l[0]!==" ",n.push(h),i++,l[0]==="+")for(s=!0;l[0]==="+";)r.push(l),l=t.lines[++t.index];h.substr(1)===l.substr(1)?(r.push(l),t.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return r;for(;i<e.length;)n.push(e[i++]);return{merged:n,changes:r}}a(rr,"collectContext");function er(t){return t.reduce(function(e,r){return e&&r[0]==="-"},!0)}a(er,"allRemoves");function _r(t,e,r){for(var n=0;n<r;n++){var i=e[e.length-r+n].substr(1);if(t.lines[t.index+n]!==" "+i)return!1}return t.index+=r,!0}a(_r,"skipRemoveSuperset");function Kt(t){var e=0,r=0;return t.forEach(function(n){if(typeof n!="string"){var i=Kt(n.mine),o=Kt(n.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),r!==void 0&&(i.newLines===o.newLines?r+=i.newLines:r=void 0)}else r!==void 0&&(n[0]==="+"||n[0]===" ")&&r++,e!==void 0&&(n[0]==="-"||n[0]===" ")&&e++}),{oldLines:e,newLines:r}}a(Kt,"calcOldNewLineCount");function sr(t){for(var e=[],r,n,i=0;i<t.length;i++)r=t[i],r.added?n=1:r.removed?n=-1:n=0,e.push([n,r.value]);return e}a(sr,"convertChangesToDMP");function vr(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];n.added?e.push("<ins>"):n.removed&&e.push("<del>"),e.push(Tr(n.value)),n.added?e.push("</ins>"):n.removed&&e.push("</del>")}return e.join("")}a(vr,"convertChangesToXML");function Tr(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(Tr,"escapeHTML");var nr=/[^a-zA-Z0-9]/,xr=/\s/,$r=/[\r\n]/,Ar=/\n\r?\n$/,zr=/^\r?\n\r?\n/,Xe;(function(t){t[t.DIFF_DELETE=-1]="DIFF_DELETE",t[t.DIFF_INSERT=1]="DIFF_INSERT",t[t.DIFF_EQUAL=0]="DIFF_EQUAL"})(Xe||(Xe={}));function kr(t,e){return t<e?t:e}a(kr,"min");function Vt(t,e){return t>e?t:e}a(Vt,"max");var Ot=fe,Lr=function(){function t(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(t,"PatchObject"),t.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2===1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+r+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case Xe.DIFF_INSERT:i="+";break;case Xe.DIFF_DELETE:i="-";break;case Xe.DIFF_EQUAL:i=" ";break}n[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return n.join("").replace(/%20/g," ")},t}(),Tn=function(){function t(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(t,"DiffMatchPatch"),t.prototype.diff_main=function(e,r,n,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e===r)return e?[[Xe.DIFF_EQUAL,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,l=this.diff_commonPrefix(e,r),h=e.substring(0,l);e=e.substring(l),r=r.substring(l),l=this.diff_commonSuffix(e,r);var c=e.substring(e.length-l);e=e.substring(0,e.length-l),r=r.substring(0,r.length-l);var m=this.diff_compute_(e,r,s,o);return h&&m.unshift([Xe.DIFF_EQUAL,h]),c&&m.push([Xe.DIFF_EQUAL,c]),this.diff_cleanupMerge(m),m},t.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!==r.charAt(0))return 0;for(var n=0,i=Ot.min(e.length,r.length),o=i,s=0;n<o;)e.substring(s,o)===r.substring(s,o)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},t.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!==r.charAt(r.length-1))return 0;for(var n=0,i=Ot.min(e.length,r.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)===r.substring(r.length-o,r.length-s)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,n=[],i=0,o=null,s=0,l=0,h=0,c=0,m=0;s<e.length;)e[s][0]===Xe.DIFF_EQUAL?(n[i++]=s,l=c,h=m,c=0,m=0,o=e[s][1]):(e[s][0]===Xe.DIFF_INSERT?c+=e[s][1].length:m+=e[s][1].length,o&&o.length<=Ot.max(l,h)&&o.length<=Ot.max(c,m)&&(e.splice(n[i-1],0,[Xe.DIFF_DELETE,o]),e[n[i-1]+1][0]=Xe.DIFF_INSERT,i--,i--,s=i>0?n[i-1]:-1,l=0,h=0,c=0,m=0,o=null,r=!0)),s++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===Xe.DIFF_DELETE&&e[s][0]===Xe.DIFF_INSERT){var B=e[s-1][1],I=e[s][1],L=this.diff_commonOverlap_(B,I),ue=this.diff_commonOverlap_(I,B);L>=ue?(L>=B.length/2||L>=I.length/2)&&(e.splice(s,0,[Xe.DIFF_EQUAL,I.substring(0,L)]),e[s-1][1]=B.substring(0,B.length-L),e[s+1][1]=I.substring(L),s++):(ue>=B.length/2||ue>=I.length/2)&&(e.splice(s,0,[Xe.DIFF_EQUAL,B.substring(0,ue)]),e[s-1][0]=Xe.DIFF_INSERT,e[s-1][1]=I.substring(0,I.length-ue),e[s+1][0]=Xe.DIFF_DELETE,e[s+1][1]=B.substring(ue),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){for(var r=1;r<e.length-1;){if(e[r-1][0]===Xe.DIFF_EQUAL&&e[r+1][0]===Xe.DIFF_EQUAL){var n=e[r-1][1],i=e[r][1],o=e[r+1][1],s=this.diff_commonSuffix(n,i);if(s){var l=i.substring(i.length-s);n=n.substring(0,n.length-s),i=l+i.substring(0,i.length-s),o=l+o}for(var h=n,c=i,m=o,B=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var I=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);I>=B&&(B=I,h=n,c=i,m=o)}e[r-1][1]!==h&&(h?e[r-1][1]=h:(e.splice(r-1,1),r--),e[r][1]=c,m?e[r+1][1]=m:(e.splice(r+1,1),r--))}r++}},t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,n=[],i=0,o=null,s=0,l=!1,h=!1,c=!1,m=!1;s<e.length;)e[s][0]===Xe.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(c||m)?(n[i++]=s,l=c,h=m,o=e[s][1]):(i=0,o=null),c=m=!1):(e[s][0]===Xe.DIFF_DELETE?m=!0:c=!0,o&&(l&&h&&c&&m||o.length<this.diffEditCost/2&&Number(l)+Number(h)+Number(c)+Number(m)===3)&&(e.splice(n[i-1],0,[Xe.DIFF_DELETE,o]),e[n[i-1]+1][0]=Xe.DIFF_INSERT,i--,o=null,l&&h?(c=m=!0,i=0):(i--,s=i>0?n[i-1]:-1,c=m=!1),r=!0)),s++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([Xe.DIFF_EQUAL,""]);for(var r=0,n=0,i=0,o="",s="",l;r<e.length;)switch(e[r][0]){case Xe.DIFF_INSERT:i++,s+=e[r][1],r++;break;case Xe.DIFF_DELETE:n++,o+=e[r][1],r++;break;case Xe.DIFF_EQUAL:n+i>1?(n!==0&&i!==0&&(l=this.diff_commonPrefix(s,o),l!==0&&(r-n-i>0&&e[r-n-i-1][0]===Xe.DIFF_EQUAL?e[r-n-i-1][1]+=s.substring(0,l):(e.splice(0,0,[Xe.DIFF_EQUAL,s.substring(0,l)]),r++),s=s.substring(l),o=o.substring(l)),l=this.diff_commonSuffix(s,o),l!==0&&(e[r][1]=s.substring(s.length-l)+e[r][1],s=s.substring(0,s.length-l),o=o.substring(0,o.length-l))),r-=n+i,e.splice(r,n+i),o.length&&(e.splice(r,0,[Xe.DIFF_DELETE,o]),r++),s.length&&(e.splice(r,0,[Xe.DIFF_INSERT,s]),r++),r++):r!==0&&e[r-1][0]===Xe.DIFF_EQUAL?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var h=!1;for(r=1;r<e.length-1;)e[r-1][0]===Xe.DIFF_EQUAL&&e[r+1][0]===Xe.DIFF_EQUAL&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),h=!0):e[r][1].substring(0,e[r+1][1].length)===e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),h=!0)),r++;h&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,r){var n=0,i=0,o=0,s=0,l;for(l=0;l<e.length&&(e[l][0]!==Xe.DIFF_INSERT&&(n+=e[l][1].length),e[l][0]!==Xe.DIFF_DELETE&&(i+=e[l][1].length),!(n>r));l++)o=n,s=i;return e.length!==l&&e[l][0]===Xe.DIFF_DELETE?s:s+(r-o)},t.prototype.diff_prettyHtml=function(e){for(var r=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,l=0;l<e.length;l++){var h=e[l][0],c=e[l][1],m=c.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(h){case Xe.DIFF_INSERT:r[l]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case Xe.DIFF_DELETE:r[l]='<del style="background:#ffe6e6;">'+m+"</del>";break;case Xe.DIFF_EQUAL:r[l]="<span>"+m+"</span>";break}}return r.join("")},t.prototype.diff_text1=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==Xe.DIFF_INSERT&&(r[n]=e[n][1]);return r.join("")},t.prototype.diff_text2=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==Xe.DIFF_DELETE&&(r[n]=e[n][1]);return r.join("")},t.prototype.diff_levenshtein=function(e){for(var r=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],l=e[o][1];switch(s){case Xe.DIFF_INSERT:n+=l.length;break;case Xe.DIFF_DELETE:i+=l.length;break;case Xe.DIFF_EQUAL:r+=Ot.max(n,i),n=0,i=0;break}}return r+=Ot.max(n,i),r},t.prototype.diff_toDelta=function(e){for(var r=[],n=0;n<e.length;n++)switch(e[n][0]){case Xe.DIFF_INSERT:r[n]="+"+encodeURI(e[n][1]);break;case Xe.DIFF_DELETE:r[n]="-"+e[n][1].length;break;case Xe.DIFF_EQUAL:r[n]="="+e[n][1].length;break}return r.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var n=[],i=0,o=0,s=r.split(/\t/g),l=0;l<s.length;l++){var h=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{n[i++]=[Xe.DIFF_INSERT,decodeURI(h)]}catch(B){throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var c=parseInt(h,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+h);var m=e.substring(o,o+=c);s[l].charAt(0)==="="?n[i++]=[Xe.DIFF_EQUAL,m]:n[i++]=[Xe.DIFF_DELETE,m];break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return n},t.prototype.diff_linesToChars=function(e,r){var n=[],i={};n[0]="";var o=this.diff_linesToCharsMunge_(e,n,i,4e4),s=this.diff_linesToCharsMunge_(r,n,i,65535);return{chars1:o,chars2:s,lineArray:n}},t.prototype.diff_charsToLines=function(e,r){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],s=0;s<i.length;s++)o[s]=r[i.charCodeAt(s)];e[n][1]=o.join("")}},t.prototype.match_main=function(e,r,n){if(e==null||r==null||n==null)throw new Error("Null input. (match_main)");return n=Ot.max(0,Ot.min(n,e.length)),e===r?0:e.length?e.substring(n,n+r.length)===r?n:this.match_bitap_(e,r,n):-1},t.prototype.patch_make=function(e,r,n){var i,o;if(typeof e=="string"&&typeof r=="string"&&typeof n=="undefined")i=e,o=this.diff_main(i,r,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof r=="undefined"&&typeof n=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof n=="undefined")i=e,o=r;else if(typeof e=="string"&&typeof r=="string"&&n&&typeof n=="object")i=e,o=n;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],l=new Lr,h=0,c=0,m=0,B=i,I=i,L=0;L<o.length;L++){var ue=o[L][0],be=o[L][1];switch(!h&&ue!==Xe.DIFF_EQUAL&&(l.start1=c,l.start2=m),ue){case Xe.DIFF_INSERT:l.diffs[h++]=o[L],l.length2+=be.length,I=I.substring(0,m)+be+I.substring(m);break;case Xe.DIFF_DELETE:l.length1+=be.length,l.diffs[h++]=o[L],I=I.substring(0,m)+I.substring(m+be.length);break;case Xe.DIFF_EQUAL:be.length<=2*this.patchMargin&&h&&o.length!==L+1?(l.diffs[h++]=o[L],l.length1+=be.length,l.length2+=be.length):be.length>=2*this.patchMargin&&h&&(this.patch_addContext_(l,B),s.push(l),l=new Lr,h=0,B=I,c=m);break}ue!==Xe.DIFF_INSERT&&(c+=be.length),ue!==Xe.DIFF_DELETE&&(m+=be.length)}return h&&(this.patch_addContext_(l,B),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],o=new Lr,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,r[n]=o}return r},t.prototype.patch_apply=function(e,r){if(e.length===0)return[r,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);r=n+r+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var l=e[s].start2+i,h=this.diff_text1(e[s].diffs),c=void 0,m=-1;if(h.length>this.matchMaxBits?(c=this.match_main(r,h.substring(0,this.matchMaxBits),l),c!==-1&&(m=this.match_main(r,h.substring(h.length-this.matchMaxBits),l+h.length-this.matchMaxBits),(m===-1||c>=m)&&(c=-1))):c=this.match_main(r,h,l),c===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=c-l;var B=void 0;if(m===-1?B=r.substring(c,c+h.length):B=r.substring(c,m+this.matchMaxBits),h===B)r=r.substring(0,c)+this.diff_text2(e[s].diffs)+r.substring(c+h.length);else{var I=this.diff_main(h,B,!1);if(h.length>this.matchMaxBits&&this.diff_levenshtein(I)/h.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(I);for(var L=0,ue=0,be=0;be<e[s].diffs.length;be++){var Ue=e[s].diffs[be];Ue[0]!==Xe.DIFF_EQUAL&&(ue=this.diff_xIndex(I,L)),Ue[0]===Xe.DIFF_INSERT?r=r.substring(0,c+ue)+Ue[1]+r.substring(c+ue):Ue[0]===Xe.DIFF_DELETE&&(r=r.substring(0,c+ue)+r.substring(c+this.diff_xIndex(I,L+Ue[1].length))),Ue[0]!==Xe.DIFF_DELETE&&(L+=Ue[1].length)}}}}}return r=r.substring(n.length,r.length-n.length),[r,o]},t.prototype.patch_addPadding=function(e){for(var r=this.patchMargin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==Xe.DIFF_EQUAL)s.unshift([Xe.DIFF_EQUAL,n]),o.start1-=r,o.start2-=r,o.length1+=r,o.length2+=r;else if(r>s[0][1].length){var l=r-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=l,o.start2-=l,o.length1+=l,o.length2+=l}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==Xe.DIFF_EQUAL)s.push([Xe.DIFF_EQUAL,n]),o.length1+=r,o.length2+=r;else if(r>s[s.length-1][1].length){var l=r-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,l),o.length1+=l,o.length2+=l}return n},t.prototype.patch_splitMax=function(e){for(var r=this.matchMaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,l="";i.diffs.length!==0;){var h=new Lr,c=!0;for(h.start1=o-l.length,h.start2=s-l.length,l!==""&&(h.length1=h.length2=l.length,h.diffs.push([Xe.DIFF_EQUAL,l]));i.diffs.length!==0&&h.length1<r-this.patchMargin;){var m=i.diffs[0][0],B=i.diffs[0][1];m===Xe.DIFF_INSERT?(h.length2+=B.length,s+=B.length,h.diffs.push(i.diffs.shift()),c=!1):m===Xe.DIFF_DELETE&&h.diffs.length===1&&h.diffs[0][0]===Xe.DIFF_EQUAL&&B.length>2*r?(h.length1+=B.length,o+=B.length,c=!1,h.diffs.push([m,B]),i.diffs.shift()):(B=B.substring(0,r-h.length1-this.patchMargin),h.length1+=B.length,o+=B.length,m===Xe.DIFF_EQUAL?(h.length2+=B.length,s+=B.length):c=!1,h.diffs.push([m,B]),B===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(B.length))}l=this.diff_text2(h.diffs),l=l.substring(l.length-this.patchMargin);var I=this.diff_text1(i.diffs).substring(0,this.patchMargin);I!==""&&(h.length1+=I.length,h.length2+=I.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===Xe.DIFF_EQUAL?h.diffs[h.diffs.length-1][1]+=I:h.diffs.push([Xe.DIFF_EQUAL,I])),c||e.splice(++n,0,h)}}},t.prototype.patch_toText=function(e){for(var r=[],n=0;n<e.length;n++)r[n]=e[n];return r.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var l=new Lr;r.push(l),l.start1=parseInt(s[1],10),s[2]===""?(l.start1--,l.length1=1):s[2]==="0"?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),s[4]===""?(l.start2--,l.length2=1):s[4]==="0"?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;for(var h=void 0,c=void 0,m=void 0;i<n.length;){h=n[i].charAt(0),m=n[i].substring(1);try{c=decodeURI(m)}catch(B){throw new Error("Illegal escape in patch_fromText: "+m)}if(h==="-")l.diffs.push([Xe.DIFF_DELETE,c]);else if(h==="+")l.diffs.push([Xe.DIFF_INSERT,c]);else if(h===" ")l.diffs.push([Xe.DIFF_EQUAL,c]);else{if(h==="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+c)}i++}}return r},t.prototype.diff_compute_=function(e,r,n,i){var o;if(!e)return[[Xe.DIFF_INSERT,r]];if(!r)return[[Xe.DIFF_DELETE,e]];var s=e.length>r.length?e:r,l=e.length>r.length?r:e,h=s.indexOf(l);if(h!==-1)return o=[[Xe.DIFF_INSERT,s.substring(0,h)],[Xe.DIFF_EQUAL,l],[Xe.DIFF_INSERT,s.substring(h+l.length)]],e.length>r.length&&(o[0][0]=Xe.DIFF_DELETE,o[2][0]=Xe.DIFF_DELETE),o;if(l.length===1)return[[Xe.DIFF_DELETE,e],[Xe.DIFF_INSERT,r]];var c=this.diff_halfMatch_(e,r);if(c){var m=c[0],B=c[1],I=c[2],L=c[3],ue=c[4],be=this.diff_main(m,I,n,i),Ue=this.diff_main(B,L,n,i);return be.concat([[Xe.DIFF_EQUAL,ue]],Ue)}return n&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,i):this.diff_bisect_(e,r,i)},t.prototype.diff_lineMode_=function(e,r,n){var i=this.diff_linesToChars(e,r);e=i.chars1,r=i.chars2;var o=i.lineArray,s=this.diff_main(e,r,!1,n);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([Xe.DIFF_EQUAL,""]);for(var l=0,h=0,c=0,m="",B="";l<s.length;){switch(s[l][0]){case Xe.DIFF_INSERT:c++,B+=s[l][1];break;case Xe.DIFF_DELETE:h++,m+=s[l][1];break;case Xe.DIFF_EQUAL:if(h>=1&&c>=1){s.splice(l-h-c,h+c),l=l-h-c;for(var I=this.diff_main(m,B,!1,n),L=I.length-1;L>=0;L--)s.splice(l,0,I[L]);l=l+I.length}c=0,h=0,m="",B="";break}l++}return s.pop(),s},t.prototype.diff_bisect_=function(e,r,n){for(var i=e.length,o=r.length,s=Math.ceil((i+o)/2),l=s,h=2*s,c=new Array(h),m=new Array(h),B=0;B<h;B++)c[B]=-1,m[B]=-1;c[l+1]=0,m[l+1]=0;for(var I=i-o,L=I%2!=0,ue=0,be=0,Ue=0,Oe=0,Ye=0;Ye<s&&!(Date.now()>n);Ye++){for(var et=-Ye+ue;et<=Ye-be;et+=2){var $e=l+et,ft=void 0;et===-Ye||et!==Ye&&c[$e-1]<c[$e+1]?ft=c[$e+1]:ft=c[$e-1]+1;for(var Nt=ft-et;ft<i&&Nt<o&&e.charAt(ft)===r.charAt(Nt);)ft++,Nt++;if(c[$e]=ft,ft>i)be+=2;else if(Nt>o)ue+=2;else if(L){var at=l+I-et;if(at>=0&&at<h&&m[at]!==-1){var dt=i-m[at];if(ft>=dt)return this.diff_bisectSplit_(e,r,ft,Nt,n)}}}for(var Pt=-Ye+Ue;Pt<=Ye-Oe;Pt+=2){var at=l+Pt,dt=void 0;Pt===-Ye||Pt!==Ye&&m[at-1]<m[at+1]?dt=m[at+1]:dt=m[at-1]+1;for(var rt=dt-Pt;dt<i&&rt<o&&e.charAt(i-dt-1)===r.charAt(o-rt-1);)dt++,rt++;if(m[at]=dt,dt>i)Oe+=2;else if(rt>o)Ue+=2;else if(!L){var $e=l+I-Pt;if($e>=0&&$e<h&&c[$e]!==-1){var ft=c[$e],Nt=l+ft-$e;if(dt=i-dt,ft>=dt)return this.diff_bisectSplit_(e,r,ft,Nt,n)}}}}return[[Xe.DIFF_DELETE,e],[Xe.DIFF_INSERT,r]]},t.prototype.diff_bisectSplit_=function(e,r,n,i,o){var s=e.substring(0,n),l=r.substring(0,i),h=e.substring(n),c=r.substring(i),m=this.diff_main(s,l,!1,o),B=this.diff_main(h,c,!1,o);return m.concat(B)},t.prototype.diff_linesToCharsMunge_=function(e,r,n,i){for(var o="",s=0,l=-1,h=r.length;l<e.length-1;){l=e.indexOf(`
`,s),l===-1&&(l=e.length-1);var c=e.substring(s,l+1);(n.hasOwnProperty?n.hasOwnProperty(c):n[c]!==void 0)?o+=String.fromCharCode(n[c]):(h===i&&(c=e.substring(s),l=e.length),o+=String.fromCharCode(h),n[c]=h,r[h++]=c),s=l+1}return o},t.prototype.diff_commonOverlap_=function(e,r){var n=e.length,i=r.length;if(n===0||i===0)return 0;n>i?e=e.substring(n-i):n<i&&(r=r.substring(0,n));var o=Ot.min(n,i);if(e===r)return o;for(var s=0,l=1;;){var h=e.substring(o-l),c=r.indexOf(h);if(c===-1)return s;l+=c,(c===0||e.substring(o-l)===r.substring(0,l))&&(s=l,l++)}},t.prototype.diff_halfMatch_=function(e,r){if(this.diffTimeout<=0)return null;var n=e.length>r.length?e:r,i=e.length>r.length?r:e;if(n.length<4||i.length*2<n.length)return null;var o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4)),s=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2)),l;if(!o&&!s)return null;s?o?l=o[4].length>s[4].length?o:s:l=s:l=o;var h,c,m,B,I=l[4];return e.length>r.length?(h=l[0],c=l[1],m=l[2],B=l[3]):(m=l[0],B=l[1],h=l[2],c=l[3]),[h,c,m,B,I]},t.prototype.diff_halfMatchI_=function(e,r,n){for(var i=e.substring(n,n+Math.floor(e.length/4)),o="",s,l,h,c,m=r.indexOf(i,0);m!==-1;){var B=this.diff_commonPrefix(e.substring(n),r.substring(m)),I=this.diff_commonSuffix(e.substring(0,n),r.substring(0,m));o.length<I+B&&(o=r.substring(m-I,m)+r.substring(m,m+B),s=e.substring(0,n-I),l=e.substring(n+B),h=r.substring(0,m-I),c=r.substring(m+B)),m=r.indexOf(i,m+1)}return o.length*2>=e.length?[s,l,h,c,o]:null},t.prototype.diff_cleanupSemanticScore_=function(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),i=r.charAt(0),o=n.match(nr),s=i.match(nr),l=o&&n.match(xr),h=s&&i.match(xr),c=l&&n.match($r),m=h&&i.match($r),B=c&&e.match(Ar),I=m&&r.match(zr);return B||I?5:c||m?4:o&&!l&&h?3:l||h?2:o||s?1:0},t.prototype.match_bitap_=function(e,r,n){if(r.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(r),o=this.matchThreshold,s=e.indexOf(r,n);s!==-1&&(o=Ot.min(this.match_bitapScore_(0,s,r,n),o),s=e.lastIndexOf(r,n+r.length),s!==-1&&(o=Ot.min(this.match_bitapScore_(0,s,r,n),o)));var l=1<<r.length-1;s=-1;for(var h,c,m=r.length+e.length,B,I=0;I<r.length;I++){for(h=0,c=m;h<c;)this.match_bitapScore_(I,n+c,r,n)<=o?h=c:m=c,c=Math.floor((m-h)/2+h);m=c;var L=Ot.max(1,n-c+1),ue=Ot.min(n+c,e.length)+r.length,be=Array(ue+2);be[ue+1]=(1<<I)-1;for(var Ue=ue;Ue>=L;Ue--){var Oe=i[e.charAt(Ue-1)];if(I===0?be[Ue]=(be[Ue+1]<<1|1)&Oe:be[Ue]=(be[Ue+1]<<1|1)&Oe|((B[Ue+1]|B[Ue])<<1|1)|B[Ue+1],be[Ue]&l){var Ye=this.match_bitapScore_(I,Ue-1,r,n);if(Ye<=o)if(o=Ye,s=Ue-1,s>n)L=Ot.max(1,2*n-s);else break}}if(this.match_bitapScore_(I+1,n,r,n)>o)break;B=be}return s},t.prototype.match_bitapScore_=function(e,r,n,i){var o=e/n.length,s=Math.abs(i-r);return this.matchDistance?o+s/this.matchDistance:s?1:o},t.prototype.match_alphabet_=function(e){for(var r={},n=0;n<e.length;n++)r[e.charAt(n)]=0;for(var n=0;n<e.length;n++)r[e.charAt(n)]|=1<<e.length-n-1;return r},t.prototype.patch_addContext_=function(e,r){if(r.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!==r.lastIndexOf(n)&&n.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=r.substring(e.start2-i,e.start2);o&&e.diffs.unshift([Xe.DIFF_EQUAL,o]);var s=r.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([Xe.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t}();function jr(t,e){let r={};for(let o=0;o<e.length;o++){const s=e[o];r[s]?r[s].push(o):r[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<t.length;o++){const s=t[o],l=r[s]||[];let h=0,c=i[0];for(let m=0;m<l.length;m++){const B=l[m];let I;for(I=h;I<i.length&&!(i[I].buffer2index<B&&(I===i.length-1||i[I+1].buffer2index>B));I++);if(I<i.length){const L={buffer1index:o,buffer2index:B,chain:i[I]};if(h===i.length?i.push(c):i[h]=c,h=I+1,c=L,h===i.length)break}}i[h]=c}return i[i.length-1]}a(jr,"LCS");function rn(t,e){const r=jr(t,e);let n=[],i=t.length,o=e.length,s={common:[]};function l(){s.common.length&&(s.common.reverse(),n.push(s),s={common:[]})}a(l,"processCommon");for(let h=r;h!==null;h=h.chain){let c={buffer1:[],buffer2:[]};for(;--i>h.buffer1index;)c.buffer1.push(t[i]);for(;--o>h.buffer2index;)c.buffer2.push(e[o]);(c.buffer1.length||c.buffer2.length)&&(l(),c.buffer1.reverse(),c.buffer2.reverse(),n.push(c)),i>=0&&s.common.push(t[i])}return l(),n.reverse(),n}a(rn,"diffComm");function Kr(t,e){const r=jr(t,e);let n=[],i=t.length,o=e.length;for(let s=r;s!==null;s=s.chain){const l=i-s.buffer1index-1,h=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(l||h)&&n.push({buffer1:[i+1,l],buffer1Content:t.slice(i+1,i+1+l),buffer2:[o+1,h],buffer2Content:e.slice(o+1,o+1+h)})}return n.reverse(),n}a(Kr,"diffIndices");function $n(t,e){const r=jr(t,e);let n=[],i=t.length,o=e.length;function s(l,h,c){let m=[];for(let B=0;B<c;B++)m.push(l[h+B]);return{offset:h,length:c,chunk:m}}a(s,"chunkDescription");for(let l=r;l!==null;l=l.chain){const h=i-l.buffer1index-1,c=o-l.buffer2index-1;i=l.buffer1index,o=l.buffer2index,(h||c)&&n.push({buffer1:s(t,l.buffer1index+1,h),buffer2:s(e,l.buffer2index+1,c)})}return n.reverse(),n}a($n,"diffPatch");function nn(t,e,r){let n=[];function i(h,c){n.push({ab:c,oStart:h.buffer1[0],oLength:h.buffer1[1],abStart:h.buffer2[0],abLength:h.buffer2[1]})}a(i,"addHunk"),Kr(e,t).forEach(h=>i(h,"a")),Kr(e,r).forEach(h=>i(h,"b")),n.sort((h,c)=>h.oStart-c.oStart);let o=[],s=0;function l(h){h>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:h-s,bufferContent:e.slice(s,h)}),s=h)}for(a(l,"advanceTo");n.length;){let h=n.shift(),c=h.oStart,m=h.oStart+h.oLength,B=[h];for(l(c);n.length;){const I=n[0],L=I.oStart;if(L>m)break;m=Math.max(m,L+I.oLength),B.push(n.shift())}if(B.length===1){if(h.abLength>0){const I=h.ab==="a"?t:r;o.push({stable:!0,buffer:h.ab,bufferStart:h.abStart,bufferLength:h.abLength,bufferContent:I.slice(h.abStart,h.abStart+h.abLength)})}}else{let I={a:[t.length,-1,e.length,-1],b:[r.length,-1,e.length,-1]};for(;B.length;){h=B.shift();const Ye=h.oStart,et=Ye+h.oLength,$e=h.abStart,ft=$e+h.abLength;let Nt=I[h.ab];Nt[0]=Math.min($e,Nt[0]),Nt[1]=Math.max(ft,Nt[1]),Nt[2]=Math.min(Ye,Nt[2]),Nt[3]=Math.max(et,Nt[3])}const L=I.a[0]+(c-I.a[2]),ue=I.a[1]+(m-I.a[3]),be=I.b[0]+(c-I.b[2]),Ue=I.b[1]+(m-I.b[3]);let Oe={stable:!1,aStart:L,aLength:ue-L,aContent:t.slice(L,ue),oStart:c,oLength:m-c,oContent:e.slice(c,m),bStart:be,bLength:Ue-be,bContent:r.slice(be,Ue)};o.push(Oe)}s=m}return l(e.length),o}a(nn,"diff3MergeRegions");function Hr(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=typeof t=="string",s=typeof e=="string",l=typeof r=="string";o&&(t=t.split(n.stringSeparator)),s&&(e=e.split(n.stringSeparator)),l&&(r=r.split(n.stringSeparator));let h=[];const c=nn(t,e,r);let m=[];function B(){m.length&&h.push({ok:m}),m=[]}a(B,"flushOk");function I(L,ue){if(L.length!==ue.length)return!1;for(let be=0;be<L.length;be++)if(L[be]!==ue[be])return!1;return!0}return a(I,"isFalseConflict"),c.forEach(L=>{L.stable?m.push(...L.bufferContent):n.excludeFalseConflicts&&I(L.aContent,L.bContent)?m.push(...L.aContent):(B(),h.push({conflict:{a:L.aContent,aIndex:L.aStart,o:L.oContent,oIndex:L.oStart,b:L.bContent,bIndex:L.bStart}}))}),B(),h}a(Hr,"diff3Merge");function Yn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},n);const o=Hr(t,e,r,n);let s=!1,l=[];return o.forEach(h=>{h.ok?l=l.concat(h.ok):h.conflict&&(s=!0,l.push(`<<<<<<<${n.label.a?` ${n.label.a}`:""}`),l=l.concat(h.conflict.a),l.push(`|||||||${n.label.o?` ${n.label.o}`:""}`),l=l.concat(h.conflict.o),l.push("======="),l=l.concat(h.conflict.b),l.push(`>>>>>>>${n.label.b?` ${n.label.b}`:""}`))}),{conflict:s,result:l}}a(Yn,"mergeDiff3");function wn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=Hr(t,e,r,n);let s=!1,l=[];for(let h=0;h<o.length;h++){const c=o[h];c.ok?l=l.concat(c.ok):(s=!0,l=l.concat([`
<<<<<<<<<
`],c.conflict.a,[`
=========
`],c.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:l}}a(wn,"node_diff3_merge");function yn(t,e,r,n){n=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},n);const o=Hr(t,e,r,n);let s=!1,l=[];for(let h=0;h<o.length;h++){const c=o[h];if(c.ok)l=l.concat(c.ok);else{const m=rn(c.conflict.a,c.conflict.b);for(let B=0;B<m.length;B++){let I=m[B];I.common?l=l.concat(I.common):(s=!0,l=l.concat([`
<<<<<<<<<
`],I.buffer1,[`
=========
`],I.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:l}}a(yn,"mergeDigIn");function An(t,e){let r=[],n=0;function i(o){for(;n<o;)r.push(t[n]),n++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let l=0;l<s.buffer2.chunk.length;l++)r.push(s.buffer2.chunk[l]);n+=s.buffer1.length}return i(t.length),r}a(An,"patch");function En(t){return t.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(En,"stripPatch");function ci(t){return t.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(ci,"invertPatch");const Sn=new Tn;Sn.diffTimeout=0;function dn(t,e,r){return xe.get("experimental.useDiffMatchPatch")===!0?Sn.patch_toText(Sn.patch_make(e,r)):Nr(t,e,r)}a(dn,"diffs_createPatch");function Pn(t,e,r,n){const i=`diff --git a/${t} b/${t}`;switch(n){case"modify":return dn(t,e,r);case"add":{let o;!r.endsWith(`
`)&&!r.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,l=r.split(s),h=r.match(s)||[],c=l.length,m=[];for(let B=0;B<c;B+=1)(B<l.length-1||B===l.length-1&&l[B]!=="")&&m.push("+"),m.push(l[B]),B<h.length&&m.push(h[B]);return r=m.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${t}
@@ -0,0 +1,${c} @@
${r}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${t}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(Pn,"createPatch2");function kn(t,e,r){return pt(t,e,r)}a(kn,"diffs_applyPatch");function ni(t,e){const r=[];for(const n of ce(t,e))r.push({...n,oldFileName:n.newFileName,oldHeader:n.newHeader,newFileName:n.oldFileName,newHeader:n.oldHeader,hunks:n.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),r.push(n);return r}a(ni,"reversePatch");function Vn(t,e,r,n){let i=`
`;const o=t.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const c=o.filter(m=>m===`\r
`).length;i=c>o.length-c?`\r
`:`
`}const s=wn(t,e,r,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),l=s.result;let h=s.conflict;for(let c=0;c<l.length;c+=1)l[c]===`
<<<<<<<<<
`?l[c]="<<<<<<< HEAD":l[c]===`
=========
`?l[c]="=======":l[c]===`
>>>>>>>>>
`&&(l[c]=`>>>>>>> ${n}`);return{conflicts:h,mergedContent:l.join(i)}}a(Vn,"diffs_merge");function Dn(t){return t!==void 0&&typeof t.then=="function"}a(Dn,"isPromise");const qn="";function On(...t){if(t.length===1){const e=t[0];return e===void 0?qn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof u.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(On,"defaultResolver");function Cr(t){return(e,r,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$gate$${r}`;n.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:On)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let h=this[l];if(h===void 0){let c;try{if(c=i.apply(this,s),c==null||!Dn(c))return c;this[l]=h=c.then(m=>(this[l]=void 0,m)).catch(m=>{throw this[l]=void 0,m})}catch(m){throw this[l]=void 0,m}}return h}}}a(Cr,"gate");function Mr(t){const e=performance.now()*.001;let r=Math.floor(e),n=Math.floor(e%1*1e9);return t!==void 0&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}a(Mr,"hrtime");let br=0;function Ae(){return br===Number.MAX_SAFE_INTEGER&&(br=0),++br}a(Ae,"getNextInstanceId");const N=a(class{constructor(t,e,...r){this.context=t,this.instance=`[${Ae().toString().padStart(5)}] `;var n,i,o,s,l,h;let c;if(typeof(e==null?void 0:e.log)=="boolean"?c=e.log?{}:void 0:c=(n=e==null?void 0:e.log)!=null?n:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:pe.Info,this.time=Mr(),c){if(!J.enabled(this.logLevel))return;r.length?we(this.logLevel,`${this.instance}${(o=c.prefix)!=null?o:""}${t}${(s=c.message)!=null?s:""}`,...r):we(this.logLevel,`${this.instance}${(l=c.prefix)!=null?l:""}${t}${(h=c.message)!=null?h:""}`)}}log(t){this.logCore(this.context,t,!1)}logStep(t,e){(!t||e)&&this.logCore(this.context,e,!1),this.step=t?{time:Mr(),label:t}:void 0}restart(t){this.logCore(this.context,t,!0),this.step=void 0,this.time=Mr()}stop(t){this.restart(t)}logCore(t,e,r){var n,i,o,s,l,h,c;if(!J.enabled(this.logLevel))return;let m="";if(this.step){const[ue,be]=Mr(this.step.time),Ue=ue*1e3+Math.floor(be/1e6);m=`${this.step.label?`${this.step.label} took `:""}${Ue} ms`}if(!r){we(this.logLevel,`${this.instance}${(n=e==null?void 0:e.prefix)!=null?n:""}${t}${(i=e==null?void 0:e.message)!=null?i:""}${m?` ${m}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[B,I]=Mr(this.time),L=B*1e3+Math.floor(I/1e6);we(L>500?pe.Warn:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${t}${(l=e==null?void 0:e.message)!=null?l:""}${(h=e==null?void 0:e.took)!=null?h:" took "}${L} ms${m?` (${m})`:""}${(c=e==null?void 0:e.suffix)!=null?c:""}`)}static start(t,e,...r){var n;(n=N.watches.get(t))==null||n.log(),N.watches.set(t,new N(t,e,...r))}static log(t,e){var r;(r=N.watches.get(t))==null||r.log(e)}static stop(t,e){var r;(r=N.watches.get(t))==null||r.stop(e),N.watches.delete(t)}},"_Stopwatch");let W=N;W.watches=new Map;function we(t,e,...r){switch(t){case pe.Warn:J.warn(e,...r);break;case pe.Info:J.log(e,...r);break;default:J.debug(e,...r);break}}a(we,"log");let Ke=0;function Tt(){return Ke===Number.MAX_SAFE_INTEGER&&(Ke=0),String(++Ke)}a(Tt,"getNextLockId");class ht{constructor(){this.id=Tt()}async synchronize(e){let r;const n=this.promise;this.promise=new Promise(i=>r=i),await n;try{return await e()}finally{r()}}}a(ht,"Lock");class Ee{constructor(e){this.lock=new ht,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,r){let n;const i=new W(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:r?` \u2022 ${r}`:""},logLevel:pe.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>n=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:r?` \u2022 ${r}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:r?` \u2022 ${r}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),n()}}async synchronizeWrite(e,r){let n;const i=new W(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:r?` \u2022 ${r}`:""},logLevel:pe.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>n=o)}),i.restart({prefix:"(L) ",suffix:r?` \u2022 ${r}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:r?` \u2022 ${r}`:"",took:" locked for "}),n(),this.writer=void 0}}}a(Ee,"ReaderWriterLock");class Pe{constructor(){this.locks=new Map}async synchronizeRead(e,r,n){let i=this.locks.get(e);return i===void 0&&(i=new Ee(String(e)),this.locks.set(e,i)),i.synchronizeRead(r,n)}async synchronizeWrite(e,r,n){let i=this.locks.get(e);return i===void 0&&(i=new Ee(String(e)),this.locks.set(e,i)),i.synchronizeWrite(r,n)}}a(Pe,"KeyedReaderWriterLock");const He=new TextDecoder,tt=new TextEncoder;async function gt(t){const e=typeof t=="string"?tt.encode(t):t;let r;if(globalThis.crypto.subtle)r=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const n=new Yr;n.update(e),r=n.digest()}return globalThis.btoa(encodeURIComponent(He.decode(r)))}a(gt,"sha1");var wt;(function(t){t[t.BLOCK_SIZE=64]="BLOCK_SIZE"})(wt||(wt={}));function Ut(t,e,r=32){const n=r-e,i=~((1<<n)-1);return(t<<e|(i&t)>>>n)>>>0}a(Ut,"leftRotate");function Mt(t,e=0,r=t.byteLength,n=0){for(let i=0;i<r;i++)t[e+i]=n}a(Mt,"fill");const qt=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(t){const e=this._buff;let r=this._buffLen,n=0;const i=t.byteLength;for(;n<i;){const o=Math.min(64-r,i-n);for(let s=0;s<o;s++)e[r++]=t[n++];r>=64&&(this._step(),r-=64,this._totalLen+=64)}this._buffLen=r}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),t}_wrapUp(){this._buff[this._buffLen++]=128,Mt(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Mt(this._buff));const t=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(t/4294967296),!1),this._buffDV.setUint32(60,t%4294967296,!1),this._step()}_step(){const t=qt._bigBlock32,e=this._buffDV;for(let m=0;m<64;m+=4)t.setUint32(m,e.getUint32(m,!1),!1);for(let m=64;m<320;m+=4)t.setUint32(m,Ut(t.getUint32(m-12,!1)^t.getUint32(m-32,!1)^t.getUint32(m-56,!1)^t.getUint32(m-64,!1),1),!1);let r=this._h0,n=this._h1,i=this._h2,o=this._h3,s=this._h4,l,h,c;for(let m=0;m<80;m++)m<20?(l=n&i|~n&o,h=1518500249):m<40?(l=n^i^o,h=1859775393):m<60?(l=n&i|n&o|i&o,h=2400959708):(l=n^i^o,h=3395469782),c=Ut(r,5)+l+s+h+t.getUint32(m*4,!1)&4294967295,s=o,o=i,i=Ut(n,30),n=r,r=c;this._h0=this._h0+r&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let Yr=qt;Yr._bigBlock32=new DataView(new ArrayBuffer(320));function jt(t){const e=globalThis.atob(t),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n}a(jt,"fromBase64");const{fromCharCode:en}=String;function Vr(t){let e;if(typeof t=="string")e=t;else{e="";for(let r=0,{length:n}=t;r<n;r++)e+=en(t[r])}return globalThis.btoa(e)}a(Vr,"toBase64");function tn(t,e){if(t===e)return-1;let r=0;for(;t[r]===e[r];)r++;return r}a(tn,"indexOfDifference");var bn=Object.defineProperty,fi=Object.getOwnPropertyDescriptor,aa=a((t,e,r,n)=>{for(var i=n>1?void 0:n?fi(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&bn(e,r,i),i},"__decorateClass");const Bi=u.FileSystemError.FileNotFound().code,di=`===================================================================
`,hn=new TextDecoder,Sa=new TextEncoder;function bi(t){return t&&"type"in t&&"uri"in t&&"uri"in t&&"fileType"in t&&"revision"in t&&"timestamp"in t}a(bi,"isOperation");function ii(t,e,r){return{type:t.type,rootUri:e,uri:r!=null?r:t.uri}}a(ii,"toEvent");const Hn=a(class{constructor(t,e,r,n,i,o){this.providerService=t,this.storageService=e,this.fileStorageService=r,this.telemetryService=n,this.workspaceId=i,this._onDidChange=new u.EventEmitter,this.cache=new Map,this.lock=new Pe,this.scopedStores=new Map,o===void 0&&(this.disposable=u.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var t;(t=this.disposable)==null||t.dispose()}async exportDebugInfo(t){var e;async function r(n){const i=await u.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${n.toString(!0)}

${this.toStorage(await this.getWorkingOperations(n))}`});return void u.window.showTextDocument(i)}if(a(r,"exportCore"),t===void 0)for(const n of(e=u.workspace.workspaceFolders)!=null?e:[])await r.call(this,n.uri);else return r.call(this,t)}async getWorkspacesWithChanges(){var t;const e=new W("ChangeStore.getWorkspacesWithChanges()");try{const r=[];for(const n of(t=u.workspace.workspaceFolders)!=null?t:[])n.uri.scheme===P.scheme&&await this.hasChanges(n.uri)&&r.push(n.uri);return r.length>0?r:void 0}finally{e.stop()}}async acceptAll(t,e){const r=`ChangeStore.acceptAll(${t.toString()}, ${e==null?void 0:e.staged})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(t),async()=>{const i=await this.getWorkingOperations(t),o=[];let s=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(h=>h.staged));for(const h of i){if(l&&!h.staged){s.push(h);continue}h.fileType===u.FileType.File&&await this.discardWorkingContent(t,h.uri);let c;if(h.type===G.Created&&h.fileType===u.FileType.Directory&&(i.some(m=>z(m.uri,h.uri))||(c={type:G.Deleted,rootUri:t,uri:h.uri})),n.push(c!=null?c:ii(h,t)),h.type===G.Created){let m=h.uri;for(;;){const{parent:B}=this.findParent(m,i,I=>I.type===G.Created);if(B){o.push(B),m=B.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(h=>o.includes(h)?(n.push(ii(h,t)),!1):!0)),await this.saveWorkingOperations(t,s)},r),n.length!==0&&this._onDidChange.fire(n)}async discard(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.discard(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>this.discardCore(e,t,n),r),n.length!==0&&this._onDidChange.fire(n)}async discardCore(t,e,r){J.debug(`ChangeStore.discardCore(${e.toString()})`);let n=await this.getWorkingOperations(t);if(n.length===0)return;const i=M(e),o=n.findIndex(h=>M(h.uri)===i);if(o===-1)return;const[s]=n.splice(o,1);let l;switch(s.type){case G.Created:l=G.Deleted;break;case G.Deleted:l=G.Created;break;default:l=s.type;break}if(r.push({type:l,rootUri:t,uri:e}),s.type===G.Created){let h=s.uri;for(;;){const{parent:c,parentIndex:m}=this.findNewParentWithOnlyChild(h,n);if(c){n.splice(m,1),r.push({type:G.Deleted,rootUri:t,uri:c.uri}),h=c.uri;continue}break}}else if(s.type===G.Deleted){let h=s.uri;const c=this.findDeletedParents(h,n);let m=[...n];c.forEach(({parent:B,parentIndex:I})=>{m[I]=void 0,r.push({type:G.Created,rootUri:t,uri:B.uri})}),n=m.filter(B=>B!==void 0)}await this.saveWorkingOperations(t,n),s.fileType===u.FileType.File&&await this.discardWorkingContent(t,e)}async discardAll(t,e){const r=this.getUriScope(t);if(r)return this.getScopedChangeStore(r).discardAll(t,e);const n=`ChangeStore.discardAll(${t.toString()}, ${e==null?void 0:e.staged})`;J.log(n);const i=[];await this.lock.synchronizeWrite(x(t),async()=>{const o=await this.getWorkingOperations(t),s=[];let l=[];const h=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(c=>c.staged));for(const c of o){if(h&&!c.staged){l.push(c);continue}c.fileType===u.FileType.File&&await this.discardWorkingContent(t,c.uri);let m;switch(c.type){case G.Created:m=G.Deleted;break;case G.Deleted:m=G.Created;break;default:m=c.type;break}if(i.push({type:m,rootUri:t,uri:c.uri}),c.type===G.Created){let B=c.uri;for(;;){const{parent:I}=this.findNewParentWithOnlyChild(B,o);if(I){s.push(I),B=I.uri;continue}break}}}l.length>0&&s.length>0&&(l=l.filter(c=>s.includes(c)?(i.push({type:G.Deleted,rootUri:t,uri:c.uri}),!1):!0)),await this.saveWorkingOperations(t,l)},n),i.length!==0&&this._onDidChange.fire(i)}async stage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.stage(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.stageCore(e,t,i,n,o)},r),n.length!==0&&this._onDidChange.fire(n)}async stageAll(t){const e=`ChangeStore.stageAll(${t.toString()})`;J.log(e);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const n=(await this.getWorkingOperations(t)).filter(i=>!i.staged);if(n.length!==0)for(const i of n){const{index:o}=await this.getWorkingOperation(i.uri,t);if(!await this.stageCore(t,i.uri,i,r,o))return}},e),r.length!==0&&this._onDidChange.fire(r)}async stageCore(t,e,r,n,i){if(r.conflicts){if(!r.conflicts.status.includes(G.Deleted)){const s=u.l10n.t("Yes");if(await u.window.showWarningMessage(u.l10n.t("Are you sure you want to stage {0} with merge conflicts?",q(e)),{modal:!0},s)!==s)return!1}const[,o]=r.conflicts.status;switch(o){case G.Changed:switch(r.type){case G.Created:return!1;case G.Changed:return await this.spliceOperation(e,i,{...r,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0;case G.Deleted:const s=u.l10n.t("Keep Their Version"),l=u.l10n.t("Delete File"),h=await u.window.showInformationMessage(u.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,q(e)),{modal:!0},s,l);return h===s?(await this.discardCore(t,e,n),!0):h===l?(await this.spliceOperation(e,i,{...r,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):!1}case G.Created:switch(r.type){case G.Changed:case G.Deleted:return!1;case G.Created:return await this.spliceOperation(e,i,{...r,type:G.Changed,conflicts:void 0,size:r.size,hash:r.hash,originalHash:r.originalHash,staged:!0,timestamp:Date.now()},n),!0}case G.Deleted:switch(r.type){case G.Created:case G.Changed:{const s=u.l10n.t("Keep Our Version"),l=u.l10n.t("Delete File"),h=await u.window.showInformationMessage(u.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,q(e)),{modal:!0},s,l);return h===s?(await this.spliceOperation(e,i,{...r,type:G.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):h===l?(await this.discardCore(t,e,n),!0):!1}case G.Deleted:return await this.discardCore(t,e,n),!0}}}return await this.spliceOperation(e,i,{...r,staged:!0,conflicts:void 0,timestamp:Date.now()},n),!0}async unstage(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=`ChangeStore.unstage(${t.toString()})`;J.log(r);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);i!==void 0&&await this.spliceOperation(t,o,{...i,staged:!1,timestamp:Date.now()},n)},r),n.length!==0&&this._onDidChange.fire(n)}async unstageAll(t){const e=`ChangeStore.unstageAll(${t.toString()})`;J.log(e);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const n=(await this.getWorkingOperations(t)).map(i=>({...i,staged:!1,timestamp:Date.now()}));n.length!==0&&(await this.saveWorkingOperations(t,n),r.push(...n.map(i=>ii(i,t))))},e),r.length!==0&&this._onDidChange.fire(r)}async hasChanges(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).hasChanges(t);const r=x(t),n=this.cache.get(r);return n!==void 0?n.length!==0:this.lock.synchronizeRead(r,async()=>(await this.getWorkingOperations(t)).length!==0,`ChangeStore.hasChanges(${t.toString()})`)}maybeHasChanges(t,e){const r=this.getUriScope(t);if(r)return this.getScopedChangeStore(r).maybeHasChanges(t,e);const n=x(t),i=this.cache.get(n);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=M(e);return i.some(s=>M(s.uri)===o)}async hasMergeConflicts(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${t.toString()})`)}async hasStagedChanges(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${t.toString()})`)}async hasWorkingChanges(t){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${t.toString()})`)}async getChange(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).getChange(t);const r=this.providerService.getVirtualRootUri(t);if(r!==void 0)return this.lock.synchronizeRead(x(r),async()=>{const{operation:n}=await this.getWorkingOperation(t,r);return n},`ChangeStore.getChange(${t.toString()})`)}async getChanges(t,e){const r=this.getUriScope(t);return r?this.getScopedChangeStore(r).getChanges(t,e):this.lock.synchronizeRead(x(t),async()=>{let n=await this.getWorkingOperations(t);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;n=n.filter(s=>{var l;return(!i||s.conflicts===void 0)&&((l=o==null?void 0:o(s))!=null?l:!0)})}return n},`ChangeStore.getChanges(${t.toString()})`)}async getGroupedChanges(t,e){const r=this.getUriScope(t);return r?this.getScopedChangeStore(r).getGroupedChanges(t,e):this.lock.synchronizeRead(x(t),async()=>{var n,i;const o=await this.getWorkingOperations(t),s={conflicts:[],staged:[],working:[]};for(const l of o)!((i=(n=e==null?void 0:e.predicate)==null?void 0:n.call(e,l))!=null?i:!0)||(l.conflicts?s.conflicts.push(l):l.staged?s.staged.push(l):s.working.push(l));return s},`ChangeStore.getChangesByType(${t.toString()})`)}async getContent(t){const e=this.providerService.getVirtualRootUri(t);if(e===void 0)throw new Error(`Unable to find content for ${t.toString()}; Repository not found`);const r=x(e),n=this.cache.get(r);if((n==null?void 0:n.length)===0)throw new Error(`Unable to find content for ${t.toString()}`);return this.lock.synchronizeRead(r,async()=>{const i=hn.decode(await this.getWorkingContent(e,t));if(i!==void 0)return i;throw new Error(`Unable to find content for ${t.toString()}`)},`ChangeStore.getContent(${t.toString()}}`)}async getMergeConflicts(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return n.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${t.toString()})`)}async getStagedChanges(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getStagedChanges(${t.toString()})`)}async getWorkingChanges(t,e){return this.lock.synchronizeRead(x(t),async()=>(await this.getWorkingOperations(t)).filter(n=>{var i,o;return!n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${t.toString()})`)}async applyChangeset(t,e,r,n){var i;let o;bi(r)?o=r:n=n!=null?n:r,J.log(`ChangeStore.applyChangeset${t.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,n==null?void 0:n.save);const s=this.getScopedChangeStore(e.workspaceId),l=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(t,l,{...n,getIncomingContent:async h=>{const c=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,h),e.workspaceId);return hn.decode(await u.workspace.fs.readFile(c))},merge:async(h,c,m)=>{try{const B=P.getProviderUri(h),I=hn.decode(await u.workspace.fs.readFile(B)),L=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId),ue=hn.decode(await u.workspace.fs.readFile(L)),be=await this.providerService.getMetadata(L);return{...Vn(m,I,ue,be.HEAD.sha),baseUri:B,incomingUri:L}}catch(B){throw new Error(`Unable to apply patch to ${c}: ${String(B)}`)}}})}async applyPatch(t,e,r){if(J.log(`ChangeStore.applyPatch(${t.toString()})`,r==null?void 0:r.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(t,e,r)}async applyPatchCore(t,e,r={}){const n=`ChangeStore.applyPatchCore(${t.toString()})`;J.debug(n,r==null?void 0:r.save);const i=new u.WorkspaceEdit,o=[],s=new Map;async function l(I){var L;const ue=x(I),be=u.workspace.textDocuments.find(Ue=>x(Ue.uri)===ue);return(L=be==null?void 0:be.getText())!=null?L:hn.decode(await u.workspace.fs.readFile(I))}a(l,"getContent");async function h(I){try{const L=await u.workspace.fs.stat(I);return Boolean(L)}catch{return!1}}a(h,"exists");async function c(I,L,ue){let be=kn("",ue,{fuzzFactor:0});if(be===!1){if(!r.getIncomingContent)throw new Error(`Unable to apply patch to ${L}`);be=await r.getIncomingContent(L)}i.createFile(I,{overwrite:!0}),i.replace(I,new u.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),be)}a(c,"applyCreate");async function m(I,L,ue,be){const Ue=await l(I);let Oe=kn(Ue,ue,{fuzzFactor:1});if(Oe===!1){if(r.merge===void 0)throw new Error(`Unable to apply patch to ${L}; Resulted in conflicts`);const Ye={title:u.l10n.t("Merge")},et={title:u.l10n.t("Skip File"),isCloseAffordance:!0};if(await u.window.showWarningMessage(u.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,L),{modal:!0},Ye,et)!==Ye)return;const ft=await r.merge(I,L,Ue);Oe=ft.mergedContent,ft.conflicts&&s.set(x(I),{type:be,baseUri:ft.baseUri,incomingUri:ft.incomingUri})}i.replace(I,new u.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Oe)}a(m,"applyModification");const B=(r==null?void 0:r.reverse)?ni(e,{}):ce(e,{});for(const I of B)if(I.oldFileName==="/dev/null"){if(!I.newFileName)continue;const L=I.newFileName.startsWith("b/")?I.newFileName.substr(2):I.newFileName,ue=this.providerService.createRelativeVirtualUri(t,L);o.push(x(ue)),!await h(ue)?await c(ue,L,I):await m(ue,L,I,G.Created)}else if(I.newFileName==="/dev/null"){if(!I.oldFileName)continue;const L=I.oldFileName.startsWith("a/")?I.oldFileName.substr(2):I.oldFileName,ue=this.providerService.createRelativeVirtualUri(t,L);await h(ue)&&i.deleteFile(ue)}else if(I.oldFileName===I.newFileName){if(!I.newFileName)continue;const L=this.providerService.createRelativeVirtualUri(t,I.newFileName);o.push(x(L)),!await h(L)?await c(L,I.newFileName,I):await m(L,I.newFileName,I,G.Changed)}else throw new Error(`Unable to apply patch to ${I.oldFileName}; Renames aren't currently supported`);if(await u.workspace.applyEdit(i),r.save&&o.length)for(const I of o){const L=u.workspace.textDocuments.find(ue=>x(ue.uri)===I);await(L==null?void 0:L.save())}s.size&&setTimeout(async()=>{const I=[];await this.lock.synchronizeWrite(x(t),async()=>{const L=await this.getWorkingOperations(t);if(L.length===0)return;let ue=-1;for(const be of L){ue++;const Ue=s.get(x(be.uri));Ue!==void 0&&await this.spliceOperation(be.uri,ue,{...be,conflicts:{baseUri:Ue.baseUri,incomingUri:Ue.incomingUri,status:[be.type,Ue.type]},timestamp:Date.now()},I)}},n),I.length!==0&&this._onDidChange.fire(I)},0)}async createChangeset(t){J.log(`ChangeStore.createChangeset${t.toString()})`);const e=await this.createPatch(t);return e?{workspaceId:this.workspaceId,uri:t,patch:e}:void 0}async createPatch(t,e,r){if(J.log(`ChangeStore.createPatch${t.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(t);if((r==null?void 0:r.staged)&&(o=o.filter(l=>l.staged)),o.length===0)return"";const s=[];for(const l of o){const h=await this.createPatchCore(t,l);s.push(h)}return s.join("")}const{operation:n}=await this.getWorkingOperation(e,t);if(n===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(r==null?void 0:r.staged)&&n.staged?"":await this.createPatchCore(t,n)}async createPatchCore(t,e){if(e.fileType!==u.FileType.File)return"";const r=this.providerService.getRelativeFilePath(t,e.uri),n=`diff --git a/${r} b/${r}`;if(e.type===G.Created){let h=await this.getContent(e.uri);return Pn(r,"",h,"add")}if(e.type===G.Deleted){let h=hn.decode(await u.workspace.fs.readFile(P.getProviderUri(e.uri)));return Pn(r,h,"","delete")}const i=await this.getContent(e.uri),o=hn.decode(await u.workspace.fs.readFile(P.getProviderUri(e.uri))),s=dn(r,o,i),l=s.indexOf(di);return`${n}
${s.substr(l+di.length)}`}async keep(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return;const n=`ChangeStore.keep(${t.toString()})`;J.log(n,e);const i=[];await this.lock.synchronizeWrite(x(r),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(t,r);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,h]=o.conflicts.status;switch(h){case G.Changed:switch(o.type){case G.Changed:case G.Created:case G.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Created:switch(o.type){case G.Changed:case G.Deleted:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(t,s,{...o,type:G.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Deleted:switch(o.type){case G.Deleted:await this.discardCore(r,t,i);break;case G.Changed:await this.spliceOperation(t,s,{...o,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(t,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case G.Changed:switch(o.type){case G.Deleted:await this.spliceOperation(t,s,{...o,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(o.type){case G.Changed:case G.Deleted:return;case G.Created:break}break;case G.Deleted:switch(o.type){case G.Deleted:return this.discardCore(r,t,i);case G.Changed:await this.spliceOperation(t,s,{...o,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:return}}const l=e!==void 0?await u.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(t,s,{...o,type:G.Changed,originalHash:l!==void 0?await gt(l):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},n),i.length!==0&&this._onDidChange.fire(i)}async merge(t,e,r){const n=this.providerService.getVirtualWorkspaceUri(t);if(n===void 0)return;const i=`ChangeStore.merge(${t.toString()})`;J.log(i,e,r);const o=[];await this.lock.synchronizeWrite(x(n),async()=>{const{operation:s,index:l}=await this.getWorkingOperation(t,n);if(s===void 0)return;switch(e.type){case G.Changed:switch(s.type){case G.Deleted:await this.spliceOperation(t,l,{...s,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(s.type){case G.Deleted:case G.Changed:return;case G.Created:const L=await u.workspace.fs.readFile(e.providerUri);await this.spliceOperation(t,l,{...s,originalHash:L!==void 0?await gt(L):s.originalHash,conflicts:{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:G.Changed,timestamp:Date.now()},o);break}break;case G.Deleted:switch(s.type){case G.Deleted:return this.discardCore(n,t,o);case G.Changed:await this.spliceOperation(t,l,{...s,type:G.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case G.Created:return}}const h=await this.providerService.getMetadata(e.providerUri),c=await this.getWorkingContent(n,t),m=s.type===G.Created?new Uint8Array(0):await u.workspace.fs.readFile(r.providerUri),B=await u.workspace.fs.readFile(e.providerUri),I=Vn(hn.decode(c),hn.decode(m),hn.decode(B),h.HEAD.sha);await this.writeFileCore(n,t,o,Sa.encode(I.mergedContent),B!=null?B:new Uint8Array(0),I.conflicts?{baseUri:r.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(t,e,r,n){let i;const o=this.providerService.getVirtualRootUri(t);return o!==void 0&&({operation:i}=await this.getWorkingOperation(t,o)),(i==null?void 0:i.type)===G.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===G.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,t,r,n]})}resolveOpenCommand(t,e){return{command:"vscode.open",title:"Open File",arguments:[t,e]}}getScopedUri(t,e){const r=typeof e=="string"?e:e.workspaceId;return r===this.workspaceId?t:t.with({fragment:r})}getUriScope(t){return t.fragment||void 0}getScopedChangeStore(t){const e=typeof t=="string"?t:t.workspaceId;J.log(`ChangeStore.getScopedChangeStore(${e})`);let r=this.scopedStores.get(e);return r===void 0&&(r=e===this.workspaceId?new Hn.ScopedChangeStore(this,e,this.workspaceId):new Hn.ScopedChangeStore(new Hn(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,r)),r}async stat(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).stat(t);const r=this.providerService.getVirtualRootUri(t);if(r===void 0)return;const n=x(r),i=this.cache.get(n);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(n,async()=>{var o;const{operation:s}=await this.getWorkingOperation(t,r);if(s!==void 0){if(s.type===G.Deleted)throw u.FileSystemError.FileNotFound(`The ${s.fileType===u.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${t.toString()}`)}async readFile(t){const e=this.getUriScope(t);if(e)return this.getScopedChangeStore(e).readFile(t);const r=new W(`ChangeStore.readFile(${t.toString()})`);try{const n=this.providerService.getVirtualRootUri(t);if(n===void 0)return;const i=x(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){r.log({message:": Not found; no operations"});return}return this.getWorkingContent(n,t)},r.context)}finally{r.stop()}}async createDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.createDirectory(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e),s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,i===void 0?{type:G.Created,uri:t,fileType:u.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}async deleteDirectory(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.deleteDirectory(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===G.Created)return this.discardCore(e,t,n);const s=await this.providerService.getMetadata(t);await this.spliceOperation(t,o,{type:G.Deleted,uri:t,fileType:u.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}async updateDirectoryEntries(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return e;const n=new W(`ChangeStore.updateDirectoryEntries(${t.toString()})`,{},e.length);try{const i=x(r),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=O(r,t),l=await this.getWorkingOperations(r);for(const h of l)switch(h.type){case G.Changed:break;case G.Created:{if(z(h.uri,s)){const c=this.providerService.getRelativeFilePath(t,h.uri);e.push([c,h.fileType])}break}case G.Deleted:{if(z(h.uri,s)){const c=this.providerService.getRelativeFilePath(t,h.uri),m=e.findIndex(([B])=>B===c);m!==-1&&e.splice(m,1)}break}}return e},n.context)}finally{n.stop()}}async writeFile(t,e,r,n){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=new W(`ChangeStore.writeFile(${t.toString()})`,{},e.length,n);try{const s=[];if(await this.lock.synchronizeWrite(x(i),async()=>this.writeFileCore(i,t,s,e,r,n),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(t,e,r,n,i,o){const s=new W(`ChangeStore.writeFileCore(${e.toString()})`,{},n.length,o);try{const[{operation:l,index:h},c,m]=await Promise.all([this.getWorkingOperation(e,t),gt(n),gt(i)]);if(c===m&&(!l||(l==null?void 0:l.type)===G.Changed))return this.discardCore(t,e,r);if(c===(l==null?void 0:l.hash)&&m===(l==null?void 0:l.originalHash))return;const[{HEAD:B}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(t,e,n)]);await this.spliceOperation(e,h,l===void 0?{type:G.Changed,uri:e,fileType:u.FileType.File,revision:B.sha,timestamp:Date.now(),size:n.byteLength,hash:c,originalHash:m,conflicts:o,staged:!1}:{...l,revision:B.sha,timestamp:Date.now(),size:n.byteLength,hash:c,originalHash:m,conflicts:o,staged:!1},r)}finally{s.stop()}}async createFile(t,e){const r=this.providerService.getVirtualWorkspaceUri(t);if(r===void 0)return;const n=new W(`ChangeStore.createFile(${t.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(x(r),async()=>{const[{operation:o,index:s},l,h]=await Promise.all([this.getWorkingOperation(t,r),gt(e),this.providerService.getMetadata(t),this.saveWorkingContent(r,t,e)]);await this.spliceOperation(t,s,o===void 0?{type:G.Created,uri:t,fileType:u.FileType.File,revision:h.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l,originalHash:l}:{...o,type:G.Created,revision:h.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:l},i)},n.context),i.length===0)return;this._onDidChange.fire(i)}finally{n.stop()}}async deleteFile(t){const e=this.providerService.getVirtualWorkspaceUri(t);if(e===void 0)return;const r=new W(`ChangeStore.deleteFile(${t.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(t,e);if((i==null?void 0:i.type)===G.Created)return this.discardCore(e,t,n);const[s]=await Promise.all([this.providerService.getMetadata(t),this.discardWorkingContent(e,t)]);await this.spliceOperation(t,o,{type:G.Deleted,uri:t,fileType:u.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},r.context),n.length===0)return;this._onDidChange.fire(n)}finally{r.stop()}}findParent(t,e,r){const n=oe(t),{operation:i,index:o}=this.findWorkingOperation(n,e);return i!==void 0&&r(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(t,e){const r=M(t);return this.findParent(t,e,(n,i)=>n.type===G.Created&&!i.some(o=>z(o.uri,n.uri)&&M(o.uri)!==r))}findDeletedParents(t,e){const r=[];for(let n=0;n<e.length;n+=1){const i=e[n];i.type===G.Deleted&&$(t,i.uri)&&r.push({parent:i,parentIndex:n})}return r}async getWorkingOperation(t,e){return this.findWorkingOperation(t,await this.getWorkingOperations(e))}findWorkingOperation(t,e){if(e.length===0)return{operation:void 0,index:-1};const r=M(t);let n=-1;const i=e.find((o,s)=>M(o.uri)!==r?!1:(n=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:n}}async getWorkingOperations(t){const e=x(t);let r=this.cache.get(e);return r===void 0&&(r=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,r)),r}async saveWorkingOperations(t,e){J.debug(`ChangeStore.saveWorkingOperations(${t.toString()})`,e.length);const r=x(t);this.cache.set(r,e);try{await this.storageService.store(this.getOperationsStorageKey(r),this.toStorage(e))}catch(n){throw this.cache.delete(r),J.error(n,`Failed to save repository changes for ${r}`),n}}getOperationsStorageKey(t){return`operations/${t}`}async getWorkingContent(t,e){try{return await this.fileStorageService.get(this.getFileStorageKey(t,e))}catch(r){throw J.error(r),this.telemetryService.sendException(r),r}}async discardWorkingContent(t,e){J.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(t,e))}catch(r){if(r instanceof u.FileSystemError&&r.code===Bi)return;throw J.error(r),this.telemetryService.sendException(r),r}}async saveWorkingContent(t,e,r){J.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,r.length);try{return await this.fileStorageService.store(this.getFileStorageKey(t,e),r)}catch(n){throw J.error(n),this.telemetryService.sendException(n),n}}getFileStorageKey(t,e){return`changestore/${R(e)}`}async spliceOperation(t,e,r,n){const i=this.providerService.getVirtualWorkspaceUri(t);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,r):o.push(r),await this.saveWorkingOperations(i,o),n.push(ii(r,i,t))}fromStorage(t){if(!t)return[];try{const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&D(n)?typeof n=="string"?u.Uri.parse(n):u.Uri.from(n):n);return Array.isArray(e)?e:e.operations}catch(e){throw J.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(t){const e={schemaVersion:Hn.operationsStorageSchemaVersion,operations:t};return JSON.stringify(e)}},"_ChangeStore");let ai=Hn;ai.operationsStorageSchemaVersion=1,ai.ScopedChangeStore=class{constructor(t,e,r){this.changeStore=t,this.scope=e,this.workspaceId=r}createPatch(t,e,r){return this.changeStore.createPatch(this.stripUriScope(t),this.stripUriScope(e),r)}discardAll(t,e){return this.changeStore.discardAll(this.stripUriScope(t),e)}getChange(t){return this.changeStore.getChange(this.stripUriScope(t))}getChanges(t,e){return this.changeStore.getChanges(this.stripUriScope(t),e)}async getGroupedChanges(t,e){return this.changeStore.getGroupedChanges(this.stripUriScope(t),e)}hasChanges(t){return this.changeStore.hasChanges(this.stripUriScope(t))}maybeHasChanges(t,e){return this.changeStore.maybeHasChanges(this.stripUriScope(t),this.stripUriScope(e))}async stat(t){const r=this.changeStore.getUriScope(t)!==this.workspaceId,n=await this.changeStore.stat(this.stripUriScope(t));return n!==void 0&&r&&(n.permissions=u.FilePermission.Readonly),n}readFile(t){return this.changeStore.readFile(this.stripUriScope(t))}resolveDiffCommand(t,e,r,n){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(t,this.scope),this.changeStore.getScopedUri(e,this.scope),r,n)}stripUriScope(t){return t===void 0||!t.fragment?t:t.with({fragment:""})}},aa([Cr()],ai.prototype,"getWorkingOperations",1);function oa(t){switch(t){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(oa,"getStatusText");function xi(t){const[e,r]=t;switch(e){case OperationType.Changed:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(r){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(xi,"getConflictStatusText");const hi=a(class{constructor(t){this.storageService=t,this._onDidChange=new u.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(t){const e=x(t),r=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(n){throw J.error(n,`Failed to delete repository metadata for ${e}`),n}!r||setTimeout(()=>this._onDidChange.fire({uri:t}),0)}async get(t){this.assertMatchingScheme(t);const e=x(t),r=this.cache.get(e);if(r!==void 0)return r;let n;try{n=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw J.error(i,`Failed to get repository metadata for ${e}`),i}return n?this.cache.set(e,{revision:n}):this.cache.delete(e),{revision:n}}async set(t,e,r,n){this.assertMatchingScheme(t);const i=(await this.get(t)).revision!==e?"revision":void 0,o=x(t);if(r!==void 0&&!this.validate(r))throw new Error(`Metadata validation failed for ${t.toString()}`);const s={revision:e,cachedMetadata:r};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(l){throw this.cache.delete(o),J.error(l,`Failed to save repository metadata for ${o}`),l}(n==null?void 0:n.silent)||setTimeout(()=>this._onDidChange.fire({uri:t,reason:i}),0)}refresh(){this.cache.clear()}validate(t){var e,r,n,i,o,s,l,h;return typeof t.version=="number"&&t.version>=hi.schemaVersion&&typeof t.timestamp=="number"&&typeof((e=t.provider)==null?void 0:e.id)=="string"&&typeof t.provider.name=="string"&&typeof t.name=="string"&&t.repo&&typeof t.accessLevel=="number"&&typeof((r=t.HEAD)==null?void 0:r.type)=="number"&&typeof((n=t.HEAD)==null?void 0:n.name)=="string"&&typeof((i=t.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=t.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=t.HEAD.detached)==null?void 0:s.type)=="number"||typeof((l=t.HEAD.branch)==null?void 0:l.name)=="string")&&typeof((h=t.defaultBranch)==null?void 0:h.name)=="string"&&typeof t.defaultBranch.sha=="string"}assertMatchingScheme(t){if(t.scheme!==P.scheme)throw new Error(`Uri scheme '${t.scheme}' must match configured scheme '${P.scheme}'; uri=${t.toString()}`)}getStorageKey(t){return`metadata/${t}`}fromStorage(t){if(!t)return;const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&D(n)?u.Uri.from(n):n);return e==null?void 0:e.revision}toStorage(t){const e={schemaVersion:hi.storageSchemaVersion,revision:t};return JSON.stringify(e)}},"_MetadataStore");let Wn=hi;Wn.schemaVersion=ut,Wn.storageSchemaVersion=1;class Ci{constructor(e,r){this.memento=e,this.scope=r,this._onDidChange=new u.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const r=this.getScoped(e),n=new W(`MementoStorage.get(${e}): scopedKey=${r}`,{logLevel:pe.Debug});try{return await Promise.resolve(this.memento.get(r))}finally{n.stop()}}async getKeys(e){const r=this.getScoped(e),n=new W(`MementoStorage.getKeys(${e}): scopedPrefix=${r}`,{logLevel:pe.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{n.stop()}}getKeysCore(e){let r=this.memento.keys();return e&&(r=r.filter(n=>n.startsWith(e))),r}async store(e,r){const n=this.getScoped(e),i=new W(`MementoStorage.store(${e}): scopedKey=${n}`,{logLevel:pe.Debug});try{return await this.storeCore(e,n,r)}finally{i.stop()}}async storeCore(e,r,n){await this.memento.update(r,n),this._onDidChange.fire({key:e})}async delete(e){const r=this.getScoped(e),n=new W(`MementoStorage.delete(${e}): scopedKey=${r}`,{logLevel:pe.Debug});try{return await this.storeCore(e,r,void 0)}finally{n.stop()}}async deleteKeys(e){const r=this.getScoped(e),n=new W(`MementoStorage.deleteKeys(${e}): scopedPrefix=${r}`,{logLevel:pe.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(r);for(const l of s){const h=o!==0?l.substr(o):l;J.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${h}, scopedKey=${l}`);try{await this.storeCore(h,l,void 0)}catch(c){J.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${h}, scopedKey=${l}`),i.push(h)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{n.stop()}}with(e){return new Ci(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(Ci,"MementoStorageService");class Zn{constructor(e,r){this.storageUri=e,this.scope=r,this._onDidChange=new u.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const r=this.getScoped(e),n=new W(`ExtFileStorageService.get(${e}): scopedKey=${r}`,{logLevel:pe.Debug});try{return await u.workspace.fs.readFile(u.Uri.joinPath(this.storageUri,r))}catch(i){return}finally{n.stop()}}async store(e,r){const n=this.getScoped(e),i=new W(`ExtFileStorageService.store(${e}): scopedKey=${n}`,{logLevel:pe.Debug});try{return await this.storeCore(e,n,r)}finally{i.stop()}}async storeCore(e,r,n){await u.workspace.fs.writeFile(u.Uri.joinPath(this.storageUri,r),n),this._onDidChange.fire({key:e})}async delete(e){const r=this.getScoped(e),n=new W(`ExtFileStorageService.delete(${e}): scopedKey=${r}`,{logLevel:pe.Debug});try{return await u.workspace.fs.delete(u.Uri.joinPath(this.storageUri,r))}finally{n.stop()}}with(e){return new Zn(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(Zn,"ExtFileStorageService");const gn=a(async(t,e,r)=>{const n=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5326)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9865)),o=new n.AppInsightsCore,s=new i.PostChannel,l={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){l.extensionConfig={};const m={alwaysUseXhrOverride:!0,httpXHROverride:r};l.extensionConfig[s.identifier]=m}const c=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(l,[]),o.addTelemetryInitializer(m=>{var B,I;!c||(m.ext=(B=m.ext)!=null?B:{},m.ext.utc=(I=m.ext.utc)!=null?I:{},m.ext.utc.flags=8462029)}),o},"getAICore"),ro=a(async(t,e,r)=>{const n=await gn(t,e,r);return{logEvent:(o,s)=>{try{n==null||n.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(l){throw new Error(`Failed to log event to app insights!
`+l.message)}},flush:async()=>{try{n==null||n.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var Ln;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(Ln||(Ln={}));class Ti{constructor(e,r,n){this.osShim=n,this._instantiationStatus=Ln.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this.ignoreBuiltInCommonProperties=!1,this._clientFactory=r,this._key=e}get additionalCommonProperties(){return{"common.os":this.osShim.platform,"common.nodeArch":this.osShim.architecture,"common.platformversion":(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.2-preview"}}logEvent(e,r){if(!this._telemetryClient){this._instantiationStatus!==Ln.INSTANTIATED&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}logException(e,r){if(!this._telemetryClient){this._instantiationStatus!==Ln.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:r});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.logEvent(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.logException(e,r)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===Ln.NOT_INSTANTIATED&&(this._instantiationStatus=Ln.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Ln.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Ln.INSTANTIATED}))}}a(Ti,"BaseTelemetryAppender");class Ir{constructor(e,r){this.telemetryAppender=e,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetryAppender),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetryAppender.instantiateAppender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,r,n,i){i?this.telemetryAppender.logEvent(e,{properties:r,measurements:n}):this.telemetryLogger.logUsage(e,{properties:r,measurements:n})}sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!1)}sendDangerousTelemetryEvent(e,r,n){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,r,n,!0)}internalSendTelemetryErrorEvent(e,r,n,i){i?this.telemetryAppender.logEvent(e,{properties:r,measurements:n}):this.telemetryLogger.logError(e,{properties:r,measurements:n})}sendTelemetryErrorEvent(e,r,n){this.internalSendTelemetryErrorEvent(e,r,n,!1)}sendDangerousTelemetryErrorEvent(e,r,n){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,r,n,!0)}internalSendTelemetryException(e,r,n,i){i?this.telemetryAppender.logException(e,{properties:r,measurements:n}):this.telemetryLogger.logError(e,{properties:r,measurements:n})}sendTelemetryException(e,r,n){this.internalSendTelemetryException(e,r,n,!1)}sendDangerousTelemetryException(e,r,n){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,r,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Ir,"BaseTelemetryReporter");class Rn{static applyReplacements(e,r){for(const n of Object.keys(e))for(const i of r)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(){return Rn._instance||(Rn._instance=new Rn),Rn._instance}}a(Rn,"TelemetryUtil");const no=a(async(t,e)=>{let r;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5783));r=new i.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),r.initialize()}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&Rn.applyReplacements(s,e),r==null||r.track({name:i,data:s})},flush:async()=>{r==null||r.flush()}}},"webAppInsightsClientFactory");class ba extends Ir{constructor(e,r){let n=a(o=>no(o,r),"clientFactory");Rn.shouldUseOneDataSystemSDK(e)&&(n=a(o=>ro(o,u),"clientFactory"));const i=new Ti(e,n,{release:navigator.appVersion,platform:"web",architecture:"web"});if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,u)}}a(ba,"TelemetryReporter");const sa="Type of classified event does not match event properties",Qn=a(class{constructor(t){this.context=t,this.sharedProperties={},Qn._instance=this,this.reporter=new ba(Qn.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(t,e){e!==sa&&this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e})}sendEvent(t,e,r){this.reporter.sendTelemetryEvent(t,{...this.sharedProperties,...e},r)}sendErrorEvent(t,e,r){this.reporter.sendTelemetryErrorEvent(t,{...this.sharedProperties,...e},r)}sendException(t,e,r){this.reporter.sendTelemetryException(t,{...this.sharedProperties,...e},r)}setSharedProperty(t,e){this.sharedProperties[t]=e}reportWorkbenchLoadResult(t){const e="_codespaces.webeditor.connectWorkspace";u.env.appHost==="github.dev"&&(J.debug(`Executing ${e}`),t={...t,errorDetail:t.errorDetail instanceof Error?t.errorDetail.name:void 0},u.commands.executeCommand(e,t).then(r=>{},r=>{J.debug(`Failed to execute ${e}`,r)}))}},"_TelemetryService");let xa=Qn;xa.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let Xn;var la;(function(t){function e(r){const n=Ta(r);return Xn=u.env.uiKind===u.UIKind.Web,J.warn(`Running on the ${Xn?"web":"desktop"}${r.extensionRuntime!==u.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${n}; storageUri=${r.globalStorageUri.toString(!0)}`),n}a(e,"configure"),t.configure=e})(la||(la={}));const Ca=/\/workspaceStorage\/(?<id>[^/]+)/i;function Ta(t){var e;if(t.storageUri===void 0)return"";const r=Ca.exec(t.storageUri.path);let n;if((e=r==null?void 0:r.groups)==null?void 0:e.id)n=r.groups.id;else{n=t.storageUri.path;const i=tn(t.globalStorageUri.path,n),o=`/${t.extension.id}`;n.endsWith(o)?n=n.slice(i,-o.length):n=n.substr(i)}return/-[0-9]$/.test(n)?n.slice(0,-2):n}a(Ta,"getWorkspaceId");function Aa(t,e){return t.reduce((n,i)=>{const o=e(i),s=n.get(o);return s===void 0?n.set(o,[i]):s.push(i),n},new Map)}a(Aa,"groupBy");function io(t){let e=0;for(const r of t){if(r===0)return!0;if(e++,e>8e3)break}return!1}a(io,"isBinary");function Da(t,e,r=n=>n){return[...t.reduce((i,o)=>{const s=e(o),l=i.get(s);if(l===void 0)i.set(s,o);else{const h=r(l,o);h!==void 0&&i.set(s,h)}return i},new Map).values()]}a(Da,"uniqueBy");const cn=a(class{constructor(t,e,r,n,i){this.providerService=t,this.storageService=e,this.changeStore=r,this.workspaceId=n,this.context=i,this._onDidChange=new u.EventEmitter,this.cache=new Map,this.lock=new Ee("WorkspaceRepositories"),this.disposable=u.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),xe.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const t=await u.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void u.window.showTextDocument(t)}onConfigurationChanged(t){if(!xe.changed(t,"experimental.syncRecentList"))return;const e=xe.get("experimental.syncRecentList")===!0?[cn.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(t){const e=Da(t.map(r=>r.rootUri),r=>x(r)).map(r=>this.providerService.getRepository(r)).filter(r=>Boolean(r));this.addOrUpdate(e)}onRepositoriesChanged(t){this.addOrUpdate(t.added)}onRepositoryChanged(t){this.addOrUpdate([t.repository])}async get(t){let e=await this.lock.synchronizeRead(async()=>{let r=this.cache.get("workspaceRepositories");return r===void 0&&(r=[...(await this.getCore()).values()].sort((n,i)=>i.timestamp-n.timestamp),this.cache.set("workspaceRepositories",r)),r},"WorkspaceRepositories.get");if(t){const r=x(t);e=e.filter(n=>x(n.canonicalUri)===r)}return e}async getCore(){return this.fromStorage(await this.storageService.get(cn.storageKey))}async getRecents(t=10){return(await this.get()).slice(0,t)}async getRemoteWorkspaceSourceProvider(t){const e=await this.getRecents();if(e.length!==0)return e.filter(r=>r.provider.id===t)}refresh(){this.cache.clear()}async remove(t){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),r=`${t.workspaceId}/${x(t.uri)}`,n=e.get(r);if(n===void 0)return;const i=this.changeStore.getScopedChangeStore(n),o=await i.getChanges(n.uri);if(o.length!==0){const s={title:u.l10n.t("Yes")},l={title:u.l10n.t("No"),isCloseAffordance:!0};if(await u.window.showWarningMessage(o.length===1?u.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):u.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,l)!==s)return;await i.discardAll(n.uri)}this.cache.clear(),e.delete(r);try{await this.storageService.store(cn.storageKey,this.toStorage(e))}catch(s){throw J.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(t){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const r of t){const[{HEAD:n,pullRequest:i},o]=await Promise.all([r.getMetadata(),r.getIndexMetadata()]),s=await this.changeStore.getChanges(r.uri);e.set(`${this.workspaceId}/${x(r.uri)}`,{workspaceId:this.workspaceId,uri:r.uri,canonicalUri:r.canonicalUri,name:r.name,provider:r.provider,ref:{type:n.type,name:n.name},idx:(o==null?void 0:o.type)&&Ce.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:Zo(s),timestamp:Date.now()})}try{await this.storageService.store(cn.storageKey,this.toStorage(e))}catch(r){throw J.error(r,"Failed to save workspace repositories"),r}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(t){if(!t)return new Map;try{const e=JSON.parse(t,(r,n)=>(r==="uri"||r.endsWith("Uri"))&&D(n)?u.Uri.from(n):n);return new Map(e.workspaceRepositories)}catch(e){return J.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(t){const e={schemaVersion:cn.storageSchemaVersion,workspaceRepositories:[...t]};return JSON.stringify(e)}},"_WorkspaceRepositories");let $i=cn;$i.storageKey="workspaceRepositories",$i.storageSchemaVersion=1;function Hi(t){return t!==void 0&&(t.added!==0||t.changed!==0||t.deleted!==0)}a(Hi,"hasChanges");function Ra(t){return Hi(t.changes)}a(Ra,"hasUncommittedChanges");function Zo(t){let e=0,r=0,n=0;for(const i of t)switch(i.type){case G.Created:e++;break;case G.Changed:r++;break;case G.Deleted:n++;break}return e||r||n?{added:e,changed:r,deleted:n,timestamp:Date.now()}:void 0}a(Zo,"toChangesSummary");function ua(t,{compact:e=!0,preamble:r,separator:n=", ",short:i=!1,single:o=!1}={}){if(!Hi(t))return l10n.t("Everything up to date");const{added:s,changed:l,deleted:h}=t;if(o){const m=s+l+h;return m===1?l10n.t("{0} change",m):l10n.t("{0} changes",m)}let c=`${r!=null?r:""}`;return(s||!e)&&(c+=i?`+${s}`:s===1?l10n.t("{0} file added",s):l10n.t("{0} files added",s),(l||h||!e)&&(c+=n)),(l||!e)&&(c+=i?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(h||!e)&&(c+=n)),(h||!e)&&(c+=i?`-${h}`:h===1?l10n.t("{0} file deleted",h):l10n.t("{0} files deleted",h)),c}a(ua,"formatChangesSummary");var Wi=__webpack_require__(7360),ao=__webpack_require__(919),ca=__webpack_require__.n(ao);function fa(t,e,r){if(!(e==null?void 0:e.length)&&!(r==null?void 0:r.length))return new Set(t);let n;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=ca()(t,[...i],{dot:!0,nocase:!0});n=new Set(o)}if(r==null?void 0:r.length){const i=new Set([...r,...r.map(o=>`${o}/**`)]);if(n===void 0){const o=ca().not(t,[...i],{dot:!0,nocase:!0});n=new Set(o)}else ca()(t,[...i],{dot:!0,nocase:!0}).forEach(n.delete,n)}return n}a(fa,"globFilter");const oo="";function Qo(...t){if(t.length===1){const e=t[0];return e===void 0?oo:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof u.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(t)}a(Qo,"serialize_defaultResolver");function zi(t){return(e,r,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${r}`;n.value=function(...s){const l=s.length===0?o:`${o}$${(t!=null?t:Qo)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let h=this[l];const c=a(()=>i.apply(this,s),"run");return h===void 0?h=c():h=h.then(c,c),this[l]=h,h}}}a(zi,"serialize");function*Ur(t,e){for(const r of t)yield*e(r)}a(Ur,"flatMap");function*on(t,e){for(const r of t)e(r)&&(yield r)}a(on,"filter");function*ji(t,e){for(const r of t){const n=e(r);n!=null&&(yield n)}}a(ji,"filterMap");function Qr(t,e){for(const r of t)if(e(r))return r}a(Qr,"find");function js(t,e){let r="";const n=t[Symbol.iterator]();let i=n.next();if(i.done)return r;for(;;){const o=i.value.toString();if(i=n.next(),i.done){r+=o;break}r+=o,r+=e}return r}a(js,"join");function*Jn(t,e){for(const r of t)yield e(r)}a(Jn,"map");function Ai(t,e){for(const r of t)if(e(r))return!0;return!1}a(Ai,"some");function*gi(...t){for(const e of t)for(const r of e)yield r}a(gi,"union");function*Di(t){const e=new Set;for(const r of t)e.has(r)||(e.add(r),yield r)}a(Di,"unique");function Xo(t){return t.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(Xo,"escapeRegExpCharacters");function Jo(t,e,r={}){if(!t)throw new Error("Cannot create regex from empty string");e||(t=Xo(t)),r.wholeWord&&(/\B/.test(t.charAt(0))||(t=`\\b${t}`),/\B/.test(t.charAt(t.length-1))||(t=`${t}\\b`));let n="gmu";return r.matchCase||(n+="i"),new RegExp(t,n)}a(Jo,"createRegExp");let Ia,so,Fa;const es=a((t,e,r,n)=>{const i=`${e.join("--")};;;;${r.join("--")}`,o=t.map(l=>l.path).join("::");if(Ia===o&&i==so&&Fa)return Fa;const s=fa((n?t.filter(l=>l.size<n):t).map(l=>l.path),e,r);return Ia=o,so=i,Fa=s,s},"generateIncludeSet"),ts=a((t,e,r,n)=>{var i;const o=[];let s;if(typeof t=="string")s=t;else{const m=t;if(m[0]==255&&m[1]==254)s=new TextDecoder("utf-16le").decode(m);else if(m[0]==254&&m[1]==255)s=new TextDecoder("utf-16be").decode(m);else if(s=new TextDecoder("utf8").decode(m),s.slice(0,1e3).includes("\uFFFD")&&m.includes(0))return[]}const l=[];let h=null,c=n.remainingResultQuota;for(;(c===void 0||c>=0)&&(h=r.exec(s));)l.push({matchStartIndex:h.index,matchedText:h[0]}),c!==void 0&&c--;if(l.length){const m=new Set,B=new Set,I=[],L=a(Ye=>s.slice(I[Ye].start,I[Ye].end),"readLine");let ue=0,be=null;const Ue=/\r?\n/g;for(;be=Ue.exec(s);)I.push({start:ue,end:be.index}),ue=be.index+be[0].length;ue<s.length&&I.push({start:ue,end:s.length});let Oe=0;for(const{matchStartIndex:Ye,matchedText:et}of l){if(c!==void 0&&c<0)break;for(;Boolean(I[Oe+1])&&Ye>I[Oe].end;)Oe++;let $e=Oe;for(;Boolean(I[$e+1])&&Ye+et.length>I[$e].end;)$e++;if(n.beforeContext)for(let rt=Math.max(0,Oe-n.beforeContext);rt<Oe;rt++)m.add(rt);let ft="",Nt=0;for(let rt=Oe;rt<=$e;rt++){let It=L(rt);((i=n.previewOptions)==null?void 0:i.charsPerLine)&&It.length>n.previewOptions.charsPerLine&&(Nt=Math.max(Ye-I[Oe].start-20,0),It=It.substr(Nt,n.previewOptions.charsPerLine)),ft+=`${It}
`,B.add(rt)}const at=new u.Range(Oe,Ye-I[Oe].start,$e,Ye+et.length-I[$e].start),dt=new u.Range(0,Ye-I[Oe].start-Nt,$e-Oe,Ye+et.length-I[$e].start-($e===Oe?Nt:0)),Pt={uri:u.Uri.file(e),ranges:at,preview:{text:ft,matches:dt}};if(o.push(Pt),n.afterContext)for(let rt=$e+1;rt<=Math.min($e+n.afterContext,I.length-1);rt++)m.add(rt)}for(const Ye of m)B.has(Ye)||o.push({uri:u.Uri.file(e),text:L(Ye),lineNumber:Ye+1})}return o},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rs=4,Oa=0,lo=1,uo=2;function Ri(t){let e=t.length;for(;--e>=0;)t[e]=0}a(Ri,"zero$1");const ns=0,co=1,is=2,as=3,os=258,Na=29,In=256,Ki=In+1+Na,ei=30,da=19,fo=2*Ki+1,oi=15,ha=16,Pa=7,Ii=256,ho=16,go=17,po=18,k=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),H=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ye=512,De=new Array((Ki+2)*2);Ri(De);const ze=new Array(ei*2);Ri(ze);const Ve=new Array(ye);Ri(Ve);const Et=new Array(os-as+1);Ri(Et);const St=new Array(Na);Ri(St);const Dt=new Array(ei);Ri(Dt);function Gt(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}a(Gt,"StaticTreeDesc");let or,Zt,ur;function lr(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(lr,"TreeDesc");const je=a(t=>t<256?Ve[t]:Ve[256+(t>>>7)],"d_code"),Fr=a((t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},"put_short"),Br=a((t,e,r)=>{t.bi_valid>ha-r?(t.bi_buf|=e<<t.bi_valid&65535,Fr(t,t.bi_buf),t.bi_buf=e>>ha-t.bi_valid,t.bi_valid+=r-ha):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},"send_bits"),pn=a((t,e,r)=>{Br(t,r[e*2],r[e*2+1])},"send_code"),pi=a((t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},"bi_reverse"),ss=a(t=>{t.bi_valid===16?(Fr(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},"bi_flush"),vo=a((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,h=e.stat_desc.max_length;let c,m,B,I,L,ue,be=0;for(I=0;I<=oi;I++)t.bl_count[I]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<fo;c++)m=t.heap[c],I=r[r[m*2+1]*2+1]+1,I>h&&(I=h,be++),r[m*2+1]=I,!(m>n)&&(t.bl_count[I]++,L=0,m>=l&&(L=s[m-l]),ue=r[m*2],t.opt_len+=ue*(I+L),o&&(t.static_len+=ue*(i[m*2+1]+L)));if(be!==0){do{for(I=h-1;t.bl_count[I]===0;)I--;t.bl_count[I]--,t.bl_count[I+1]+=2,t.bl_count[h]--,be-=2}while(be>0);for(I=h;I!==0;I--)for(m=t.bl_count[I];m!==0;)B=t.heap[--c],!(B>n)&&(r[B*2+1]!==I&&(t.opt_len+=(I-r[B*2+1])*r[B*2],r[B*2+1]=I),m--)}},"gen_bitlen"),Gi=a((t,e,r)=>{const n=new Array(oi+1);let i=0,o,s;for(o=1;o<=oi;o++)n[o]=i=i+r[o-1]<<1;for(s=0;s<=e;s++){let l=t[s*2+1];l!==0&&(t[s*2]=pi(n[l]++,l))}},"gen_codes"),ga=a(()=>{let t,e,r,n,i;const o=new Array(oi+1);for(r=0,n=0;n<Na-1;n++)for(St[n]=r,t=0;t<1<<k[n];t++)Et[r++]=n;for(Et[r-1]=n,i=0,n=0;n<16;n++)for(Dt[n]=i,t=0;t<1<<T[n];t++)Ve[i++]=n;for(i>>=7;n<ei;n++)for(Dt[n]=i<<7,t=0;t<1<<T[n]-7;t++)Ve[256+i++]=n;for(e=0;e<=oi;e++)o[e]=0;for(t=0;t<=143;)De[t*2+1]=8,t++,o[8]++;for(;t<=255;)De[t*2+1]=9,t++,o[9]++;for(;t<=279;)De[t*2+1]=7,t++,o[7]++;for(;t<=287;)De[t*2+1]=8,t++,o[8]++;for(Gi(De,Ki+1,o),t=0;t<ei;t++)ze[t*2+1]=5,ze[t*2]=pi(t,5);or=new Gt(De,k,In+1,Ki,oi),Zt=new Gt(ze,T,0,ei,oi),ur=new Gt(new Array(0),H,0,da,Pa)},"tr_static_init"),mo=a(t=>{let e;for(e=0;e<Ki;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ei;e++)t.dyn_dtree[e*2]=0;for(e=0;e<da;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Ii*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},"init_block"),_o=a(t=>{t.bi_valid>8?Fr(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},"bi_windup"),wo=a((t,e,r,n)=>{_o(t),n&&(Fr(t,r),Fr(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},"copy_block"),pa=a((t,e,r,n)=>{const i=e*2,o=r*2;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},"smaller"),Yi=a((t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&pa(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!pa(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},"pqdownheap"),yo=a((t,e,r)=>{let n,i,o=0,s,l;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,n===0?pn(t,i,e):(s=Et[i],pn(t,s+In+1,e),l=k[s],l!==0&&(i-=St[s],Br(t,i,l)),n--,s=je(n),pn(t,s,r),l=T[s],l!==0&&(n-=Dt[s],Br(t,n,l)));while(o<t.last_lit);pn(t,Ii,e)},"compress_block"),Vi=a((t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,l,h=-1,c;for(t.heap_len=0,t.heap_max=fo,s=0;s<o;s++)r[s*2]!==0?(t.heap[++t.heap_len]=h=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=h<2?++h:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=h,s=t.heap_len>>1;s>=1;s--)Yi(t,r,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Yi(t,r,1),l=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=l,r[c*2]=r[s*2]+r[l*2],t.depth[c]=(t.depth[s]>=t.depth[l]?t.depth[s]:t.depth[l])+1,r[s*2+1]=r[l*2+1]=c,t.heap[1]=c++,Yi(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],vo(t,e),Gi(r,h,t.bl_count)},"build_tree"),va=a((t,e,r)=>{let n,i=-1,o,s=e[0*2+1],l=0,h=7,c=4;for(s===0&&(h=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=e[(n+1)*2+1],!(++l<h&&o===s)&&(l<c?t.bl_tree[o*2]+=l:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[ho*2]++):l<=10?t.bl_tree[go*2]++:t.bl_tree[po*2]++,l=0,i=o,s===0?(h=138,c=3):o===s?(h=6,c=3):(h=7,c=4))},"scan_tree"),ka=a((t,e,r)=>{let n,i=-1,o,s=e[0*2+1],l=0,h=7,c=4;for(s===0&&(h=138,c=3),n=0;n<=r;n++)if(o=s,s=e[(n+1)*2+1],!(++l<h&&o===s)){if(l<c)do pn(t,o,t.bl_tree);while(--l!=0);else o!==0?(o!==i&&(pn(t,o,t.bl_tree),l--),pn(t,ho,t.bl_tree),Br(t,l-3,2)):l<=10?(pn(t,go,t.bl_tree),Br(t,l-3,3)):(pn(t,po,t.bl_tree),Br(t,l-11,7));l=0,i=o,s===0?(h=138,c=3):o===s?(h=6,c=3):(h=7,c=4)}},"send_tree"),La=a(t=>{let e;for(va(t,t.dyn_ltree,t.l_desc.max_code),va(t,t.dyn_dtree,t.d_desc.max_code),Vi(t,t.bl_desc),e=da-1;e>=3&&t.bl_tree[V[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},"build_bl_tree"),Eo=a((t,e,r,n)=>{let i;for(Br(t,e-257,5),Br(t,r-1,5),Br(t,n-4,4),i=0;i<n;i++)Br(t,t.bl_tree[V[i]*2+1],3);ka(t,t.dyn_ltree,e-1),ka(t,t.dyn_dtree,r-1)},"send_all_trees"),So=a(t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Oa;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return lo;for(r=32;r<In;r++)if(t.dyn_ltree[r*2]!==0)return lo;return Oa},"detect_data_type");let bo=!1;const ls=a(t=>{bo||(ga(),bo=!0),t.l_desc=new lr(t.dyn_ltree,or),t.d_desc=new lr(t.dyn_dtree,Zt),t.bl_desc=new lr(t.bl_tree,ur),t.bi_buf=0,t.bi_valid=0,mo(t)},"_tr_init$1"),xo=a((t,e,r,n)=>{Br(t,(ns<<1)+(n?1:0),3),wo(t,e,r,!0)},"_tr_stored_block$1"),Co=a(t=>{Br(t,co<<1,3),pn(t,Ii,De),ss(t)},"_tr_align$1"),Be=a((t,e,r,n)=>{let i,o,s=0;t.level>0?(t.strm.data_type===uo&&(t.strm.data_type=So(t)),Vi(t,t.l_desc),Vi(t,t.d_desc),s=La(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&e!==-1?xo(t,e,r,n):t.strategy===rs||o===i?(Br(t,(co<<1)+(n?1:0),3),yo(t,De,ze)):(Br(t,(is<<1)+(n?1:0),3),Eo(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),yo(t,t.dyn_ltree,t.dyn_dtree)),mo(t),n&&_o(t)},"_tr_flush_block$1"),_t=a((t,e,r)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Et[r]+In+1)*2]++,t.dyn_dtree[je(e)*2]++),t.last_lit===t.lit_bufsize-1),"_tr_tally$1");var At=ls,Wt=xo,cr=Be,wr=_t,yr=Co,sn={_tr_init:At,_tr_stored_block:Wt,_tr_flush_block:cr,_tr_tally:wr,_tr_align:yr},qr=a((t,e,r,n)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},"adler32");const vn=a(()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},"makeTable"),si=new Uint32Array(vn());var an=a((t,e,r,n)=>{const i=si,o=n+r;t^=-1;for(let s=n;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},"crc32"),qi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Eu,_tr_stored_block:Su,_tr_flush_block:bu,_tr_tally:Fi,_tr_align:xu}=sn,{Z_NO_FLUSH:Qi,Z_PARTIAL_FLUSH:Cu,Z_FULL_FLUSH:Tu,Z_FINISH:Oi,Z_BLOCK:Ks,Z_OK:li,Z_STREAM_END:Gs,Z_STREAM_ERROR:zn,Z_DATA_ERROR:Au,Z_BUF_ERROR:us,Z_DEFAULT_COMPRESSION:Du,Z_FILTERED:Ru,Z_HUFFMAN_ONLY:To,Z_RLE:Iu,Z_FIXED:Fu,Z_DEFAULT_STRATEGY:Ou,Z_UNKNOWN:Nu,Z_DEFLATED:Ao}=Zi,Pu=9,ku=15,Lu=8,Mu=29,cs=256+1+Mu,Uu=30,Bu=19,$u=2*cs+1,Hu=15,gr=3,Ni=258,ti=Ni+gr+1,Wu=32,Do=42,fs=69,Ro=73,Io=91,Fo=103,Xi=113,Ma=666,un=1,Ua=2,Ji=3,ma=4,zu=3,Pi=a((t,e)=>(t.msg=qi[e],e),"err"),Ys=a(t=>(t<<1)-(t>4?9:0),"rank"),ki=a(t=>{let e=t.length;for(;--e>=0;)t[e]=0},"zero");let Li=a((t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,"HASH_ZLIB");const Mi=a(t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},"flush_pending"),mn=a((t,e)=>{bu(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Mi(t.strm)},"flush_block_only"),Er=a((t,e)=>{t.pending_buf[t.pending++]=e},"put_byte"),Ba=a((t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},"putShortMSB"),ju=a((t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=qr(t.adler,e,i,r):t.state.wrap===2&&(t.adler=an(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},"read_buf"),Vs=a((t,e)=>{let r=t.max_chain_length,n=t.strstart,i,o,s=t.prev_length,l=t.nice_match;const h=t.strstart>t.w_size-ti?t.strstart-(t.w_size-ti):0,c=t.window,m=t.w_mask,B=t.prev,I=t.strstart+Ni;let L=c[n+s-1],ue=c[n+s];t.prev_length>=t.good_match&&(r>>=2),l>t.lookahead&&(l=t.lookahead);do if(i=e,!(c[i+s]!==ue||c[i+s-1]!==L||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<I);if(o=Ni-(I-n),n=I-Ni,o>s){if(t.match_start=e,s=o,o>=l)break;L=c[n+s-1],ue=c[n+s]}}while((e=B[e&m])>h&&--r!=0);return s<=t.lookahead?s:t.lookahead},"longest_match"),ea=a(t=>{const e=t.w_size;let r,n,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ti)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);o+=e}if(t.strm.avail_in===0)break;if(n=ju(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=gr)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Li(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Li(t,t.ins_h,t.window[s+gr-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<gr)););}while(t.lookahead<ti&&t.strm.avail_in!==0)},"fill_window"),Ku=a((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ea(t),t.lookahead===0&&e===Qi)return un;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,mn(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ti&&(mn(t,!1),t.strm.avail_out===0))return un}return t.insert=0,e===Oi?(mn(t,!0),t.strm.avail_out===0?Ji:ma):(t.strstart>t.block_start&&(mn(t,!1),t.strm.avail_out===0),un)},"deflate_stored"),ds=a((t,e)=>{let r,n;for(;;){if(t.lookahead<ti){if(ea(t),t.lookahead<ti&&e===Qi)return un;if(t.lookahead===0)break}if(r=0,t.lookahead>=gr&&(t.ins_h=Li(t,t.ins_h,t.window[t.strstart+gr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ti&&(t.match_length=Vs(t,r)),t.match_length>=gr)if(n=Fi(t,t.strstart-t.match_start,t.match_length-gr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=gr){t.match_length--;do t.strstart++,t.ins_h=Li(t,t.ins_h,t.window[t.strstart+gr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Li(t,t.ins_h,t.window[t.strstart+1]);else n=Fi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(mn(t,!1),t.strm.avail_out===0))return un}return t.insert=t.strstart<gr-1?t.strstart:gr-1,e===Oi?(mn(t,!0),t.strm.avail_out===0?Ji:ma):t.last_lit&&(mn(t,!1),t.strm.avail_out===0)?un:Ua},"deflate_fast"),_a=a((t,e)=>{let r,n,i;for(;;){if(t.lookahead<ti){if(ea(t),t.lookahead<ti&&e===Qi)return un;if(t.lookahead===0)break}if(r=0,t.lookahead>=gr&&(t.ins_h=Li(t,t.ins_h,t.window[t.strstart+gr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=gr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ti&&(t.match_length=Vs(t,r),t.match_length<=5&&(t.strategy===Ru||t.match_length===gr&&t.strstart-t.match_start>4096)&&(t.match_length=gr-1)),t.prev_length>=gr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-gr,n=Fi(t,t.strstart-1-t.prev_match,t.prev_length-gr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Li(t,t.ins_h,t.window[t.strstart+gr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=gr-1,t.strstart++,n&&(mn(t,!1),t.strm.avail_out===0))return un}else if(t.match_available){if(n=Fi(t,0,t.window[t.strstart-1]),n&&mn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return un}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Fi(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<gr-1?t.strstart:gr-1,e===Oi?(mn(t,!0),t.strm.avail_out===0?Ji:ma):t.last_lit&&(mn(t,!1),t.strm.avail_out===0)?un:Ua},"deflate_slow"),Gu=a((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=Ni){if(ea(t),t.lookahead<=Ni&&e===Qi)return un;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=gr&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+Ni;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=Ni-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=gr?(r=Fi(t,1,t.match_length-gr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Fi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(mn(t,!1),t.strm.avail_out===0))return un}return t.insert=0,e===Oi?(mn(t,!0),t.strm.avail_out===0?Ji:ma):t.last_lit&&(mn(t,!1),t.strm.avail_out===0)?un:Ua},"deflate_rle"),Yu=a((t,e)=>{let r;for(;;){if(t.lookahead===0&&(ea(t),t.lookahead===0)){if(e===Qi)return un;break}if(t.match_length=0,r=Fi(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(mn(t,!1),t.strm.avail_out===0))return un}return t.insert=0,e===Oi?(mn(t,!0),t.strm.avail_out===0?Ji:ma):t.last_lit&&(mn(t,!1),t.strm.avail_out===0)?un:Ua},"deflate_huff");function ui(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}a(ui,"Config");const $a=[new ui(0,0,0,0,Ku),new ui(4,4,8,4,ds),new ui(4,5,16,8,ds),new ui(4,6,32,32,ds),new ui(4,4,16,16,_a),new ui(8,16,32,32,_a),new ui(8,16,128,128,_a),new ui(8,32,128,256,_a),new ui(32,128,258,1024,_a),new ui(32,258,258,4096,_a)],Vu=a(t=>{t.window_size=2*t.w_size,ki(t.head),t.max_lazy_match=$a[t.level].max_lazy,t.good_match=$a[t.level].good_length,t.nice_match=$a[t.level].nice_length,t.max_chain_length=$a[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=gr-1,t.match_available=0,t.ins_h=0},"lm_init");function qu(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ao,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array($u*2),this.dyn_dtree=new Uint16Array((2*Uu+1)*2),this.bl_tree=new Uint16Array((2*Bu+1)*2),ki(this.dyn_ltree),ki(this.dyn_dtree),ki(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Hu+1),this.heap=new Uint16Array(2*cs+1),ki(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*cs+1),ki(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}a(qu,"DeflateState");const qs=a(t=>{if(!t||!t.state)return Pi(t,zn);t.total_in=t.total_out=0,t.data_type=Nu;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Do:Xi,t.adler=e.wrap===2?0:1,e.last_flush=Qi,Eu(e),li},"deflateResetKeep"),Zs=a(t=>{const e=qs(t);return e===li&&Vu(t.state),e},"deflateReset"),Zu=a((t,e)=>!t||!t.state||t.state.wrap!==2?zn:(t.state.gzhead=e,li),"deflateSetHeader"),Qs=a((t,e,r,n,i,o)=>{if(!t)return zn;let s=1;if(e===Du&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>Pu||r!==Ao||n<8||n>15||e<0||e>9||o<0||o>Fu)return Pi(t,zn);n===8&&(n=9);const l=new qu;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+gr-1)/gr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=e,l.strategy=o,l.method=r,Zs(t)},"deflateInit2"),Qu=a((t,e)=>Qs(t,e,Ao,ku,Lu,Ou),"deflateInit"),Xu=a((t,e)=>{let r,n;if(!t||!t.state||e>Ks||e<0)return t?Pi(t,zn):zn;const i=t.state;if(!t.output||!t.input&&t.avail_in!==0||i.status===Ma&&e!==Oi)return Pi(t,t.avail_out===0?us:zn);i.strm=t;const o=i.last_flush;if(i.last_flush=e,i.status===Do)if(i.wrap===2)t.adler=0,Er(i,31),Er(i,139),Er(i,8),i.gzhead?(Er(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Er(i,i.gzhead.time&255),Er(i,i.gzhead.time>>8&255),Er(i,i.gzhead.time>>16&255),Er(i,i.gzhead.time>>24&255),Er(i,i.level===9?2:i.strategy>=To||i.level<2?4:0),Er(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Er(i,i.gzhead.extra.length&255),Er(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=an(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=fs):(Er(i,0),Er(i,0),Er(i,0),Er(i,0),Er(i,0),Er(i,i.level===9?2:i.strategy>=To||i.level<2?4:0),Er(i,zu),i.status=Xi);else{let s=Ao+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=To||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,s|=l<<6,i.strstart!==0&&(s|=Wu),s+=31-s%31,i.status=Xi,Ba(i,s),i.strstart!==0&&(Ba(i,t.adler>>>16),Ba(i,t.adler&65535)),t.adler=1}if(i.status===fs)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),Mi(t),r=i.pending,i.pending===i.pending_buf_size));)Er(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Ro)}else i.status=Ro;if(i.status===Ro)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),Mi(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.name.length?n=i.gzhead.name.charCodeAt(i.gzindex++)&255:n=0,Er(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.gzindex=0,i.status=Io)}else i.status=Io;if(i.status===Io)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),Mi(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}i.gzindex<i.gzhead.comment.length?n=i.gzhead.comment.charCodeAt(i.gzindex++)&255:n=0,Er(i,n)}while(n!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=an(t.adler,i.pending_buf,i.pending-r,r)),n===0&&(i.status=Fo)}else i.status=Fo;if(i.status===Fo&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Mi(t),i.pending+2<=i.pending_buf_size&&(Er(i,t.adler&255),Er(i,t.adler>>8&255),t.adler=0,i.status=Xi)):i.status=Xi),i.pending!==0){if(Mi(t),t.avail_out===0)return i.last_flush=-1,li}else if(t.avail_in===0&&Ys(e)<=Ys(o)&&e!==Oi)return Pi(t,us);if(i.status===Ma&&t.avail_in!==0)return Pi(t,us);if(t.avail_in!==0||i.lookahead!==0||e!==Qi&&i.status!==Ma){let s=i.strategy===To?Yu(i,e):i.strategy===Iu?Gu(i,e):$a[i.level].func(i,e);if((s===Ji||s===ma)&&(i.status=Ma),s===un||s===Ji)return t.avail_out===0&&(i.last_flush=-1),li;if(s===Ua&&(e===Cu?xu(i):e!==Ks&&(Su(i,0,0,!1),e===Tu&&(ki(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Mi(t),t.avail_out===0))return i.last_flush=-1,li}return e!==Oi?li:i.wrap<=0?Gs:(i.wrap===2?(Er(i,t.adler&255),Er(i,t.adler>>8&255),Er(i,t.adler>>16&255),Er(i,t.adler>>24&255),Er(i,t.total_in&255),Er(i,t.total_in>>8&255),Er(i,t.total_in>>16&255),Er(i,t.total_in>>24&255)):(Ba(i,t.adler>>>16),Ba(i,t.adler&65535)),Mi(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?li:Gs)},"deflate$2"),Ju=a(t=>{if(!t||!t.state)return zn;const e=t.state.status;return e!==Do&&e!==fs&&e!==Ro&&e!==Io&&e!==Fo&&e!==Xi&&e!==Ma?Pi(t,zn):(t.state=null,e===Xi?Pi(t,Au):li)},"deflateEnd"),ec=a((t,e)=>{let r=e.length;if(!t||!t.state)return zn;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==Do||n.lookahead)return zn;if(i===1&&(t.adler=qr(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(ki(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(e.subarray(r-n.w_size,r),0),e=h,r=n.w_size}const o=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,ea(n);n.lookahead>=gr;){let h=n.strstart,c=n.lookahead-(gr-1);do n.ins_h=Li(n,n.ins_h,n.window[h+gr-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--c);n.strstart=h,n.lookahead=gr-1,ea(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=gr-1,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=o,n.wrap=i,li},"deflateSetDictionary");var tc=Qu,rc=Qs,nc=Zs,ic=qs,ac=Zu,oc=Xu,sc=Ju,lc=ec,uc="pako deflate (from Nodeca project)",Ha={deflateInit:tc,deflateInit2:rc,deflateReset:nc,deflateResetKeep:ic,deflateSetHeader:ac,deflate:oc,deflateEnd:sc,deflateSetDictionary:lc,deflateInfo:uc};const cc=a((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"_has");var fc=a(function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)cc(r,n)&&(t[n]=r[n])}}return t},"pako_esm_assign"),dc=a(t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let s=t[n];r.set(s,i),i+=s.length}return r},"flattenChunks"),Oo={assign:fc,flattenChunks:dc};let Xs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Xs=!1}const Wa=new Uint8Array(256);for(let t=0;t<256;t++)Wa[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wa[254]=Wa[254]=1;var hc=a(t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,o,s=t.length,l=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)==55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),o=0,i=0;o<l;i++)r=t.charCodeAt(i),(r&64512)==55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)==56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e},"string2buf");const gc=a((t,e)=>{if(e<65534&&t.subarray&&Xs)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r},"buf2binstring");var pc=a((t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){o[i++]=s;continue}let l=Wa[s];if(l>4){o[i++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return gc(o,i)},"buf2string"),vc=a((t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)==128;)r--;return r<0||r===0?e:r+Wa[t[r]]>e?r:e},"utf8border"),za={string2buf:hc,buf2string:pc,utf8border:vc};function mc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a(mc,"ZStream");var Js=mc;const el=Object.prototype.toString,{Z_NO_FLUSH:_c,Z_SYNC_FLUSH:wc,Z_FULL_FLUSH:yc,Z_FINISH:Ec,Z_OK:No,Z_STREAM_END:Sc,Z_DEFAULT_COMPRESSION:bc,Z_DEFAULT_STRATEGY:xc,Z_DEFLATED:Cc}=Zi;function ja(t){this.options=Oo.assign({level:bc,method:Cc,chunkSize:16384,windowBits:15,memLevel:8,strategy:xc},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Js,this.strm.avail_out=0;let r=Ha.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==No)throw new Error(qi[r]);if(e.header&&Ha.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=za.string2buf(e.dictionary):el.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=Ha.deflateSetDictionary(this.strm,n),r!==No)throw new Error(qi[r]);this._dict_set=!0}}a(ja,"Deflate$1"),ja.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Ec:_c,typeof t=="string"?r.input=za.string2buf(t):el.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===wc||o===yc)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Ha.deflate(r,o),i===Sc)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Ha.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===No;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0},ja.prototype.onData=function(t){this.chunks.push(t)},ja.prototype.onEnd=function(t){t===No&&(this.result=Oo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function hs(t,e){const r=new ja(e);if(r.push(t,!0),r.err)throw r.msg||qi[r.err];return r.result}a(hs,"deflate$1");function Tc(t,e){return e=e||{},e.raw=!0,hs(t,e)}a(Tc,"deflateRaw$1");function Ac(t,e){return e=e||{},e.gzip=!0,hs(t,e)}a(Ac,"gzip$1");var Dc=ja,Rc=hs,Ic=Tc,Fc=Ac,Oc=Zi,Nc={Deflate:Dc,deflate:Rc,deflateRaw:Ic,gzip:Fc,constants:Oc};const Po=30,Pc=12;var kc=a(function(e,r){let n,i,o,s,l,h,c,m,B,I,L,ue,be,Ue,Oe,Ye,et,$e,ft,Nt,at,dt,Pt,rt;const It=e.state;n=e.next_in,Pt=e.input,i=n+(e.avail_in-5),o=e.next_out,rt=e.output,s=o-(r-e.avail_out),l=o+(e.avail_out-257),h=It.dmax,c=It.wsize,m=It.whave,B=It.wnext,I=It.window,L=It.hold,ue=It.bits,be=It.lencode,Ue=It.distcode,Oe=(1<<It.lenbits)-1,Ye=(1<<It.distbits)-1;e:do{ue<15&&(L+=Pt[n++]<<ue,ue+=8,L+=Pt[n++]<<ue,ue+=8),et=be[L&Oe];t:for(;;){if($e=et>>>24,L>>>=$e,ue-=$e,$e=et>>>16&255,$e===0)rt[o++]=et&65535;else if($e&16){ft=et&65535,$e&=15,$e&&(ue<$e&&(L+=Pt[n++]<<ue,ue+=8),ft+=L&(1<<$e)-1,L>>>=$e,ue-=$e),ue<15&&(L+=Pt[n++]<<ue,ue+=8,L+=Pt[n++]<<ue,ue+=8),et=Ue[L&Ye];r:for(;;){if($e=et>>>24,L>>>=$e,ue-=$e,$e=et>>>16&255,$e&16){if(Nt=et&65535,$e&=15,ue<$e&&(L+=Pt[n++]<<ue,ue+=8,ue<$e&&(L+=Pt[n++]<<ue,ue+=8)),Nt+=L&(1<<$e)-1,Nt>h){e.msg="invalid distance too far back",It.mode=Po;break e}if(L>>>=$e,ue-=$e,$e=o-s,Nt>$e){if($e=Nt-$e,$e>m&&It.sane){e.msg="invalid distance too far back",It.mode=Po;break e}if(at=0,dt=I,B===0){if(at+=c-$e,$e<ft){ft-=$e;do rt[o++]=I[at++];while(--$e);at=o-Nt,dt=rt}}else if(B<$e){if(at+=c+B-$e,$e-=B,$e<ft){ft-=$e;do rt[o++]=I[at++];while(--$e);if(at=0,B<ft){$e=B,ft-=$e;do rt[o++]=I[at++];while(--$e);at=o-Nt,dt=rt}}}else if(at+=B-$e,$e<ft){ft-=$e;do rt[o++]=I[at++];while(--$e);at=o-Nt,dt=rt}for(;ft>2;)rt[o++]=dt[at++],rt[o++]=dt[at++],rt[o++]=dt[at++],ft-=3;ft&&(rt[o++]=dt[at++],ft>1&&(rt[o++]=dt[at++]))}else{at=o-Nt;do rt[o++]=rt[at++],rt[o++]=rt[at++],rt[o++]=rt[at++],ft-=3;while(ft>2);ft&&(rt[o++]=rt[at++],ft>1&&(rt[o++]=rt[at++]))}}else if(($e&64)==0){et=Ue[(et&65535)+(L&(1<<$e)-1)];continue r}else{e.msg="invalid distance code",It.mode=Po;break e}break}}else if(($e&64)==0){et=be[(et&65535)+(L&(1<<$e)-1)];continue t}else if($e&32){It.mode=Pc;break e}else{e.msg="invalid literal/length code",It.mode=Po;break e}break}}while(n<i&&o<l);ft=ue>>3,n-=ft,ue-=ft<<3,L&=(1<<ue)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<l?257+(l-o):257-(o-l),It.hold=L,It.bits=ue},"inflate_fast");const wa=15,tl=852,rl=592,nl=0,gs=1,il=2,Lc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Uc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ka=a((t,e,r,n,i,o,s,l)=>{const h=l.bits;let c=0,m=0,B=0,I=0,L=0,ue=0,be=0,Ue=0,Oe=0,Ye=0,et,$e,ft,Nt,at,dt=null,Pt=0,rt;const It=new Uint16Array(wa+1),dr=new Uint16Array(wa+1);let Xr=null,Zr=0,Ei,Mn,Si;for(c=0;c<=wa;c++)It[c]=0;for(m=0;m<n;m++)It[e[r+m]]++;for(L=h,I=wa;I>=1&&It[I]===0;I--);if(L>I&&(L=I),I===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,l.bits=1,0;for(B=1;B<I&&It[B]===0;B++);for(L<B&&(L=B),Ue=1,c=1;c<=wa;c++)if(Ue<<=1,Ue-=It[c],Ue<0)return-1;if(Ue>0&&(t===nl||I!==1))return-1;for(dr[1]=0,c=1;c<wa;c++)dr[c+1]=dr[c]+It[c];for(m=0;m<n;m++)e[r+m]!==0&&(s[dr[e[r+m]]++]=m);if(t===nl?(dt=Xr=s,rt=19):t===gs?(dt=Lc,Pt-=257,Xr=Mc,Zr-=257,rt=256):(dt=Uc,Xr=Bc,rt=-1),Ye=0,m=0,c=B,at=o,ue=L,be=0,ft=-1,Oe=1<<L,Nt=Oe-1,t===gs&&Oe>tl||t===il&&Oe>rl)return 1;for(;;){Ei=c-be,s[m]<rt?(Mn=0,Si=s[m]):s[m]>rt?(Mn=Xr[Zr+s[m]],Si=dt[Pt+s[m]]):(Mn=32+64,Si=0),et=1<<c-be,$e=1<<ue,B=$e;do $e-=et,i[at+(Ye>>be)+$e]=Ei<<24|Mn<<16|Si|0;while($e!==0);for(et=1<<c-1;Ye&et;)et>>=1;if(et!==0?(Ye&=et-1,Ye+=et):Ye=0,m++,--It[c]==0){if(c===I)break;c=e[r+s[m]]}if(c>L&&(Ye&Nt)!==ft){for(be===0&&(be=L),at+=B,ue=c-be,Ue=1<<ue;ue+be<I&&(Ue-=It[ue+be],!(Ue<=0));)ue++,Ue<<=1;if(Oe+=1<<ue,t===gs&&Oe>tl||t===il&&Oe>rl)return 1;ft=Ye&Nt,i[ft]=L<<24|ue<<16|at-o|0}}return Ye!==0&&(i[at+Ye]=c-be<<24|64<<16|0),l.bits=L,0},"inflate_table");const $c=0,al=1,ol=2,{Z_FINISH:sl,Z_BLOCK:Hc,Z_TREES:ko,Z_OK:ta,Z_STREAM_END:Wc,Z_NEED_DICT:zc,Z_STREAM_ERROR:jn,Z_DATA_ERROR:ll,Z_MEM_ERROR:ul,Z_BUF_ERROR:jc,Z_DEFLATED:cl}=Zi,fl=1,dl=2,hl=3,gl=4,pl=5,vl=6,ml=7,_l=8,wl=9,yl=10,Lo=11,vi=12,ps=13,El=14,vs=15,Sl=16,bl=17,xl=18,Cl=19,Mo=20,Uo=21,Tl=22,Al=23,Dl=24,Rl=25,Il=26,ms=27,Fl=28,Ol=29,Gr=30,Nl=31,Kc=32,Gc=852,Yc=592,Vc=15,Pl=a(t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24),"zswap32");function qc(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}a(qc,"InflateState");const kl=a(t=>{if(!t||!t.state)return jn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=fl,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Gc),e.distcode=e.distdyn=new Int32Array(Yc),e.sane=1,e.back=-1,ta},"inflateResetKeep"),Ll=a(t=>{if(!t||!t.state)return jn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,kl(t)},"inflateReset"),Ml=a((t,e)=>{let r;if(!t||!t.state)return jn;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?jn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ll(t))},"inflateReset2"),Ul=a((t,e)=>{if(!t)return jn;const r=new qc;t.state=r,r.window=null;const n=Ml(t,e);return n!==ta&&(t.state=null),n},"inflateInit2"),Zc=a(t=>Ul(t,Vc),"inflateInit");let Bl=!0,_s,ws;const Qc=a(t=>{if(Bl){_s=new Int32Array(512),ws=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ka(al,t.lens,0,288,_s,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ka(ol,t.lens,0,32,ws,0,t.work,{bits:5}),Bl=!1}t.lencode=_s,t.lenbits=9,t.distcode=ws,t.distbits=5},"fixedtables"),$l=a((t,e,r,n)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},"updatewindow"),Xc=a((t,e)=>{let r,n,i,o,s,l,h,c,m,B,I,L,ue,be,Ue=0,Oe,Ye,et,$e,ft,Nt,at,dt;const Pt=new Uint8Array(4);let rt,It;const dr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return jn;r=t.state,r.mode===vi&&(r.mode=ps),s=t.next_out,i=t.output,h=t.avail_out,o=t.next_in,n=t.input,l=t.avail_in,c=r.hold,m=r.bits,B=l,I=h,dt=ta;e:for(;;)switch(r.mode){case fl:if(r.wrap===0){r.mode=ps;break}for(;m<16;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(r.wrap&2&&c===35615){r.check=0,Pt[0]=c&255,Pt[1]=c>>>8&255,r.check=an(r.check,Pt,2,0),c=0,m=0,r.mode=dl;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Gr;break}if((c&15)!==cl){t.msg="unknown compression method",r.mode=Gr;break}if(c>>>=4,m-=4,at=(c&15)+8,r.wbits===0)r.wbits=at;else if(at>r.wbits){t.msg="invalid window size",r.mode=Gr;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=c&512?yl:vi,c=0,m=0;break;case dl:for(;m<16;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(r.flags=c,(r.flags&255)!==cl){t.msg="unknown compression method",r.mode=Gr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Gr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(Pt[0]=c&255,Pt[1]=c>>>8&255,r.check=an(r.check,Pt,2,0)),c=0,m=0,r.mode=hl;case hl:for(;m<32;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.head&&(r.head.time=c),r.flags&512&&(Pt[0]=c&255,Pt[1]=c>>>8&255,Pt[2]=c>>>16&255,Pt[3]=c>>>24&255,r.check=an(r.check,Pt,4,0)),c=0,m=0,r.mode=gl;case gl:for(;m<16;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(Pt[0]=c&255,Pt[1]=c>>>8&255,r.check=an(r.check,Pt,2,0)),c=0,m=0,r.mode=pl;case pl:if(r.flags&1024){for(;m<16;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(Pt[0]=c&255,Pt[1]=c>>>8&255,r.check=an(r.check,Pt,2,0)),c=0,m=0}else r.head&&(r.head.extra=null);r.mode=vl;case vl:if(r.flags&1024&&(L=r.length,L>l&&(L=l),L&&(r.head&&(at=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+L),at)),r.flags&512&&(r.check=an(r.check,n,L,o)),l-=L,o+=L,r.length-=L),r.length))break e;r.length=0,r.mode=ml;case ml:if(r.flags&2048){if(l===0)break e;L=0;do at=n[o+L++],r.head&&at&&r.length<65536&&(r.head.name+=String.fromCharCode(at));while(at&&L<l);if(r.flags&512&&(r.check=an(r.check,n,L,o)),l-=L,o+=L,at)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=_l;case _l:if(r.flags&4096){if(l===0)break e;L=0;do at=n[o+L++],r.head&&at&&r.length<65536&&(r.head.comment+=String.fromCharCode(at));while(at&&L<l);if(r.flags&512&&(r.check=an(r.check,n,L,o)),l-=L,o+=L,at)break e}else r.head&&(r.head.comment=null);r.mode=wl;case wl:if(r.flags&512){for(;m<16;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Gr;break}c=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=vi;break;case yl:for(;m<32;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}t.adler=r.check=Pl(c),c=0,m=0,r.mode=Lo;case Lo:if(r.havedict===0)return t.next_out=s,t.avail_out=h,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=m,zc;t.adler=r.check=1,r.mode=vi;case vi:if(e===Hc||e===ko)break e;case ps:if(r.last){c>>>=m&7,m-=m&7,r.mode=ms;break}for(;m<3;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}switch(r.last=c&1,c>>>=1,m-=1,c&3){case 0:r.mode=El;break;case 1:if(Qc(r),r.mode=Mo,e===ko){c>>>=2,m-=2;break e}break;case 2:r.mode=bl;break;case 3:t.msg="invalid block type",r.mode=Gr}c>>>=2,m-=2;break;case El:for(c>>>=m&7,m-=m&7;m<32;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if((c&65535)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Gr;break}if(r.length=c&65535,c=0,m=0,r.mode=vs,e===ko)break e;case vs:r.mode=Sl;case Sl:if(L=r.length,L){if(L>l&&(L=l),L>h&&(L=h),L===0)break e;i.set(n.subarray(o,o+L),s),l-=L,o+=L,h-=L,s+=L,r.length-=L;break}r.mode=vi;break;case bl:for(;m<14;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(r.nlen=(c&31)+257,c>>>=5,m-=5,r.ndist=(c&31)+1,c>>>=5,m-=5,r.ncode=(c&15)+4,c>>>=4,m-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Gr;break}r.have=0,r.mode=xl;case xl:for(;r.have<r.ncode;){for(;m<3;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.lens[dr[r.have++]]=c&7,c>>>=3,m-=3}for(;r.have<19;)r.lens[dr[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,rt={bits:r.lenbits},dt=Ka($c,r.lens,0,19,r.lencode,0,r.work,rt),r.lenbits=rt.bits,dt){t.msg="invalid code lengths set",r.mode=Gr;break}r.have=0,r.mode=Cl;case Cl:for(;r.have<r.nlen+r.ndist;){for(;Ue=r.lencode[c&(1<<r.lenbits)-1],Oe=Ue>>>24,Ye=Ue>>>16&255,et=Ue&65535,!(Oe<=m);){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(et<16)c>>>=Oe,m-=Oe,r.lens[r.have++]=et;else{if(et===16){for(It=Oe+2;m<It;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(c>>>=Oe,m-=Oe,r.have===0){t.msg="invalid bit length repeat",r.mode=Gr;break}at=r.lens[r.have-1],L=3+(c&3),c>>>=2,m-=2}else if(et===17){for(It=Oe+3;m<It;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}c>>>=Oe,m-=Oe,at=0,L=3+(c&7),c>>>=3,m-=3}else{for(It=Oe+7;m<It;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}c>>>=Oe,m-=Oe,at=0,L=11+(c&127),c>>>=7,m-=7}if(r.have+L>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Gr;break}for(;L--;)r.lens[r.have++]=at}}if(r.mode===Gr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Gr;break}if(r.lenbits=9,rt={bits:r.lenbits},dt=Ka(al,r.lens,0,r.nlen,r.lencode,0,r.work,rt),r.lenbits=rt.bits,dt){t.msg="invalid literal/lengths set",r.mode=Gr;break}if(r.distbits=6,r.distcode=r.distdyn,rt={bits:r.distbits},dt=Ka(ol,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,rt),r.distbits=rt.bits,dt){t.msg="invalid distances set",r.mode=Gr;break}if(r.mode=Mo,e===ko)break e;case Mo:r.mode=Uo;case Uo:if(l>=6&&h>=258){t.next_out=s,t.avail_out=h,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=m,kc(t,I),s=t.next_out,i=t.output,h=t.avail_out,o=t.next_in,n=t.input,l=t.avail_in,c=r.hold,m=r.bits,r.mode===vi&&(r.back=-1);break}for(r.back=0;Ue=r.lencode[c&(1<<r.lenbits)-1],Oe=Ue>>>24,Ye=Ue>>>16&255,et=Ue&65535,!(Oe<=m);){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(Ye&&(Ye&240)==0){for($e=Oe,ft=Ye,Nt=et;Ue=r.lencode[Nt+((c&(1<<$e+ft)-1)>>$e)],Oe=Ue>>>24,Ye=Ue>>>16&255,et=Ue&65535,!($e+Oe<=m);){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}c>>>=$e,m-=$e,r.back+=$e}if(c>>>=Oe,m-=Oe,r.back+=Oe,r.length=et,Ye===0){r.mode=Il;break}if(Ye&32){r.back=-1,r.mode=vi;break}if(Ye&64){t.msg="invalid literal/length code",r.mode=Gr;break}r.extra=Ye&15,r.mode=Tl;case Tl:if(r.extra){for(It=r.extra;m<It;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Al;case Al:for(;Ue=r.distcode[c&(1<<r.distbits)-1],Oe=Ue>>>24,Ye=Ue>>>16&255,et=Ue&65535,!(Oe<=m);){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if((Ye&240)==0){for($e=Oe,ft=Ye,Nt=et;Ue=r.distcode[Nt+((c&(1<<$e+ft)-1)>>$e)],Oe=Ue>>>24,Ye=Ue>>>16&255,et=Ue&65535,!($e+Oe<=m);){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}c>>>=$e,m-=$e,r.back+=$e}if(c>>>=Oe,m-=Oe,r.back+=Oe,Ye&64){t.msg="invalid distance code",r.mode=Gr;break}r.offset=et,r.extra=Ye&15,r.mode=Dl;case Dl:if(r.extra){for(It=r.extra;m<It;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Gr;break}r.mode=Rl;case Rl:if(h===0)break e;if(L=I-h,r.offset>L){if(L=r.offset-L,L>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Gr;break}L>r.wnext?(L-=r.wnext,ue=r.wsize-L):ue=r.wnext-L,L>r.length&&(L=r.length),be=r.window}else be=i,ue=s-r.offset,L=r.length;L>h&&(L=h),h-=L,r.length-=L;do i[s++]=be[ue++];while(--L);r.length===0&&(r.mode=Uo);break;case Il:if(h===0)break e;i[s++]=r.length,h--,r.mode=Uo;break;case ms:if(r.wrap){for(;m<32;){if(l===0)break e;l--,c|=n[o++]<<m,m+=8}if(I-=h,t.total_out+=I,r.total+=I,I&&(t.adler=r.check=r.flags?an(r.check,i,I,s-I):qr(r.check,i,I,s-I)),I=h,(r.flags?c:Pl(c))!==r.check){t.msg="incorrect data check",r.mode=Gr;break}c=0,m=0}r.mode=Fl;case Fl:if(r.wrap&&r.flags){for(;m<32;){if(l===0)break e;l--,c+=n[o++]<<m,m+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Gr;break}c=0,m=0}r.mode=Ol;case Ol:dt=Wc;break e;case Gr:dt=ll;break e;case Nl:return ul;case Kc:default:return jn}return t.next_out=s,t.avail_out=h,t.next_in=o,t.avail_in=l,r.hold=c,r.bits=m,(r.wsize||I!==t.avail_out&&r.mode<Gr&&(r.mode<ms||e!==sl))&&$l(t,t.output,t.next_out,I-t.avail_out),B-=t.avail_in,I-=t.avail_out,t.total_in+=B,t.total_out+=I,r.total+=I,r.wrap&&I&&(t.adler=r.check=r.flags?an(r.check,i,I,t.next_out-I):qr(r.check,i,I,t.next_out-I)),t.data_type=r.bits+(r.last?64:0)+(r.mode===vi?128:0)+(r.mode===Mo||r.mode===vs?256:0),(B===0&&I===0||e===sl)&&dt===ta&&(dt=jc),dt},"inflate$2"),Jc=a(t=>{if(!t||!t.state)return jn;let e=t.state;return e.window&&(e.window=null),t.state=null,ta},"inflateEnd"),ef=a((t,e)=>{if(!t||!t.state)return jn;const r=t.state;return(r.wrap&2)==0?jn:(r.head=e,e.done=!1,ta)},"inflateGetHeader"),tf=a((t,e)=>{const r=e.length;let n,i,o;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Lo)?jn:n.mode===Lo&&(i=1,i=qr(i,e,r,0),i!==n.check)?ll:(o=$l(t,e,r,r),o?(n.mode=Nl,ul):(n.havedict=1,ta))},"inflateSetDictionary");var rf=Ll,nf=Ml,af=kl,of=Zc,sf=Ul,lf=Xc,uf=Jc,cf=ef,ff=tf,df="pako inflate (from Nodeca project)",mi={inflateReset:rf,inflateReset2:nf,inflateResetKeep:af,inflateInit:of,inflateInit2:sf,inflate:lf,inflateEnd:uf,inflateGetHeader:cf,inflateSetDictionary:ff,inflateInfo:df};function hf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a(hf,"GZheader");var gf=hf;const Hl=Object.prototype.toString,{Z_NO_FLUSH:pf,Z_FINISH:vf,Z_OK:Ga,Z_STREAM_END:ys,Z_NEED_DICT:Es,Z_STREAM_ERROR:mf,Z_DATA_ERROR:Wl,Z_MEM_ERROR:_f}=Zi;function Ya(t){this.options=Oo.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Js,this.strm.avail_out=0;let r=mi.inflateInit2(this.strm,e.windowBits);if(r!==Ga)throw new Error(qi[r]);if(this.header=new gf,mi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=za.string2buf(e.dictionary):Hl.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=mi.inflateSetDictionary(this.strm,e.dictionary),r!==Ga)))throw new Error(qi[r])}a(Ya,"Inflate$1"),Ya.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?vf:pf,Hl.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=mi.inflate(r,s),o===Es&&i&&(o=mi.inflateSetDictionary(r,i),o===Ga?o=mi.inflate(r,s):o===Wl&&(o=Es));r.avail_in>0&&o===ys&&r.state.wrap>0&&t[r.next_in]!==0;)mi.inflateReset(r),o=mi.inflate(r,s);switch(o){case mf:case Wl:case Es:case _f:return this.onEnd(o),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||o===ys))if(this.options.to==="string"){let h=za.utf8border(r.output,r.next_out),c=r.next_out-h,m=za.buf2string(r.output,h);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(h,h+c),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Ga&&l===0)){if(o===ys)return o=mi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0},Ya.prototype.onData=function(t){this.chunks.push(t)},Ya.prototype.onEnd=function(t){t===Ga&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Oo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ss(t,e){const r=new Ya(e);if(r.push(t),r.err)throw r.msg||qi[r.err];return r.result}a(Ss,"inflate$1");function wf(t,e){return e=e||{},e.raw=!0,Ss(t,e)}a(wf,"inflateRaw$1");var yf=Ya,Ef=Ss,Sf=wf,bf=Ss,xf=Zi,Cf={Inflate:yf,inflate:Ef,inflateRaw:Sf,ungzip:bf,constants:xf};const{Deflate:Tf,deflate:Af,deflateRaw:Df,gzip:Rf}=Nc,{Inflate:If,inflate:Ff,inflateRaw:Of,ungzip:Nf}=Cf;var Pf=Tf,kf=Af,Lf=Df,Mf=Rf,Uf=If,Bf=Ff,$f=Of,zl=Nf,Hf=Zi,Xd={Deflate:Pf,deflate:kf,deflateRaw:Lf,gzip:Mf,Inflate:Uf,inflate:Bf,inflateRaw:$f,ungzip:zl,constants:Hf},Va;(function(t){t.HasVirtualFolders="remoteHub:hasVirtualFolders",t.VirtualFolderProviders="remoteHub:virtualFolderProviders",t.HasRecentRepositories="remoteHub:hasRecentRepositories",t.HasSearchIndexes="gitHub:hasSearchIndexes",t.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",t.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",t.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(Va||(Va={}));const jl=new Map;function Jd(t){return t==="isWeb"?isWeb:t==="remoteName"?env.remoteName:t==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():t.startsWith("config.")?configuration.getAny(t.substring(7)):jl.get(t)}a(Jd,"getContext");function eh(t){return t==="isWeb"||t==="remoteName"||t==="virtualWorkspace"||t.startsWith("config.")||t.startsWith("remoteHub:")||t.startsWith("continueOn:")}a(eh,"isSupportedContextKey");async function bs(t,e){jl.set(t,e),!t.startsWith("continueOn:")&&await u.commands.executeCommand("setContext",t,e)}a(bs,"setContext");class xs{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const r=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(r,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const r=[],n=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<n;){const o=this.bytes[i++];if(o===0)break;let s=0,l=0;if((o&128)==0)s=o,l=0;else if((o&224)==192)s=o&31,l=1;else if((o&240)==224)s=o&15,l=2;else if((o&248)==240)s=o&7,l=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;l>0;){const h=this.bytes[i++];if((h&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${h.toString(2)} at offset ${i}`);s=s<<6|h&63,l--}r.push(String.fromCodePoint(s))}return this.byteIndexCurrent=n,r.join("")}}a(xs,"ByteStream");class xn{constructor(e,r){this.value=e,this.id=`_${this.value}`,this.name=r}static Instances(){return xn._instances==null&&(xn._instances=new Kl),xn._instances}}a(xn,"TarFileTypeFlag");class Kl{constructor(){this.Normal=new xn("0","Normal"),this.HardLink=new xn("1","Hard Link"),this.SymbolicLink=new xn("2","Symbolic Link"),this.CharacterSpecial=new xn("3","Character Special"),this.BlockSpecial=new xn("4","Block Special"),this.Directory=new xn("5","Directory"),this.FIFO=new xn("6","FIFO"),this.ContiguousFile=new xn("7","Contiguous File"),this.LongFilePath=new xn("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const r=this._All[e];this._All[r.id]=r}}}a(Kl,"TarFileTypeFlag_Instances");class Bo{constructor(e,r,n,i,o,s,l,h,c,m,B,I,L,ue,be,Ue){this.fileName=e,this.fileMode=r,this.userIDOfOwner=n,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=l,this.typeFlag=h,this.nameOfLinkedFile=c,this.uStarIndicator=m,this.uStarVersion=B,this.userNameOfOwner=I,this.groupNameOfOwner=L,this.deviceNumberMajor=ue,this.deviceNumberMinor=be,this.filenamePrefix=Ue,this.fullFileName=Ue.length?Ue.endsWith("/")?Ue+e:`${Ue}/${e}`:e}static fromBytes(e){const r=new xs(e),n=r.readString(100).trim(),i=r.readString(8),o=r.readString(8),s=r.readString(8),l=r.readString(12),h=r.readBytes(12),c=r.readString(8),m=r.readString(1),B=r.readString(100),I=r.readString(6),L=r.readString(2),ue=r.readString(32),be=r.readString(32),Ue=r.readString(8),Oe=r.readString(8),Ye=r.readString(155),et=r.readBytes(12),$e=parseInt(l.trim(),8),ft=parseInt(c,8),Nt=xn.Instances()._All,at=`_${m}`,dt=Nt[at];return new Bo(n,i,o,s,$e,h,ft,dt,B,I,L,ue,be,Ue,Oe,Ye)}}a(Bo,"TarFileEntryHeader");const Gl=512;class $o{constructor(e,r){this.header=e,this.dataAsBytes=r}static fromBytes(e,r){const n=Gl,i=Bo.fromBytes(e),o=i.fileSizeInBytes,l=Math.ceil(o/n)*n,h=r.readBytes(l).slice(0,o);return new $o(i,h)}}a($o,"TarFileEntry");class Ho{constructor(e){var r;this.entries=e,this.consolidateLongPathEntries();for(const n of this.entries)((r=n.header.typeFlag)==null?void 0:r.name)==="Normal"&&(n.header.fullFileName=n.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const n of this.entries)this.entryMap.set(n.header.fullFileName,n)}static async fromBytes(e){const r=new xs(e),n=[],i=Gl;let o=0,s=0;for(;r.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(c=>setTimeout(c,10));const l=r.readBytes(i);let h=!0;for(let c=0;c<l.length;c++)if(l[c]!=0){h=!1;break}if(h==!0){if(s++,s==2)break}else{s=0;const c=$o.fromBytes(l,r);n.push(c)}}return new Ho(n)}consolidateLongPathEntries(){var e;const r=xn.Instances().LongFilePath.name,n=this.entries;for(let i=0;i<n.length;i++){const o=n[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==r){const s=n[i+1];s.header.fileName=o.dataAsBytes.reduce((l,h)=>l+=String.fromCharCode(h),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),n.splice(i,1),i--}}}}a(Ho,"TarFile");const Wf=a(t=>Ho.fromBytes(t),"readTar"),Wo=new TextDecoder,Cs=new TextEncoder;class Yl{constructor(e,r=0){this.retainFor=r;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,r;const n=(r=this.strongRef)!=null?r:(e=this.weakRef)==null?void 0:e.deref();return n&&this.retain(n),n}}a(Yl,"TimedRetainingRef");class Vl{constructor(e,r){this.root=e,this.providerService=r,this._onDidChangeIndexingEnablement=new u.EventEmitter,this._onDidDownloadTar=new u.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=u.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=u.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=u.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await bs(Va.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),r=await this.getIndexingEnabledRepos(),n=r.has("*")||e.every(i=>r.has(i));await bs(Va.EnabledSomeSearchIndexes,r.size>0),await bs(Va.EnabledAllSearchIndexes,n)}dispose(){this._disposable.dispose()}registerCommands(){return[u.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),u.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),u.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),u.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),r=await this.listTars();if(r.length===0){await u.window.showInformationMessage("No Repository Indexes Found");return}const n=u.window.createQuickPick();n.canSelectMany=!0,n.items=r.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),n.show(),n.onDidAccept(async()=>{n.hide();for(const{label:i,path:o}of n.selectedItems){const s=u.workspace.fs.delete(o),l=u.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,l.dispose()}this.updateContext()}),n.onDidHide(()=>n.dispose())}),u.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>u.window.withProgress({location:u.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([u.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){J.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var r;if(J.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const n=(r=this.lastReadValue)==null?void 0:r.deref();if(n)return n;J.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const r=await u.workspace.fs.readFile(e);return!r||!r.length?void 0:r}catch(r){(!(r instanceof u.FileSystemError)||r.code!==u.FileSystemError.FileNotFound.name)&&(u.window.showWarningMessage(u.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),J.error(r,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,r,n){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,r);if(o)return o}else if(i===void 0){const o=xe.get("indexing.maxIndexSize");if(o===null)throw new u.CancellationError;if(o){const s=await this.providerService.getTarGz(e,r,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof u.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!n){const o={id:"configure",title:u.l10n.t("Configure Limit")},s={id:"continue",title:u.l10n.t("Continue"),isCloseAffordance:!0};u.window.showInformationMessage(u.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async l=>{l===o&&await u.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const o={id:"no",title:u.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:u.l10n.t("Configure")},l={id:"repo",title:u.l10n.t("Download Full Contents")},h=xe.get("indexing.maxIndexSize"),c=h!==null?`${h.toString()}\xA0MB`:"null";switch(await u.window.showWarningMessage(u.l10n.t("This repository exceeds the download size limit ({0}).",c),{modal:!0,detail:u.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",c)},o,l,s)){case l:{await this.markIndexingEnablementForRepos(!0);try{const B=await this.providerService.getTarGz(e,r);if(B)return B}catch(B){B instanceof u.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await u.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new u.CancellationError}finally{this.updateContext()}}async getTar(e,r,n){n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,n),o=await this.getTarCacheKey(e,n);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,n,i,{blocking:r}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,r){return J.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${r==null?void 0:r.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,r))}async getCachedTar(e,r){var n;const i=await this.getTarCacheKey(e,r),o=this.getTarStorageUri(e,r);try{let s=(n=this.ongoingDiskRequests.get(i))!=null?n:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,r,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,r,n,i){const o=this.providerService.getCanonicalUri(e),s=`${R(o,{excludeScheme:!0})}/${r}`,l=new W(`TarPit.getTar(${s})`),h=await this.getTarCacheKey(e,r),c=Date.now();let m,B;try{if(l.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),B=this.getTarFromMemory(h),B)return m=" \u2022 Got .tar from memory",B;l.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let I=!1,L=await this.getTarFromDisk(n);if(L==null?void 0:L.length)m=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){m=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw m=" \u2022 Downloading disabled",new u.CancellationError;l.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),L=await this.getTarFromNetwork(e,r,i.blocking),I=!0,m=" \u2022 Got .tar from network",u.workspace.fs.writeFile(n,L).then(()=>J.debug(`Sucessfully wrote tarball to disk in ${Date.now()-c}ms`),be=>J.error(be,`Error writing tarball to disk in ${Date.now()-c}ms`))}if(!(L==null?void 0:L.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");l.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const ue=zl(L);return B=await Wf(ue),l.stop({message:"Finished getting tar"}),this.lastReadValue=new Yl(B,10*(Date.now()-c)),this.lastReadKey=h,I&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:r}),0),B}catch(I){throw m=` \u2022 Failed; ${String(I)}`,I}finally{B&&(this.markCacheEntryUsed(`${s}`).catch(I=>J.log(`Error marking entry used: ${I}`)),this.cleanUpCache().catch(I=>J.log(`Error cleaning cache: ${I}`))),l.stop(m?{suffix:m}:void 0)}}async getTarCacheKey(e,r){return r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,r).toString()}getTarStorageUri(e,r){return u.Uri.joinPath(this.root,"tars",R(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),r)}async readDir(e){try{return(await u.workspace.fs.readDirectory(e)).map(r=>u.Uri.joinPath(e,r[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const r=await this.getIndexingEnabledRepos();if(r.has("*"))return!0;const{name:n}=this.providerService.getVirtualUriMetadata(e);if(!!n){if(r.has(n))return!0;if(r.has(`-${n}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],r=await u.window.showQuickPick(e.map(n=>({picked:!0,label:n.startsWith("-")?`${u.l10n.t("Disallowed:")} ${n.slice(1)}`:`${u.l10n.t("Allowed:")} ${n}`})),{canPickMany:!0,title:u.l10n.t("Repository index allowance overrides")});r&&await this.writeIndexEnablementData(r.map(n=>n.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(Wo.decode(await u.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(r){r instanceof u.FileSystemError&&r.code!==u.FileSystemError.FileNotFound().code&&J.error(r,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(u.Uri.joinPath(this.root,"tars")).catch(()=>[]),r=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),n=(await Promise.all(r.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(n.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await u.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let r;try{r=JSON.parse(Wo.decode(await u.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof u.FileSystemError&&o.code!==u.FileSystemError.FileNotFound().code&&J.error(o,"Error reading index allowance data."),r=[]}const n=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);r=[...r,...n].filter(o=>o.startsWith("-")?!n.includes(o.slice(1)):!i.includes(o));for(const o of i)r.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(r)}async writeIndexEnablementData(e){await u.workspace.fs.writeFile(this.indexingAllowanceFile,Cs.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let r;try{r=JSON.parse(Wo.decode(await u.workspace.fs.readFile(this.usageFile)))}catch(n){n instanceof u.FileSystemError&&n.code!==u.FileSystemError.FileNotFound().code&&J.error(n,"Error reading usage data."),r={}}r[e]=Number(Date.now()),await u.workspace.fs.writeFile(this.usageFile,Cs.encode(JSON.stringify(r)))}async cleanUpCache(){var e,r;J.log("Cleaning up search cache...");const n=await this.listTars();let i;try{i=JSON.parse(Wo.decode(await u.workspace.fs.readFile(this.usageFile)))}catch(L){L instanceof u.FileSystemError&&L.code!==u.FileSystemError.FileNotFound().code&&J.error(L,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];n.forEach(L=>{var ue;const be=/^([^/]*\/[^/]*)\//.exec(L.name);if(!be)throw Error("Unexpected repo entry");const Ue=be[1],Oe=(ue=i[L.name])!=null?ue:0;o.push({...L,lastUsed:Oe,repo:Ue})}),o.sort((L,ue)=>ue.lastUsed-L.lastUsed);let s=0;const l=[],h=new Map,c=(e=xe.get("indexing.cacheSizeLimit"))!=null?e:xe.get("search.download.sizeLimit"),m=(r=xe.get("indexing.cacheRepoLimit"))!=null?r:xe.get("search.download.repoLimit"),B=(c!=null?c:100)*1024*1024,I=m!=null?m:4;o.forEach(L=>{var ue,be;(L.lastUsed===0||s>B||((ue=h.get(L.repo))!=null?ue:0)>I)&&l.push(L),s+=L.size,h.set(L.repo,((be=h.get(L.repo))!=null?be:0)+1)}),await Promise.all(l.map(async L=>{try{await u.workspace.fs.delete(L.path,{recursive:!0}),delete i[L.name],J.log(`Deleted cache entry for ${L.name}`)}catch(ue){J.log(`Deleting cache entry for ${L.name} failed; ${String(ue)}`)}})),await u.workspace.fs.writeFile(this.usageFile,Cs.encode(JSON.stringify(i))),await this.updateContext()}}a(Vl,"TarPit");async function zf(t,e,r,n,i,o,s){return Ts("provideTextSearchResults",async()=>{const l=Jo(n.pattern,Boolean(n.isRegExp),{matchCase:n.isCaseSensitive,wholeWord:n.isWordMatch,multiline:n.isMultiline,global:!0});let h;try{h=await Ts("fetch tarball",()=>r.getTar(i.folder,!0,void 0))}catch(Ue){if(Ue instanceof u.CancellationError)throw Ue;return{limitHit:!1,message:{type:u.TextSearchCompleteMessageType.Warning,trusted:!0,text:u.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:c,maxFileSize:m,includes:B,excludes:I}=i,L=await jf(i.folder,t,h,e);if(s.isCancellationRequested)return{limitHit:!0};let ue=c;const be=es(L,B,I,m);return Ts("searchFiles",async()=>{var Ue,Oe;let Ye=0;for(const et of L){if(!be.has(et.path))continue;const $e=ts(et.contents,et.path,l,{beforeContext:(Ue=i.beforeContext)!=null?Ue:0,afterContext:(Oe=i.afterContext)!=null?Oe:0,previewOptions:i.previewOptions,remainingResultQuota:ue});for(const ft of $e)o.report({...ft,uri:u.Uri.joinPath(i.folder,ft.uri.path)});if(ue!==void 0&&(ue-=$e.length,ue<=0))return{limitHit:!0};if(Ye++,Ye%1e4==0&&(await new Promise(ft=>setTimeout(ft,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(zf,"provideTextSearchResults");async function jf(t,e,r,n){const i=r.entries,o=e.getVirtualRootUri(t),s=await n.getChanges(o,{predicate:B=>B.fileType===u.FileType.File});if(s.length===0)return i.map(B=>({contents:B.dataAsBytes,path:B.header.fullFileName,size:B.dataAsBytes.byteLength}));const l=await Promise.all(ji(s,B=>{if(B.type===G.Created)return n.getContent(B.uri).then(I=>({path:e.getRelativeFilePath(o,B.uri),size:I.length,contents:I}))})),h=await Promise.all(ji(s,B=>{if(B.type===G.Changed)return n.getContent(B.uri).then(I=>({path:e.getRelativeFilePath(o,B.uri),size:I.length,contents:I}))})),c=new Set(gi(Jn(h,B=>B.path),ji(s,B=>{if(B.type===G.Deleted)return e.getRelativeFilePath(o,B.uri)})));return[...ji(i,B=>{if(!c.has(B.header.fullFileName))return{contents:B.dataAsBytes,path:B.header.fullFileName,size:B.dataAsBytes.byteLength}}),...l,...h]}a(jf,"listAllFiles");function th(t,e){const r=Date.now(),n=e();return Logger.log(`${t} time: ${Date.now()-r}`),n}a(th,"timeSync");async function Ts(t,e){const r=Date.now(),n=await e();return J.log(`${t} time: ${Date.now()-r}`),n}a(Ts,"time");var Kf=Object.defineProperty,Gf=Object.getOwnPropertyDescriptor,As=a((t,e,r,n)=>{for(var i=n>1?void 0:n?Gf(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Kf(e,r,i),i},"fs_decorateClass");const Yf=u.FileSystemError.FileNotFound().code,Vf=/(\/|\\)/g,ql=".vscode/.github-pull-request.rec";class qa{constructor(e,r,n,i,o){this.providerService=e,this.github=r,this.changeStore=n,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new u.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=u.Disposable.from(u.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),u.workspace.registerFileSearchProvider(this.scheme,this),u.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(r=>P.getProviderId(r)===this.scheme).map(r=>P.getProviderUri(r)),e.length!==0){J.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(r=>r.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[r,n]of[...this.pendingUriRequests])e.some(i=>$(n.uri,i))&&(this.pendingUriRequests.delete(r),n.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const r=P.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>$(o,s))&&(this.implicitlyWatchedUris.delete(i),r.set(i,o));J.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${r.size}`);for(const i of e)r.set(x(i),i);const n=[...r.values()].map(i=>({type:u.FileChangeType.Changed,uri:i}));setTimeout(()=>{J.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${n.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(n)},0)}watch(e,r){const n=x(e);return this.watchedUris.set(n,e),{dispose:()=>{this.watchedUris.delete(n)}}}async stat(e){var r,n;const i=x(e);this.implicitlyWatchedUris.set(i,e);const{hasRepoWithOwner:o}=Zl(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){const s=this.providerService.getRelativeFilePath(e),l={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,l);const h=await this.github.getFileTree(e),c=await h.get(s);if(c==null?void 0:c.stat)return c==null?void 0:c.stat;if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:u.FileType.File,size:0,ctime:0,mtime:(r=h.timestamp)!=null?r:Date.now(),permissions:u.FilePermission.Readonly};if(s===ql){const{ref:m}=this.providerService.getVirtualUriMetadata(e);if((m==null?void 0:m.type)===Me.PullRequest)return{type:u.FileType.File,size:0,ctime:0,mtime:(n=h.timestamp)!=null?n:Date.now(),permissions:u.FilePermission.Readonly}}throw u.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(l==null?void 0:l.outdated)&&setTimeout(()=>{J.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:u.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:u.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:u.FilePermission.Readonly}}async readDirectory(e,r){var n;this.implicitlyWatchedUris.set(x(e),e);const{pathQuery:i,hasRepoWithOwner:o}=Zl(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const l=this.providerService.getRelativeFilePath(e);let h;try{return s=await this.github.getFileTree(e),(await s.getChildren(l,r)).map(([m,{stat:{type:B}}])=>[m,B])}catch(c){throw h=c,l===""&&c instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:c.name,errorMessage:c.message,errorStack:(n=c.stack)!=null?n:""}),c}finally{l===""&&(W.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:h===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:h}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(h=>h.owner===i).map(h=>h.repo):[...new Set(s.map(h=>h.owner))]).map(h=>[h,u.FileType.Directory])}}createDirectory(e){throw u.FileSystemError.NoPermissions()}async readFile(e){const r=x(e);this.implicitlyWatchedUris.set(r,e);const n={uri:e,outdated:!1};try{return this.pendingUriRequests.set(r,n),await this.github.getFileContent(e)}catch(i){if(this.implicitlyWatchedUris.delete(r),i instanceof u.FileSystemError&&i.code===Yf){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===ql){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===Me.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(r),(n==null?void 0:n.outdated)&&setTimeout(()=>{J.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:u.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,r,n){throw u.FileSystemError.NoPermissions()}delete(e,r){throw u.FileSystemError.NoPermissions()}rename(e,r,n){throw u.FileSystemError.NoPermissions()}copy(e,r,n){throw u.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:r,maxResults:n,includes:i,excludes:o},s){const l=`${x(r)}|${JSON.stringify({includes:i,excludes:o})}`;let h=this.fileSearchCache.get(l);if(h===void 0){const m=this.providerService.getRelativeFilePath(r);let B;await this.github.hasFileTree(r)&&(B=await this.github.getFileTree(r));let I;if(B===void 0||B.loading||!B.hasEntireTree?I=await this.github.getFileList(r,m):I=(await B.getChildren(m,{filter:u.FileType.File,recursive:!0})).map(([L])=>L),I.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(I=[...fa(I,i,o)]),h=I.map(L=>Wi.prepareSlow(L)),this.fileSearchCache.set(l,h)}let c;return e.pattern===""?c=h.map(m=>u.Uri.joinPath(r,m.target)):(c=Wi.go(e.pattern.replace(Vf,"/"),h,{allowTypo:!0,limit:n}).map(m=>u.Uri.joinPath(r,m.target)),Wi.cleanup()),n!==void 0&&n!==0&&n<c.length&&(c=c.slice(0,n)),c}async provideTextSearchResults(e,r,n,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(r.folder)!==!1)try{return await zf(this.providerService,this.changeStore,this.tarPit,e,r,n,i)}catch(c){c instanceof u.CancellationError||o.push({text:u.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:u.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:u.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:u.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:u.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:u.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,r.folder,{maxResults:r.maxResults,context:{before:r.beforeContext,after:r.afterContext}});if(s.warnings&&s.warnings.forEach(c=>{o.push({text:c,trusted:!0,type:u.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const l=new Set(fa(s.matches.map(c=>c.path),r.includes,r.excludes));let h;for(const c of s.matches)l.has(c.path)&&(h=u.Uri.joinPath(r.folder,c.path),n.report({uri:h,ranges:c.ranges,preview:{text:c.preview,matches:c.matches}}));return{limitHit:!1,message:o}}}a(qa,"GitHubFS"),As([zi()],qa.prototype,"stat",1),As([zi()],qa.prototype,"readDirectory",1),As([zi()],qa.prototype,"readFile",1);function Zl(t){let e=t.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(Zl,"getRepoWithOwnerFromUri");var qf=__webpack_require__(6470);const Zf=globalThis.fetch;async function Ql(t,e,r){const n=new AbortController;r.onCancellationRequested(()=>n.abort());try{return await globalThis.fetch(t,{...e,signal:n.signal})}catch(i){throw r.isCancellationRequested?new u.CancellationError:i}}a(Ql,"fetchWithCancellation");async function Xl(t,e,r,n,i){if(r===0)throw new u.CancellationError;const o=new u.CancellationTokenSource;n.onCancellationRequested(()=>o.cancel());try{const s=await Ql(t,e,o.token);if(s.body){const l=[];let h=0;const c=s.body.getReader();let m=3;for(;;){let{done:B,value:I}=await c.read();if(B){const ue=l.reduce((Oe,Ye)=>Oe+Ye.length,0),be=new Uint8Array(ue);let Ue=0;for(const Oe of l)be.set(Oe,Ue),Ue+=Oe.length;return be}I&&(l.push(I),h+=I.length);const L=Math.floor(h/(1024*1024));if(m<L){m=L;const ue={message:L+" MB"};i.report(ue)}if(r!==void 0&&h>r)throw c.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw n.isCancellationRequested?new u.CancellationError:s}throw new u.CancellationError}a(Xl,"fetchUInt8ArrayWithMaxSizeAndCancellation");var Za=__webpack_require__(4155);function zo(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Za=="object"&&"version"in Za?`Node.js/${Za.version.substr(1)} (${Za.platform}; ${Za.arch})`:"<environment undetectable>"}a(zo,"getUserAgent");var Qf=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Jl(t){return Object.prototype.toString.call(t)==="[object Object]"}a(Jl,"isObject");function eu(t){var e,r;return Jl(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(Jl(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}a(eu,"isPlainObject");function Xf(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}a(Xf,"lowercaseKeys");function tu(t,e){const r=Object.assign({},t);return Object.keys(e).forEach(n=>{eu(e[n])?n in t?r[n]=tu(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}a(tu,"mergeDeep");function ru(t){for(const e in t)t[e]===void 0&&delete t[e];return t}a(ru,"removeUndefinedProperties");function Ds(t,e,r){if(typeof e=="string"){let[i,o]=e.split(" ");r=Object.assign(o?{method:i,url:o}:{url:i},r)}else r=Object.assign({},e);r.headers=Xf(r.headers),ru(r),ru(r.headers);const n=tu(t||{},r);return t&&t.mediaType.previews.length&&(n.mediaType.previews=t.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}a(Ds,"dist_web_merge");function Jf(t,e){const r=/\?/.test(t)?"&":"?",n=Object.keys(e);return n.length===0?t:t+r+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(Jf,"addQueryParameters");const ed=/\{[^}]+\}/g;function td(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}a(td,"removeNonChars");function rd(t){const e=t.match(ed);return e?e.map(td).reduce((r,n)=>r.concat(n),[]):[]}a(rd,"extractUrlVariableNames");function nu(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,n)=>(r[n]=t[n],r),{})}a(nu,"omit");function iu(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(iu,"encodeReserved");function ya(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(ya,"encodeUnreserved");function Qa(t,e,r){return e=t==="+"||t==="#"?iu(e):ya(e),r?ya(r)+"="+e:e}a(Qa,"encodeValue");function Ea(t){return t!=null}a(Ea,"isDefined");function Rs(t){return t===";"||t==="&"||t==="?"}a(Rs,"isKeyOperator");function nd(t,e,r,n){var i=t[r],o=[];if(Ea(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(Qa(e,i,Rs(e)?r:""));else if(n==="*")Array.isArray(i)?i.filter(Ea).forEach(function(s){o.push(Qa(e,s,Rs(e)?r:""))}):Object.keys(i).forEach(function(s){Ea(i[s])&&o.push(Qa(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(Ea).forEach(function(l){s.push(Qa(e,l))}):Object.keys(i).forEach(function(l){Ea(i[l])&&(s.push(ya(l)),s.push(Qa(e,i[l].toString())))}),Rs(e)?o.push(ya(r)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?Ea(i)&&o.push(ya(r)):i===""&&(e==="&"||e==="?")?o.push(ya(r)+"="):i===""&&o.push("");return o}a(nd,"getValues");function id(t){return{expand:ad.bind(null,t)}}a(id,"parseUrl");function ad(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let l="";const h=[];if(r.indexOf(i.charAt(0))!==-1&&(l=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);h.push(nd(e,l,m[1],m[2]||m[3]))}),l&&l!=="+"){var s=",";return l==="?"?s="&":l!=="#"&&(s=l),(h.length!==0?l:"")+h.join(s)}else return h.join(",")}else return iu(o)})}a(ad,"expand");function au(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},t.headers),i,o=nu(t,["method","baseUrl","url","headers","request","mediaType"]);const s=rd(r);r=id(r).expand(o),/^http/.test(r)||(r=t.baseUrl+r);const l=Object.keys(t).filter(m=>s.includes(m)).concat("baseUrl"),h=nu(o,l);if(!/application\/octet-stream/i.test(n.accept)&&(t.mediaType.format&&(n.accept=n.accept.split(/,/).map(m=>m.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const m=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=m.concat(t.mediaType.previews).map(B=>{const I=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${B}-preview${I}`}).join(",")}return["GET","HEAD"].includes(e)?r=Jf(r,h):"data"in h?i=h.data:Object.keys(h).length?i=h:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:r,headers:n},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}a(au,"parse");function od(t,e,r){return au(Ds(t,e,r))}a(od,"endpointWithDefaults");function ou(t,e){const r=Ds(t,e),n=od.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:ou.bind(null,r),merge:Ds.bind(null,r),parse:au})}a(ou,"withDefaults");const sd=`octokit-endpoint.js/6.0.12 ${zo()}`,ld=ou(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":sd},mediaType:{format:"",previews:[]}});var ud=__webpack_require__(3300),cd=__webpack_require__.n(ud);class Is extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(Is,"Deprecation");var fd=__webpack_require__(447),su=__webpack_require__.n(fd);const dd=su()(t=>console.warn(t)),hd=su()(t=>console.warn(t));class _i extends Error{constructor(e,r,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return dd(new Is("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return hd(new Is("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(_i,"RequestError");const gd="5.6.3";function pd(t){return t.arrayBuffer()}a(pd,"getBufferResponse");function lu(t){const e=t.request&&t.request.log?t.request.log:console;(eu(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let r={},n,i;return(t.request&&t.request.fetch||cd())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async s=>{i=s.url,n=s.status;for(const l of s.headers)r[l[0]]=l[1];if("deprecation"in r){const l=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),h=l&&l.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${h?`. See ${h}`:""}`)}if(!(n===204||n===205)){if(t.method==="HEAD"){if(n<400)return;throw new _i(s.statusText,n,{response:{url:i,status:n,headers:r,data:void 0},request:t})}if(n===304)throw new _i("Not modified",n,{response:{url:i,status:n,headers:r,data:await Fs(s)},request:t});if(n>=400){const l=await Fs(s);throw new _i(vd(l),n,{response:{url:i,status:n,headers:r,data:l},request:t})}return Fs(s)}}).then(s=>({status:n,url:i,headers:r,data:s})).catch(s=>{throw s instanceof _i?s:new _i(s.message,500,{request:t})})}a(lu,"fetchWrapper");async function Fs(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():pd(t)}a(Fs,"getResponseData");function vd(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}a(vd,"toErrorMessage");function Os(t,e){const r=t.defaults(e);return Object.assign(a(function(i,o){const s=r.merge(i,o);if(!s.request||!s.request.hook)return lu(r.parse(s));const l=a((h,c)=>lu(r.parse(r.merge(h,c))),"request");return Object.assign(l,{endpoint:r,defaults:Os.bind(null,r)}),s.request.hook(l,s)},"newApi"),{endpoint:r,defaults:Os.bind(null,r)})}a(Os,"dist_web_withDefaults");const jo=Os(ld,{headers:{"user-agent":`octokit-request.js/${gd} ${zo()}`}}),md="4.8.0";function _d(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}a(_d,"_buildMessageForResponseErrors");class Ui extends Error{constructor(e,r,n){super(_d(n));this.request=e,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(Ui,"GraphqlResponseError");const wd=["method","baseUrl","url","headers","request","query","mediaType"],yd=["query","method","url"],uu=/\/api\/v3\/?$/;function Ed(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in r)if(!!yd.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},r):e,i=Object.keys(n).reduce((s,l)=>wd.includes(l)?(s[l]=n[l],s):(s.variables||(s.variables={}),s.variables[l]=n[l],s),{}),o=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return uu.test(o)&&(i.url=o.replace(uu,"/api/graphql")),t(i).then(s=>{if(s.data.errors){const l={};for(const h of Object.keys(s.headers))l[h]=s.headers[h];throw new Ui(i,l,s.data)}return s.data.data})}a(Ed,"graphql");function Ns(t,e){const r=t.defaults(e);return Object.assign(a((i,o)=>Ed(r,i,o),"newApi"),{defaults:Ns.bind(null,r),endpoint:jo.endpoint})}a(Ns,"graphql_dist_web_withDefaults");const ih=Ns(jo,{headers:{"user-agent":`octokit-graphql.js/${md} ${zo()}`},method:"POST",url:"/graphql"});function Sd(t){return Ns(t,{method:"POST",url:"/graphql"})}a(Sd,"withCustomRequest");const bd=/^v1\./,xd=/^ghs_/,Cd=/^ghu_/;async function Td(t){const e=t.split(/\./).length===3,r=bd.test(t)||xd.test(t),n=Cd.test(t);return{type:"token",token:t,tokenType:e?"app":r?"installation":n?"user-to-server":"oauth"}}a(Td,"auth");function Ad(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}a(Ad,"withAuthorizationPrefix");async function Dd(t,e,r,n){const i=e.endpoint.merge(r,n);return i.headers.authorization=Ad(t),e(i)}a(Dd,"hook");const Rd=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Td.bind(null,e),{hook:Dd.bind(null,e)})},"createTokenAuth"),cu="3.5.1";class Xa{constructor(e={}){const r=new Qf.Collection,n={baseUrl:jo.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${cu} ${zo()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=jo.defaults(n),this.graphql=Sd(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){const{authStrategy:o,...s}=e,l=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));r.wrap("request",l.hook),this.auth=l}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Rd(e.auth);r.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...n){const i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var r;const n=this.plugins;return r=a(class extends this{},"_a"),r.plugins=n.concat(e.filter(o=>!n.includes(o))),r}}a(Xa,"Octokit"),Xa.VERSION=cu,Xa.plugins=[];var fu;(function(t){t[t.Force=0]="Force",t[t.ForceWithLease=1]="ForceWithLease"})(fu||(fu={}));var wi;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(wi||(wi={}));var Ja;(function(t){t[t.INDEX_MODIFIED=0]="INDEX_MODIFIED",t[t.INDEX_ADDED=1]="INDEX_ADDED",t[t.INDEX_DELETED=2]="INDEX_DELETED",t[t.INDEX_RENAMED=3]="INDEX_RENAMED",t[t.INDEX_COPIED=4]="INDEX_COPIED",t[t.MODIFIED=5]="MODIFIED",t[t.DELETED=6]="DELETED",t[t.UNTRACKED=7]="UNTRACKED",t[t.IGNORED=8]="IGNORED",t[t.INTENT_TO_ADD=9]="INTENT_TO_ADD",t[t.ADDED_BY_US=10]="ADDED_BY_US",t[t.ADDED_BY_THEM=11]="ADDED_BY_THEM",t[t.DELETED_BY_US=12]="DELETED_BY_US",t[t.DELETED_BY_THEM=13]="DELETED_BY_THEM",t[t.BOTH_ADDED=14]="BOTH_ADDED",t[t.BOTH_DELETED=15]="BOTH_DELETED",t[t.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Ja||(Ja={}));var du;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.PermissionDenied="PermissionDenied",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply",t.NoPathFound="NoPathFound",t.UnknownPath="UnknownPath"})(du||(du={}));class Ps{constructor(e,r){this.path=e,this.relativePath=r}}a(Ps,"TrieNode");class hu{constructor(){this.root=new Ps("","")}get(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return;n=o}return n.path===e?n.data:void 0}getChildren(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;if(e)for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return[];n=o}return n.children===void 0?[]:[...n.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(r=n.children)==null?void 0:r.get(o);if(s===void 0)return i;n=s}if(n.children!==void 0){let o=a(function(s,l,h){for(const c of s.values()){const m=`${l?`${l}/`:""}${c.relativePath}`;c.data&&h.push([m,c.data]),c.children!==void 0&&o(c.children,m,h)}},"getDescendantsCore");o(n.children,"",i)}return i}has(e){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(r=n.children)==null?void 0:r.get(i);if(o===void 0)return!1;n=o}return n.path===e}set(e,r){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let l=(n=i.children)==null?void 0:n.get(s);o=`${o?`${o}/`:""}${s}`,l===void 0&&(i.children===void 0&&(i.children=new Map),l=new Ps(o,s),i.children.set(s,l)),i=l}i.data=r}}a(hu,"Trie");var Id=__webpack_require__(5431),ks=__webpack_require__.n(Id);class Ls{constructor(e,r,n,i,o){if(this.rootUri=e,this.sha=r,this.timestamp=n,this.provider=i,this.trie=new hu,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(l=>{(!l||x(l.rootUri)===x(this.rootUri)&&l.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(h=>this._isContentCached=h,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(l=>(this._hasEntireTree=(l==null?void 0:l.success)?l.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var h;return void((h=i.tryCachingContent)==null?void 0:h.call(i,this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(l==null?void 0:l.success)?l.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=u.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var r;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:u.FileType.Directory,size:0,ctime:0,mtime:(r=this.timestamp)!=null?r:Date.now(),permissions:await this.permissions},getContent:void 0};let n=this.trie.get(e);return n!==void 0||(await this.ensureLoaded(e),n=this.trie.get(e)),n}async getChildren(e,r){await this.ensureLoaded(e,!0);const n=(r==null?void 0:r.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(r==null?void 0:r.filter)===void 0?n:n.filter(([,i])=>i.stat.type===r.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,r=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(r)i=this.preloading.get(e);else{const o=Qr(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let n=this.trie.get(e);if(n)return r&&(n==null?void 0:n.loadChildren)?n.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),n=this.trie.get(e),r&&(n==null?void 0:n.loadChildren))return n.loadChildren()}async load(e,r=!1){var n;if(((n=this.provider)==null?void 0:n.getTree)===void 0)return;const i=new W(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,r);if(s.truncated){J.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[h,c]of this.trie.getDescendants(""))c.stat.type===u.FileType.Directory&&(c.loadChildren=ks()(()=>this.load(h).then(()=>c.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let l;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),l=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:h,item:c}of s.tree)if(h!==void 0){switch(h=e?`${e}/${h}`:h,c.stat.permissions=l,c.stat.type){case u.FileType.File:c.getContent=ks()(()=>this.provider.getContent(c,h));break;case u.FileType.Directory:r||(c.loadChildren=ks()(()=>this.load(h).then(()=>c.loadChildren=void 0)));break}this.trie.set(h,c)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:r,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(Ls,"FileTree");var Fd=__webpack_require__(7769);const Od="github-pr-owner-number";function Nd(t){return`branch.${t}.${Od}`}a(Nd,"getMetadataKeyForBranch");const gu=new TextDecoder;class pu{constructor(e,r,n,i,o,s){this.providerService=e,this.rootUri=r,this.sourceControl=n,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new u.EventEmitter,this._onDidChangeState=new u.EventEmitter,this._objects=new Map,this.disposable=u.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(c=>{const m=x(this.rootUri);!c.some(B=>x(B)===m)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:c})=>{x(this.rootUri)===x(c.uri)&&this.updateState(await c.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return n.inputBox.value},set value(c){n.inputBox.value=c}},this._ui={get selected(){return n.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:l,name:h}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${l}/${h}.git`,isReadOnly:i.accessLevel<j.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case X.Branch:return{type:wi.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case X.RemoteBranch:{const r=e.HEAD.branch.remote.repo.owner,n=e.HEAD.branch.remote.accessLevel<j.Write,i=this.remotes.findIndex(o=>o.name===r);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:r,fetchUrl:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,pushUrl:n?void 0:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,isReadOnly:n}),{type:wi.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case X.Tag:return{type:wi.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case X.Commit:return{type:wi.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const r=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:l=>l.fileType===u.FileType.File}),n=r.conflicts.map(l=>({uri:l.uri,status:Ms(l.type),originalUri:l.uri,renameUri:l.uri})),i=r.staged.map(l=>({uri:l.uri,status:Ms(l.type),originalUri:l.uri,renameUri:l.uri})),o=r.working.map(l=>({uri:l.uri,status:Ms(l.type),originalUri:l.uri,renameUri:l.uri})),s=xe.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:n,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===Nd(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,r){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,r){const n=new W(`IGit.getObjectDetails(${e}, ${r})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(r))}finally{n.stop()}}async detectObjectType(e){var r;const n=new W(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!io(i))return{mimetype:"text/plain"};const s=await(0,Fd.fromBuffer)(i);return{mimetype:(r=s==null?void 0:s.mime)!=null?r:"application/octet-stream"}}finally{n.stop()}}async buffer(e,r){const n=new W(`IGit.buffer(${e}, ${r})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(r))}finally{n.stop()}}async show(e,r){const n=new W(`IGit.show(${e}, ${r})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(r));return gu.decode(i)}finally{n.stop()}}async getCommit(e){const r=new W(`IGit.getCommit(${e})`);try{const n=await this.github.getCommit(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return n}finally{r.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,r){const n=new W(`IGit.apply(reverse=${r})`);try{return await this.changeStore.applyPatch(this.rootUri,e,r?{reverse:!0}:void 0)}finally{n.stop()}}async diff(e){const r=new W(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{r.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,r){return r?this.diffBetween("",e,r):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,r){return r?this.diffBetween("~",e,r):this.diffBetween("~",e)}async diffBetween(e,r,n){if(!n)throw new Error("Method not implemented.");const i=new W(`IGit.diffBetween(${e}, ${r}, ${n})`);try{const o=[];for(const h of[e,r])try{o.push(await this.getContent(h,n))}catch(c){o.push(void 0)}const[s,l]=o;if(s===void 0&&l!==void 0)return Pn(n,"",l,"add");if(s!==void 0&&l===void 0)return Pn(n,s,"","delete");if(s!==void 0&&l!==void 0)return Pn(n,s,l,"modify");throw u.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,r){const n=new W(`IGit.diffBlobs(${e}, ${r})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(r),s=dn("untitled",i,o);return Promise.resolve(s)}finally{n.stop()}}async getBlobContent(e){const r=new W(`IGit.getBlobContent(${e})`);try{const n=this._objects.get(e);if(n)return this._objects.delete(e),n;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return gu.decode(o)}finally{r.stop()}}async getContent(e,r){const n=new W(`IGit.getContent(${e}, ${r})`);try{const i=this.pathToRelativeUri(r);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,r)}finally{n.stop()}}async hashObject(e){const r=new W("IGit.hashObject");try{const n=y(await gt(e));return this._objects.set(n,e),n}finally{r.stop()}}async createBranch(e,r,n){const i=new W(`IGit.createBranch(${e}, ${r}, ${n})`);try{n||(n=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,n);r&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,r){throw new Error("Method not implemented.")}async getBranch(e){const r=new W(`IGit.getBranch(${e})`);try{const n=await this.github.getBranch(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:n.type,name:n.name,commit:n.commit,remote:this.remote.name,upstream:{name:n.name,remote:this.remote.name}}}finally{r.stop()}}async getBranches(e){var r,n;const i=(n=(r=e.contains)!=null?r:e.pattern)!=null?n:"",o=new W(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(l=>({type:l.type,name:l.name,commit:l.commit}))}finally{o.stop()}}setBranchUpstream(e,r){throw new Error("Method not implemented.")}getMergeBase(e,r){throw new Error("Method not implemented.")}async status(){}async checkout(e){const r=new W(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const n=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(n==null?void 0:n.groups){const{num:i}=n.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),l=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(l!==void 0){const h=await this.providerService.createWorkspaceForRemoteUrl(l.toString());h!==void 0&&await this.providerService.openWorkspace(h)}}throw new Error("User aborted")}finally{r.stop()}}addRemote(e,r){var n;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:r,isReadOnly:(n=i==null?void 0:i.isReadOnly)!=null?n:!1}),Promise.resolve()}removeRemote(e){const r=this.remotes.findIndex(n=>n.name===e);return r!==-1&&this.remotes.splice(r,1),Promise.resolve()}renameRemote(e,r){const n=this.remotes.findIndex(o=>o.name===e);if(n===-1)return Promise.resolve();const[i]=this.remotes.splice(n,1);return this.remotes.push({...i,name:r}),Promise.resolve()}async fetch(e,r,n){const i=new W("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const r=new W("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:Le.Merge})}finally{r.stop()}}push(e,r,n){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var r;const n=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:n,limit:e==null?void 0:e.maxEntries});return(r=i==null?void 0:i.commits)!=null?r:[]}async commit(e,r){const n=new W("IGit.commit");try{if((r==null?void 0:r.amend)!==void 0||(r==null?void 0:r.empty)!==void 0||(r==null?void 0:r.signCommit)!==void 0||(r==null?void 0:r.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(r==null?void 0:r.all)===!1})).filter(o=>o.fileType===u.FileType.File);if(!i.length){u.window.showInformationMessage(u.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,r)}finally{n.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return O(this.rootUri,Ld(e))}}a(pu,"GitHubRepository");const Pd=/^\/?([a-zA-Z])(?::\/)(.*)$/,kd=/\\/g;function Ld(t){t=u.Uri.file(t).fsPath.replace(kd,"/");const e=Pd.exec(t);return e!==null&&([,,t]=e),t.startsWith("/")?t:`/${t}`}a(Ld,"normalizePath");function Ms(t){switch(t){case G.Changed:return Ja.MODIFIED;case G.Created:return Ja.INTENT_TO_ADD;case G.Deleted:return Ja.DELETED}}a(Ms,"opTypeToStatus");class Ko extends Error{constructor(e,r,n){super(e.message);this.original=e,this.name=r,this.id=n;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,Ko)}}a(Ko,"PullRequestNotFoundError");class eo extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,eo)}}a(eo,"RepositoryForbiddenError");class to extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,to)}}a(to,"RepositoryNotFoundError");class Go extends Error{constructor(e,r){super(e.message);this.original=e,this.name=r;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,Go)}}a(Go,"RepositoryEmptyError");var Md=Object.defineProperty,Ud=Object.getOwnPropertyDescriptor,yi=a((t,e,r,n)=>{for(var i=n>1?void 0:n?Ud(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Md(e,r,i),i},"messages_decorateClass");class ri{showGitHubStatus500Message(){return u.window.showErrorMessage(u.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),u.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void u.window.showErrorMessage(u.l10n.t("The provided credentials are either invalid or expired."),u.l10n.t("OK"));const r=u.l10n.t("Reauthenticate");await u.window.showErrorMessage(u.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),r)===r&&e()}async showStatus403Message(e){if(!e)return void u.window.showErrorMessage(u.l10n.t("The provided credentials do not have the required access."),u.l10n.t("OK"));const r=u.l10n.t("Reauthenticate"),n=u.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await u.window.showErrorMessage(n,r)===r&&e()}async showRepositoryEmptyMessage(e){const r=u.l10n.t("Open Repository");await u.window.showErrorMessage(u.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},r)===r&&u.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,r){const n=u.l10n.t("Open Pull Request");await u.window.showErrorMessage(u.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,r),n)===n&&u.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,r){const n=u.l10n.t("OK");await u.window.showWarningMessage(u.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,r),n)}async showRepositoryForbiddenMessage(e,r){const n=u.l10n.t("Open Repository"),i=u.l10n.t("Reauthenticate"),o=await u.window.showErrorMessage(u.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository or reauthenticate?",e),{modal:!0},n,i);o===n?u.commands.executeCommand("remoteHub.openRepository"):o===i&&r()}async showRepositoryNotFoundMessage(e){const r=u.l10n.t("Open Repository");await u.window.showErrorMessage(u.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},r)===r&&u.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const r=u.l10n.t("Open Repository");await u.window.showErrorMessage(u.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},r)===r&&u.commands.executeCommand("remoteHub.openRepository")}}a(ri,"Messages"),yi([Cr(()=>"")],ri.prototype,"showGitHubStatus500Message",1),yi([Cr(()=>"")],ri.prototype,"showStatus401Message",1),yi([Cr(()=>"")],ri.prototype,"showStatus403Message",1),yi([Cr()],ri.prototype,"showRepositoryEmptyMessage",1),yi([Cr()],ri.prototype,"showPullRequestNotFoundMessage",1),yi([Cr()],ri.prototype,"showPullRequestHeadNotFoundMessage",1),yi([Cr()],ri.prototype,"showRepositoryForbiddenMessage",1),yi([Cr()],ri.prototype,"showRepositoryNotFoundMessage",1),yi([Cr()],ri.prototype,"showUnableToOpenRepositoryMessage",1);const Kn=new ri;var Us=__webpack_require__(4155),Bd=Object.defineProperty,$d=Object.getOwnPropertyDescriptor,vu=a((t,e,r,n)=>{for(var i=n>1?void 0:n?$d(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&Bd(e,r,i),i},"provider_decorateClass");const mu=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,_u=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,wu=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i,Hd=["repo","workflow"],Yo=["repo","workflow","user:email","read:user"],Vo=1,Bs=Object.freeze({id:"github",name:"GitHub"});function ra(t){const{scheme:e,metadata:r}=P.decodeAuthority(t,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:Vo,ref:{type:Me.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:Vo,ref:{type:Me.Tree,id:s.ref},idx:s.idx}}),[,n,i,...o]=t.path.split("/");return{scheme:e,provider:Bs,name:`${n}/${i}`,repo:{owner:n,name:i},path:o.join("/")||"",ref:r==null?void 0:r.ref,idx:r==null?void 0:r.idx}}a(ra,"getGitHubMetadata");function Wd(t,e){const{repo:r}=e!=null?e:ra(t);return t.with({path:`/${r.owner}/${r.name}`,query:"",fragment:""})}a(Wd,"getGitHubRootUri");function $s(t,e,r){const{repo:{owner:n,name:i}}=t instanceof u.Uri?ra(t):t;return u.Uri.parse(`github://${P.encodeAuthority("github",{v:Vo,ref:{type:Me.Commit,id:e}})}/${n}/${i}/${r}`)}a($s,"getGitHubRevisionUri");class yu{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!Us.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=Us.env.GITHUB_REMOTEHUB_TEST_PAT}}a(yu,"TestAuthenticationSession");class qo{constructor(e,r){this.providerService=e,this.tarPit=r,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.disposable=u.Disposable.from(e.onDidChangeRepository(n=>{n.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([n.repository.uri])}),e.onDidRefresh(n=>this.onRefreshOrRepositoryChanged(n))),Xn&&(this.tarballProxyEndpoint=u.commands.executeCommand("_workbench.getTarballProxyEndpoints").then(n=>n==null?void 0:n["github.com"])),Us.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new yu(Hd))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(Bs.id)]}getRemoteSourceProviders(){var e;const r=[];return((e=u.extensions.getExtension("vscode.github"))==null?void 0:e.isActive)||r.push({name:"GitHub",icon:"github",label:u.l10n.t("Open Repository from {0}","GitHub"),placeholder:u.l10n.t("Choose a repository"),getRemoteSources:async n=>{n=n!=null?n:"";let i;const o=n==null?void 0:n.indexOf("/");o!==-1&&(i=n.substring(0,o),n=n.substr(o+1));const{results:s}=await this.searchRepositoriesQuery(n,{user:i}),l=[];return l.push(...s.map(h=>({providerId:"github",name:h.repoWithOwner,icon:"repo",description:`${h.fork?`$(repo-forked) ${h.fork}`:""}${h.stars>0?`${h.fork?" \u2022 ":""}$(star-full) ${h.stars}`:""}`,detail:h.description,url:h.url}))),l},getRecentRemoteSources:()=>[]}),r.push({name:"GitHub",icon:"github",label:u.l10n.t("Open Pull Request from {0}","GitHub"),placeholder:u.l10n.t("Choose a pull request"),getRemoteSources:async n=>{n=n!=null?n:"";let i;const o=n==null?void 0:n.indexOf("/");o!==-1&&(i=n.substring(0,o),n=n.substr(o+1));const{results:s}=await this.searchPullRequestsQuery(n,{user:i}),l=[];return l.push(...s.map(h=>({providerId:"github",name:h.title,icon:"git-pull-request",description:h.reasons.length!==0?h.reasons.sort().join(", "):void 0,detail:`${h.repoWithOwner} #${h.number}`,url:h.url}))),l}}),r}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(r=>P.getProviderId(r)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(r=>r.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1){const r=new W("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function n(){try{return e?await u.authentication.getSession("github",Yo,{forceNewSession:e}):await u.authentication.getSession("github",Yo,{createIfNone:!0})}catch(o){J.error(o);try{const s=await u.authentication.getSession("github",Yo,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function l(){const c=await u.authentication.getSession("github",Yo,{createIfNone:!0});c!==void 0&&s(c)}a(l,"getSession");const h=u.authentication.onDidChangeSessions(async c=>{c.provider.id==="github"&&(h.dispose(),await l())})})}}a(n,"waitUntilAuthenticated"),this._session=await n();const i=u.authentication.onDidChangeSessions(o=>{if(this._session===void 0){i.dispose();return}o.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{r.stop()}}async getAuthentication(e){const r=await this.ensureAuthenticated();return{provider:Bs,session:r,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${r.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const n=await this.ensureAuthenticated();if(Xn){async function i(o,s){if(s.headers!==void 0){const{"user-agent":l,...h}=s.headers;l&&(s.headers=h)}return Zf(o,s)}a(i,"fetchCore"),this._octokitDefaults=Xa.defaults({auth:`token ${n.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=Xa.defaults({auth:`token ${n.accessToken}`})}const r=new this._octokitDefaults(e);return(J.logLevel===pe.Debug||J.isDebugging)&&r.hook.wrap("request",async(n,i)=>{var o;const s=new W(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await n(i)}finally{let l;try{if(typeof i.query=="string"){const h=/(^[^({\n]+)/.exec(i.query);l=` ${(o=h==null?void 0:h[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:l})}}),r}async graphql(e,r,n=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,r)}catch(i){throw n||this.handleRequestErrors(i),J.error(i),i}}async request(e,r){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,r)}catch(n){throw this.handleRequestErrors(n),J.error(n),n}}handleRequestErrors(e){var r,n;if(e instanceof _i)switch(e.status){case 500:return e.response&&Kn.showGitHubStatus500Message(),!0;case 401:return Kn.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Kn.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof Ui){if(((n=(r=e.errors)==null?void 0:r[0])==null?void 0:n.type)==="FORBIDDEN")return Kn.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return Kn.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,r,n,i){return new pu(this.providerService,e,r,n,i,this)}async createMetadata(e,r){var n,i,o,s,l,h;const c=new W(`GitHub.createMetadata(${e.toString()}, ${r})`);let m;try{let{provider:B,name:I,repo:{owner:L,name:ue},ref:be}=ra(e);(!be||be.type===Me.Commit&&/HEAD/i.test(be.id))&&(be={type:Me.Commit,id:"HEAD"});const Ue=this.providerService.isInWorkspace(e),Oe=await this.getRepositoryInfo(L,ue,Ue,be.type===Me.PullRequest?{pr:Number(be.id)}:{ref:be.id});if(Oe===void 0)throw m=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Ye;if(r)Ye=r;else if(be.type===Me.Commit&&be.id!=="HEAD"||be.type===Me.Tree&&Oe.ref===void 0)Ye=be.id;else if(Ye=(i=(n=Oe.ref)==null?void 0:n.sha)!=null?i:Oe.defaultBranch.sha,Ye===void 0)throw m=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let et;if(((o=Oe.ref)==null?void 0:o.prefix)==="refs/heads/")et={type:X.Branch,name:Oe.ref.name,sha:Ye,branch:{name:Oe.ref.name,sha:Oe.ref.sha}};else if(((s=Oe.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Oe.ref.remote)throw m=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);et={type:X.RemoteBranch,name:`${Oe.ref.remote.repo.owner}${Oe.ref.remote.repo.name!==ue?`/${Oe.ref.remote.repo.name}`:""}:${Oe.ref.name}`,sha:Ye,branch:{name:Oe.ref.name,sha:Oe.ref.sha,remote:Oe.ref.remote}}}else((l=Oe.ref)==null?void 0:l.prefix)==="refs/tags/"?et={type:X.Tag,name:Oe.ref.name,sha:Ye,detached:{type:X.Tag,name:Oe.ref.name}}:et={type:X.Commit,name:b(Ye),sha:Ye,detached:{type:X.Commit,name:b(Ye)}};let $e,ft;if(xe.get("experimental.prefetch")&&Ue&&($e=Ye,c.log({suffix:` \u2022 Prefetching tree for ${$e}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(at=>ft=at),repo:{owner:L,name:ue},HEAD:{sha:$e},timestamp:Date.now()}})),$e!==void 0&&$e!==et.sha){const at=this.asFileTreeKey(e,$e),dt=this.fileTreeCache.get(at);dt&&!C($e)&&et.sha===((h=et.branch)==null?void 0:h.sha)?(c.log({suffix:` \u2022 Updating prefetched tree for ${$e}, since HEAD was resolved; HEAD=${et.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,et.sha),dt),this.fileTreeCache.delete(at)):(c.log({suffix:` \u2022 Removing prefetched tree for ${$e}, since the HEAD changed; HEAD=${et.sha}`}),this.fileTreeCache.delete(at),dt==null||dt.dispose())}const Nt={version:Wn.schemaVersion,timestamp:Date.now(),provider:B,name:I,repo:Oe.repo,cloneUrl:Oe.cloneUrl,accessLevel:Oe.accessLevel,HEAD:et,defaultBranch:Oe.defaultBranch,pullRequest:Oe.pullRequest};return m=` \u2022 HEAD=${et.sha}`,ft==null||ft(Nt),Nt}finally{c.stop(m?{suffix:m}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}canOpenRemoteUrl(e){var r;const n=(r=mu.exec(e))!=null?r:wu.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:l}=n.groups;return s?le.PullRequest:o?le.Commit:l?le.Branch:i?le.File:le.Repository}async createWorkspaceForRemoteUrl(e,r=ve.CurrentWindow){var n;const i=(n=mu.exec(e))!=null?n:wu.exec(e);if((i==null?void 0:i.groups)===void 0)return;let{owner:o,repo:s,blob:l,commit:h,pull:c,tree:m,fragment:B}=i.groups;s=s.endsWith(".git")?s.slice(0,s.length-4):s;const I=await this.validateOwnerAndRepoAndSplitRefFromPath(o,s,m!=null?m:l);if(I===void 0)return;let L,ue;if({owner:o,repo:s,ref:ue,path:L}=I,m||l){if(L&&B&&l){const Oe=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(B);if(Oe==null?void 0:Oe.groups){const{start:Ye,end:et}=Oe.groups;L+=`:${Ye}${et!==void 0?`-${et}`:""}`}}}else h?ue={type:Me.Commit,id:h}:c&&(ue={type:Me.PullRequest,id:c});const be=this.providerService.createVirtualUri("github",{repo:{owner:o,name:s},ref:ue}),{name:Ue}=ra(P.getVirtualUri(this.getProviderRootUri(be)));return{name:Ue,uri:be,location:r,filesToOpen:L?[L]:void 0}}createVirtualUri(e,{repo:r,ref:n,idx:i},o){const s=n!==void 0||i!==void 0?{v:Vo}:void 0;return s&&(n&&(s.ref={...n,type:n.type===Me.Branch||n.type===Me.Tag?Me.Tree:n.type}),i&&(s.idx=i)),e.with({authority:P.encodeAuthority("github",s),path:`/${r.owner}/${r.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const r=`https://github.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"";return e.pullRequest?u.Uri.parse(`${r}/pull/${e.pullRequest.id}`):e.branch?u.Uri.parse(`${r}/${n}/${e.branch}${i}`):e.tag?u.Uri.parse(`${r}/${n}/${e.tag}${i}`):e.sha?u.Uri.parse(`${r}/${n}/${e.sha}${i}`):u.Uri.parse(r)}getProviderRootUri(e){return e=P.getProviderUri(e),Wd(e)}getRelativeFilePath(e,r){let{path:n}=ra(e);const{path:i}=ra(O(e,r));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:r,name:n,repo:i,ref:o}=ra(e);return{provider:r,name:n,repo:i,ref:o}}async getModeRefType(e,r){const{HEAD:n,pullRequest:i}=await(r!=null?r:this.getMetadata(e));switch(n.type){case X.Branch:return i!==void 0?Y.PullRequestBranch:Y.Branch;case X.RemoteBranch:return i!==void 0?Y.PullRequestRemoteBranch:Y.RemoteBranch;case X.Tag:return Y.Tag;case X.Commit:return Y.Commit}}async createBranch(e,r,n,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return r.startsWith("refs/heads/")||(r=`refs/heads/${r}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:r,sha:n})).data.ref.substr(11)}catch(o){throw o instanceof _i&&o.status===422?o.message==="Reference already exists"?ee.InvalidBranchNameError(r.substring(11),!0):ee.InvalidBranchNameError(r.substring(11),!1):(J.error(o),o)}}async createAndPushCommit(e,r,n,i,o,s){var l;const h=new W(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(n=n.filter(m=>m.fileType===u.FileType.File),n.length===0&&!(o==null?void 0:o.empty))throw h.stop({message:"Aborted; No changes to commit"}),ee.NothingToCommitError("No changes to commit");let c;try{const m=await this.getMetadata(e);let B;if(i!==void 0)B=i;else{if(m.HEAD.detached&&!m.HEAD.branch)throw ee.DetachedHEADError("Unable to commit; no current branch");B=m.HEAD.branch.name}let I;if(s)I=`${s.repo.owner}/${s.repo.name}`;else if(m.HEAD.type===X.RemoteBranch&&m.HEAD.branch.remote.accessLevel>=j.Write){const{owner:Ye,name:et}=m.HEAD.branch.remote.repo;I=`${Ye}/${et}`}else I=`${m.repo.owner}/${m.repo.name}`;const L=[],ue=[];for(const Ye of n)switch(Ye.type){case G.Created:case G.Changed:{try{const et=await Ye.content;L.push({path:Ye.path,contents:Vr(et)})}catch(et){throw J.error(et),ee.CommitFailedError()}break}case G.Deleted:ue.push({path:Ye.path});break}const be={branch:{branchName:B,repositoryNameWithOwner:I},message:{headline:r},fileChanges:{additions:L,deletions:ue},expectedHeadOid:m.HEAD.sha},Ue=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,Oe=await this.graphql(Ue,{commitInput:be});if(c=Oe==null?void 0:Oe.createCommitOnBranch.commit.oid,!c)throw ee.CommitFailedError();return i===void 0&&!m.HEAD.detached&&c!==void 0&&await this.fastForwardTo(e,c,m),c}catch(m){if(m instanceof Ui){const B=(l=m.errors)==null?void 0:l[0];if((B==null?void 0:B.type)==="STALE_DATA"&&B.message.includes("Pull and try again"))throw ee.MergeConflictError(m);if((B==null?void 0:B.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&B.message.includes("protected branch"))throw ee.CommitToProtectedBranchError(B.message)}throw J.error(m),m}finally{h.stop(c?{message:`: Created and pushed commit ${c}`}:void 0)}}async createPullRequest(e,r,n,i,o,s){var l,h,c;const m=new W(`GitHub.createPullRequest(${e.toString()}, ${r}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:B,name:I},HEAD:{branch:L},defaultBranch:ue}=await this.getMetadata(e),be=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:B,repo:I,base:`refs/heads/${(l=L==null?void 0:L.name)!=null?l:ue.name}`,head:s?`${s.repo.owner}:${r}`:r,title:n,body:i,draft:(h=o==null?void 0:o.draft)!=null?h:!1,maintainer_can_modify:(c=o==null?void 0:o.canMaintainerModify)!=null?c:!0});return{id:be.data.number.toString(),uri:u.Uri.parse(be.data.html_url)}}catch(B){throw J.error(B),B}finally{m.stop()}}async fetch(e,r){const{fetched:n,metadata:i}=await this.fetchCore(e,!1,r);n&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,r,n){var i,o,s,l,h,c,m,B,I;const{force:L,to:ue}={...n,force:r||(n==null?void 0:n.force)},be=new W(`GitHub.fetch(${e.toString()}, force=${L}, to=${ue})`);let Ue;try{const Oe=await this.getMetadata(e);if(Oe.HEAD.detached)return Ue=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Oe};const Ye=await this.getBranchTips(e);if(!Ye)throw Ue=" \u2022 Unable to fetch branch tips",ee.SyncOrFetchError(r);if(!L&&!ue&&((i=Ye.defaultBranch)==null?void 0:i.sha)!==void 0&&Ye.defaultBranch.sha===Oe.defaultBranch.sha&&((o=Ye.branch)==null?void 0:o.sha)!==void 0&&Ye.branch.sha===Oe.HEAD.branch.sha&&(Oe.HEAD.sha===Oe.HEAD.branch.sha||Oe.state!==void 0))return Ue=" \u2022 No changes detected",{fetched:!1,metadata:Oe};let et;if(((s=Ye.defaultBranch)==null?void 0:s.sha)!==void 0&&Ye.defaultBranch.sha!==Oe.defaultBranch.sha&&(et={defaultBranch:{...Oe.defaultBranch,sha:Ye.defaultBranch.sha}}),((l=Ye.branch)==null?void 0:l.sha)===void 0){if(Ue=" \u2022 Unable to find branch tip",L)throw ee.SyncOrFetchError(r);return et!==void 0?{fetched:!0,metadata:{...Oe,...et}}:{fetched:!1,metadata:Oe}}if(Ye.branch.sha!==Oe.HEAD.branch.sha&&(et={...et,HEAD:{...Oe.HEAD,branch:{...Oe.HEAD.branch,sha:Ye.branch.sha},detached:void 0}}),Ye.branch.sha===((h=n==null?void 0:n.to)!=null?h:Oe.HEAD.sha))return Ue=" \u2022 Up to date",Oe.state!==void 0||et!==void 0?{fetched:!0,metadata:{...Oe,...et,state:void 0}}:{fetched:!1,metadata:Oe};be.logStep("Fetching upstream changes");try{const $e=await this.getAheadBehindState(e,Oe,{base:(c=n==null?void 0:n.to)!=null?c:Oe.HEAD.sha,head:(I=(B=(m=et==null?void 0:et.HEAD)==null?void 0:m.branch)==null?void 0:B.sha)!=null?I:Oe.HEAD.branch.sha});return Ue=` \u2022 Changes detected; ${$e==null?void 0:$e.behind} commits behind`,{fetched:!0,metadata:{...Oe,...et,state:$e?{ahead:$e.ahead,behind:$e.behind,incomingChanges:$e.incomingChanges}:void 0}}}catch($e){if(Ue=` \u2022 Failed fetching upstream changes; ${String($e)}`,L)throw ee.SyncOrFetchError(r);return et!==void 0?{fetched:!0,metadata:{...Oe,...et}}:{fetched:!1,metadata:Oe}}}finally{be.stop(Ue?{suffix:Ue}:void 0)}}async fork(e){try{const{repo:{owner:r,name:n}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:r,repo:n});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(r){throw J.error(r),r}}async getBranch(e,r){try{const{repo:{owner:n,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:n,repo:i,qualifiedName:r.startsWith("refs/heads/")?r:`refs/heads/${r}`});return(s==null?void 0:s.repository)?{type:wi.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(n){return}}async getBranches(e,r){var n,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),h=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
				}
			}
		}
	}
}`,c=await this.graphql(h,{owner:s,repo:l,branchQuery:(n=r==null?void 0:r.query)!=null?n:"",cursor:r==null?void 0:r.cursor,limit:Math.min(100,(i=r==null?void 0:r.limit)!=null?i:100)});if(c===void 0)return{branches:[]};const m=(o=c.repository)==null?void 0:o.refs;if(m===void 0)return{branches:[]};const B=m.nodes.map(I=>({type:wi.Head,name:I.name,commit:I.target.oid,commitUrl:I.target.commitUrl,locked:I.refUpdateRule?!I.refUpdateRule.viewerCanPush||I.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:m.pageInfo.endCursor,more:m.pageInfo.hasNextPage},branches:B}}catch(s){return{branches:[]}}}async getCommit(e,r){var n;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;r.toUpperCase()==="HEAD"&&(r=i.sha);const h=await this.graphql(l,{owner:o,repo:s,ref:r});if(h===void 0)return;const c=(n=h.repository)==null?void 0:n.object;return c===void 0?void 0:{hash:c.oid,message:c.message,parents:c.parents.nodes.map(m=>m.oid),authorDate:new Date(c.author.date),authorEmail:c.author.email,authorName:c.author.name,commitDate:new Date(c.committer.date)}}catch(i){return}}async getCommits(e,r){var n,i,o;try{const{HEAD:s,repo:{owner:l,name:h}}=await this.getMetadata(e),c=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let m=r==null?void 0:r.ref;(m==null?void 0:m.toUpperCase())==="HEAD"&&(m=s.sha);const B=await this.graphql(c,{owner:l,repo:h,ref:m,cursor:r==null?void 0:r.cursor,path:r==null?void 0:r.path,limit:Math.min(100,(n=r==null?void 0:r.limit)!=null?n:100)});if(B===void 0)return;const I=(o=(i=B.repository)==null?void 0:i.object)==null?void 0:o.history;if(I===void 0)return;const L=I.nodes.map(ue=>({hash:ue.oid,message:ue.message,parents:ue.parents.nodes.map(be=>be.oid),authorDate:new Date(ue.author.date),authorEmail:ue.author.email,authorName:ue.author.name,commitDate:new Date(ue.committer.date)}));return{paging:{cursor:I.pageInfo.endCursor,more:I.pageInfo.hasNextPage},commits:L}}catch(s){return}}async getBlobContent(e,r){try{const n=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:r});return jt(n.data.content)}catch(n){throw J.logLevel===pe.Debug&&J.error(n),n}}async getFileContent(e,r,n){try{let i;if(r&&n&&!this.hasFileTree(e,r)){const o=this.getProviderRootUri(e);n.startsWith("/")&&(n=n.slice(1));let s=(0,qf.dirname)(n);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,r,{path:s,recursive:!1})).get(n)}else{const[o,{path:s}]=await Promise.all([this.getFileTree(e,r),n?{path:void 0}:this.providerService.getMetadata(e)]);i=await o.get(n!=null?n:s)}if((i==null?void 0:i.sha)===void 0)throw u.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw J.logLevel===pe.Debug&&J.error(i),i}}async getFileList(e,r,n){const i=new W(`GitHub.getFileList(${e.toString()}${n?`, ${n}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:l}}=await this.getMetadata(e),h=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${n!=null?n:l}${r?`:${r}`:""}`});return h.status!==200?[]:h.data}catch(o){return J.error(o),[]}finally{i.stop()}}hasFileTree(e,r){return r?this.fileTreeCache.has(this.asFileTreeKey(e,r)):this.getMetadata(e).then(n=>this.fileTreeCache.has(this.asFileTreeKey(e,n.HEAD.sha)))}async getFileTree(e,r,n){var i,o,s,l;const h=this.providerService.isInWorkspace(e);let c=h,m,B,I;if(c||!r){const Ue=(o=(i=n==null?void 0:n.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);m=h?this.getFileTreePermissions(e,Ue):void 0;let Oe;({repo:B,HEAD:{sha:Oe},timestamp:I}=(s=n==null?void 0:n.prefetched)!=null?s:await Ue),r||(r=Oe)}else({repo:B}=(l=n==null?void 0:n.prefetched)!=null?l:this.providerService.getVirtualUriMetadata(e)),I=Date.now();const L=this.asFileTreeKey(e,r);this.fileTreesToCache.has(L)&&(c=!0),this.fileTreesToCache.add(L);const ue=this.getProviderRootUri(e),be=new W(`GitHub.getFileTree(${L}): ${e.toString()}`,{log:!1,logLevel:pe.Debug});try{let Ue=a(function(){var Ye;const et=new W(`GitHub.createFileTree(${L})`);let $e,ft;c&&h&&($e=new u.EventEmitter,ft=u.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>$e.fire()),this.tarPit.onDidDownloadTar(at=>$e.fire({rootUri:this.getProviderRootUri(at.rootUri),sha:at.sha}))));const Nt={dispose:()=>ft==null?void 0:ft.dispose(),permissions:m,getContent:async(at,dt)=>{const Pt=new W("getFileContents"),rt=xe.get("experimental.fs.useTars");if(rt==="always"||rt==="ifAvailable"){const dr=await this.tarPit.getInMemoryTar(ue,r);if(dr){const Xr=dr.entryMap.get(dt);if(Xr)return Pt.stop({message:`Retrieved ${dt} from in-memory tar with rootUri=${ue.toString()}, ref=${r==null?void 0:r.toString()}`}),Xr.dataAsBytes}}let It=!1;return new Promise((dr,Xr)=>{this.getBlobContent(B,at.sha).then(Zr=>{It||(Pt.stop({message:`Retrieved ${dt} from web`}),It=!0,dr(Zr))},Zr=>Xr(Zr)),rt!=="never"&&this.tarPit.getCachedTar(ue,r).then(Zr=>Zr===void 0&&rt==="always"&&!It?this.tarPit.getTar(ue,!1,r):Zr).then(Zr=>{var Ei;const Mn=(Ei=Zr==null?void 0:Zr.entryMap.get(dt))==null?void 0:Ei.dataAsBytes;Mn&&!It&&(Pt.stop({message:`Retrieved ${dt} from tar`}),It=!0,dr(Mn))},Zr=>{})})},getTree:async(at,dt)=>{const Pt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:B.owner,repo:B.name,recursive:dt?"1":void 0,tree_sha:`${r}${at?`:${at}`:""}`});return Pt.data.truncated?{sha:Pt.data.sha,truncated:!0}:{sha:Pt.data.sha,truncated:!1,tree:Jn(Pt.data.tree,rt=>{var It;return{path:rt.path,item:{mode:rt.mode,sha:rt.sha,stat:{type:jd(rt.type),size:(It=rt.size)!=null?It:0,ctime:0,mtime:I,permissions:void 0}}}})}},onDidTriggerContentCaching:$e==null?void 0:$e.event,tryCachingContent:c&&h?async at=>{const dt=xe.get("experimental.fs.useTars");if(dt!=="always"&&dt!=="ifAvailable")return!1;const Pt=new W(`FileTree.loadAllContent(${r})`);let rt;try{let It;if(dt==="ifAvailable"){if(Pt.logStep("Tar cache query"),It=await this.tarPit.getCachedTar(ue,r),It===void 0)return rt=" \u2022 No cached Tar",!1}else Pt.logStep("Tar query"),It=await this.tarPit.getTar(ue,!1,r);Pt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const dr of It.entries){const Xr=at(dr.header.fullFileName);if(Xr===void 0)continue;const Zr=dr.dataAsBytes;Xr.getContent=()=>Zr}return!0}catch(It){return rt=` \u2022 Failed ${String(It)}`,!1}finally{Pt.stop(rt?{suffix:rt}:void 0)}}:void 0};try{return new Ls(ue,r,I,Nt,{path:n==null?void 0:n.path,recursive:(Ye=n==null?void 0:n.recursive)!=null?Ye:c,preload:c||(n==null?void 0:n.recursive)})}catch(at){return J.error(at),new Ls(ue,r,I,void 0)}finally{et.stop()}},"createFileTree"),Oe=this.fileTreeCache.get(L);return Oe!==void 0||(Oe=Ue.call(this),c&&this.fileTreeCache.set(L,Oe)),Oe}finally{be.stop()}}async getFileTreePermissions(e,r){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,r)).display===Z.Edit)return;const i=await this.providerService.getIndexMetadata(e);return re.isActive(i)?u.FilePermission.Readonly:void 0}async getFork(e){var r,n,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),l=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,h=await this.graphql(l,{owner:o,repo:s});if(h===void 0)return;const[c]=(i=(n=(r=h.repository)==null?void 0:r.forks)==null?void 0:n.nodes)!=null?i:[];return c===void 0?void 0:{name:`${c.owner.login}/${c.name}`,repo:{owner:c.owner.login,name:c.name},url:c.url}}catch(o){return}}async getIncomingChanges(e){var r,n;return(n=(r=(await this.getMetadata(e)).state)==null?void 0:r.incomingChanges)!=null?n:[]}async compareCommits(e,r){const n=await this.getMetadata(e),i=await this.getAheadBehindState(e,n,{base:r.base,head:r.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,r,n){var i,o,s,l,h;const{base:c,head:m}={base:r.HEAD.sha,head:(i=r.HEAD.branch)==null?void 0:i.sha,...n},B=new W(`GitHub.getAheadBehindState(${e.toString()}, base=${c}, head=${m})`);let I,L;try{if(!m){I=` \u2022 Skipped; Unsupported HEAD type (${r.HEAD.type})`;return}const ue=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:r.repo.owner,repo:r.repo.name,base:c,head:m}),be=[];for(const Ue of(o=ue.data.files)!=null?o:[])switch(Ue.status){case"added":case"copied":be.push({uri:u.Uri.joinPath(e,Ue.filename),type:G.Created});break;case"removed":be.push({uri:u.Uri.joinPath(e,Ue.filename),type:G.Deleted});break;case"modified":be.push({uri:u.Uri.joinPath(e,Ue.filename),type:G.Changed});break;case"renamed":be.push({uri:u.Uri.joinPath(e,Ue.filename),type:G.Created}),be.push({uri:u.Uri.joinPath(e,Ue.previous_filename),type:G.Deleted});break;default:J.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${c}, head=${m}): Unknown file status encountered '${Ue.status}'`);break}return L={ahead:(s=ue.data.behind_by)!=null?s:0,behind:(l=ue.data.ahead_by)!=null?l:0,incomingChanges:be},L}catch(ue){throw I=` \u2022 Failed; ${String(ue)}`,J.error(ue),ue}finally{B.stop({suffix:I!=null?I:` \u2022 ${(h=L==null?void 0:L.behind)!=null?h:0} commits behind`})}}async getObjectDetails(e,r,n){var i;try{const o=await this.getFileTree(e,r);n?n=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,n)):{path:n}=await this.providerService.getMetadata(e);const s=await o.get(n);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${n} in ${r}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw J.error(o),o}}async getPullRequest(e,r){const{repo:{owner:n,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(n,i,r)}async getPullRequestCore(e,r,n){var i,o,s,l,h,c,m;try{const B=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,I=await this.graphql(B,{owner:e,repo:r,number:Number(n)}),L=(i=I==null?void 0:I.repository)==null?void 0:i.pullRequest;return L?{author:{name:L.author.login,avatarUrl:L.author.avatarUrl,url:L.author.url},closedAt:L.closedAt?new Date(L.closedAt):void 0,mergedAt:L.mergedAt?new Date(L.mergedAt):void 0,id:L.number.toString(),repo:{name:L.repository.name,owner:L.repository.owner.login},state:Hs(L.state),title:L.title,updatedAt:new Date(L.updatedAt),url:L.permalink,refs:{base:{owner:L.baseRepository.owner.login,repo:L.baseRepository.name,branch:L.baseRefName,sha:L.baseRefOid,exists:L.baseRef!=null},head:{owner:(h=(l=(o=L.headRepository)==null?void 0:o.owner.login)!=null?l:(s=L.headRepositoryOwner)==null?void 0:s.login)!=null?h:"<unknown>",repo:(m=(c=L.headRepository)==null?void 0:c.name)!=null?m:L.baseRepository.name,branch:L.headRefName,sha:L.headRefOid,exists:L.headRef!=null}}}:void 0}catch(B){J.error(B);return}}async getPullRequestForBranch(e,r,n){var i,o,s,l,h;try{const{repo:{owner:c,name:m}}=await this.getMetadata(e),B=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,I=await this.graphql(B,{owner:c,repo:m,branch:r,maxCount:(i=n==null?void 0:n.maxCount)!=null?i:1,states:zd(n==null?void 0:n.include)}),L=(h=(l=(s=(o=I==null?void 0:I.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:l.nodes)==null?void 0:h.filter(be=>!be.repository.isFork||be.repository.owner.login===c);if(L==null||L.length===0)return;L.length>1&&L.sort((be,Ue)=>(be.repository.owner.login===c?-1:1)-(Ue.repository.owner.login===c?-1:1)||(be.state==="OPEN"?-1:1)-(Ue.state==="OPEN"?-1:1)||new Date(Ue.updatedAt).getTime()-new Date(be.updatedAt).getTime());const[ue]=L;return{author:{name:ue.author.login,avatarUrl:ue.author.avatarUrl,url:ue.author.url},closedAt:ue.closedAt?new Date(ue.closedAt):void 0,mergedAt:ue.mergedAt?new Date(ue.mergedAt):void 0,id:ue.number.toString(),repo:{name:ue.repository.name,owner:ue.repository.owner.login},state:Hs(ue.state),title:ue.title,updatedAt:new Date(ue.updatedAt),url:ue.permalink}}catch(c){J.error(c);return}}async getTags(e,r){var n,i,o;try{const{repo:{owner:s,name:l}}=await this.getMetadata(e),h=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,c=await this.graphql(h,{owner:s,repo:l,tagQuery:(n=r==null?void 0:r.query)!=null?n:"",cursor:r==null?void 0:r.cursor,limit:Math.min(100,(i=r==null?void 0:r.limit)!=null?i:100)});if(c===void 0)return{tags:[]};const m=(o=c.repository)==null?void 0:o.refs;if(m===void 0)return{tags:[]};const B=m.nodes.map(I=>({type:wi.Tag,name:I.name,commit:I.target.oid,commitUrl:I.target.commitUrl}));return{paging:{cursor:m.pageInfo.endCursor,more:m.pageInfo.hasNextPage},tags:B}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(r){return J.error(r),!1}}async getTarGz(e,r,n){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),l=xe.get("indexing.verboseDownloadNotification");return u.window.withProgress({location:l?u.ProgressLocation.Notification:u.ProgressLocation.Window,cancellable:!0,title:u.l10n.t("Downloading repository index")},async(h,c)=>{try{if(Xn){let I;try{const Ue=await this.tarballProxyEndpoint;Ue!==void 0&&(I=Ue.replace("{owner}",i).replace("{repo}",o).replace("{sha}",r))}catch{}if(!I)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const ue=await(await Ql(I,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},c)).text();return await Xl(ue,{},n,c,h)}const m=`https://api.github.com/repos/${i}/${o}/tarball/${r}`;return await Xl(m,{headers:{Authorization:`Bearer ${s.accessToken}`}},n,c,h)}catch(m){throw J.error(m),m}})}async queryRepositoryObject(e,r,n,i){var o,s;try{const{repo:{owner:l,name:h},HEAD:{sha:c},path:m}=await this.providerService.getMetadata(e),B=`query ${r}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${n}
		}
	}
}`,I=await this.graphql(B,{owner:l,repo:h,expression:i!=null?i:`${c}:${m}`});return(s=(o=I==null?void 0:I.repository)==null?void 0:o.object)!=null?s:void 0}catch(l){J.error(l);return}}async repositoryObjectExists(e,r){return await this.queryRepositoryObject(e,"exists","			__typename",r)!==void 0}async searchPullRequestsQuery(e,r){var n;function i(o){function s(l,h){return{number:l.number,title:l.title,repoWithOwner:l.repository.nameWithOwner,reasons:h?[h]:[],url:l.url}}return a(s,"toResult"),Da([...o.assigned.nodes.filter(l=>l!==null).map(l=>s(l,"assigned")),...o.reviewRequested.nodes.filter(l=>l!==null).map(l=>s(l,"review requested")),...o.mentioned.nodes.filter(l=>l!==null).map(l=>s(l,"mentioned")),...o.authored.nodes.filter(l=>l!==null).map(l=>s(l,"authored")),...Ur(o.viewer.repositories.nodes,l=>l.pullRequests.nodes.filter(h=>h!==null).map(h=>s(h)))],l=>l.url,(l,h)=>(h.reasons.length!==0&&l.reasons.push(...h.reasons),l))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(r==null?void 0:r.user)&&(e+=` user:${r.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof Ui?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,r){var n;function i(o){var s,l,h;const c=Da((r==null?void 0:r.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],B=>B==null?void 0:B.url),m=[];for(const B of c)B!==null&&m.push({repoWithOwner:B.nameWithOwner,owner:B.nameWithOwner.split("/")[0],repo:B.nameWithOwner.split("/")[1],description:(s=B.description)!=null?s:void 0,url:B.url,fork:(h=(l=B.parent)==null?void 0:l.nameWithOwner)!=null?h:void 0,stars:B.stargazerCount});return m}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(r==null?void 0:r.user)&&(e+=` user:${r.user}`),(r==null?void 0:r.owner)&&(e+=` owner:${r.owner}`),(r==null?void 0:r.sort)&&(e+=` sort:${r.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof Ui?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,r,n){var i,o,s;const{repo:{owner:l,name:h},HEAD:c,defaultBranch:m}=await this.getMetadata(r),B=[];((i=c.branch)==null?void 0:i.name)!==m.name&&B.push(u.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=c.branch)==null?void 0:o.name)!=null?s:c.detached.name,m.name));try{const L=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${l}/${h}`}),ue=new u.Range(0,0,0,0),be=[];let Ue=0,Oe;for(const Ye of L.data.items)for(const et of Ye.text_matches){if(Ue++,n.maxResults!==void 0&&Ue>n.maxResults)return{matches:be,limitHit:!0};Oe={path:Ye.path,ranges:[],preview:et.fragment,matches:[]};for(const $e of et.matches){let ft=0,Nt=0,at=0;for(let dt=0;dt<$e.indices[1];dt++)dt===$e.indices[0]&&(Nt=at),et.fragment[dt]===`
`?(ft++,at=0):at++;Oe.ranges.push(ue),Oe.matches.push(new u.Range(ft,Nt,ft,at))}be.push(Oe)}return{matches:be,limitHit:!1,warnings:B}}catch(I){return{matches:[],limitHit:!0}}}async switchTo(e,r,n){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let l;if(!(r!==void 0&&(typeof r=="string"?(r==null?void 0:r.startsWith("refs/heads/"))?(l={type:Me.Tree,id:r.substr(11)},r=r.substr(11)):(r==null?void 0:r.startsWith("refs/tags/"))?l={type:Me.Tree,id:r.substr(10)}:l={type:Me.Tree,id:r}:l={...r,type:r.type===Me.Branch||r.type===Me.Tag?Me.Tree:r.type},(s==null?void 0:s.name)===l.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:l}),location:(n==null?void 0:n.openInNewWindow)?ve.NewWindow:ve.CurrentWindow}}async sync(e,r,n){var i,o,s,l,h,c;const m=new W(`GitHub.sync(${e.toString()}, resolution=${n.conflictResolution}, to=${n.to})`);let B;try{const{metadata:I}=await this.fetchCore(e,!0,{to:n.to});if(I.HEAD.detached){B=" \u2022 Skipped; detached HEAD";return}if(((o=(i=I==null?void 0:I.state)==null?void 0:i.behind)!=null?o:0)>0&&await r.hasChanges(e)){m.logStep("Fetching upstream changes");const L=[],ue=(l=(s=I.state)==null?void 0:s.incomingChanges)!=null?l:[];if(ue.length>0){const be=await r.getChanges(e);for(const Ue of be){const Oe=this.providerService.getRelativeFilePath(e,Ue.uri),Ye=ue.find(et=>this.providerService.getRelativeFilePath(e,et.uri)===Oe);Ye!==void 0&&L.push({path:Oe,current:Ue,incomingType:Ye.type})}}if(L.length>0)switch(n.conflictResolution){case Le.KeepCurrent:m.logStep("Syncing (keep) upstream changes",{message:`: ${L.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const be of L)await r.keep(be.current.uri,{type:be.incomingType,providerUri:$s(I,I.HEAD.branch.sha,be.path)});break;case Le.DiscardCurrent:m.logStep("Syncing (discard) upstream changes",{message:`: ${L.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const be of L)await r.discard(be.current.uri);break;case Le.Merge:m.logStep("Syncing (merge) upstream changes",{message:`: ${L.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const be of L)await r.merge(be.current.uri,{type:be.incomingType,providerUri:$s(I,I.HEAD.branch.sha,be.path)},{providerUri:$s(I,I.HEAD.sha,be.path)});break;case Le.Abort:default:throw m.logStep("Syncing (abort) upstream changes",{message:`: ${L.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,I),ee.SyncConflictsError()}}B=` \u2022 to=${(h=n.to)!=null?h:I.HEAD.branch.sha}`,await this.fastForwardTo(e,(c=n.to)!=null?c:I.HEAD.branch.sha,I)}finally{m.stop(B?{suffix:B}:void 0)}}async fastForwardTo(e,r,n){if(n.HEAD.detached)throw ee.DetachedHEADError("Unable to fast-forward; no current branch");if(n.HEAD.sha===r&&n.state===void 0)return;const i=this.asFileTreeKey(e,n.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),J.log(`Fast forward to ${r}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...n,HEAD:{...n.HEAD,detached:void 0,sha:r},state:r!==n.HEAD.branch.sha?n.state:void 0,timestamp:Date.now()}),r!==n.HEAD.branch.sha&&n.state===void 0&&await this.fetchCore(e,!1,{to:r})}async getBranchTips(e,r){try{const{repo:{owner:n,name:i},HEAD:o}=await this.getMetadata(e);r===void 0&&(o.type===X.RemoteBranch?r=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:r=o.branch?`refs/heads/${o.branch.name}`:"");const s=_u.exec(r);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(n,i,r);const l=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,h=await this.graphql(l,{owner:n,repo:i,ref:r});if((h==null?void 0:h.repository)==null)return;const{defaultBranchRef:c,ref:m}=h.repository;return!c&&!m?void 0:{defaultBranch:c?{sha:c.target.oid}:void 0,branch:m?{sha:m.target.oid}:void 0}}catch(n){return}}async getRemoteBranchTips(e,r,n){try{const i=_u.exec(n);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:l}=i.groups;s||(s=r);const h=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(h,{owner:e,repo:r,remoteOwner:o,remoteRepo:s,remoteRef:l});if((c==null?void 0:c.repository)==null||(c==null?void 0:c.remote)==null)return;const{repository:{defaultBranchRef:m},remote:{ref:B}}=c;return!m&&!B?void 0:{defaultBranch:m?{sha:m.target.oid}:void 0,branch:B?{sha:B.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,r,n,i){var o,s,l,h,c,m,B,I,L,ue,be,Ue,Oe,Ye,et,$e;try{const ft=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,Nt=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${ft}
		}
	}
}`;let at,dt;try{const dr=await this.graphql(Nt,{owner:e,repo:r,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((dr==null?void 0:dr.repository)==null)return;({repository:dt,viewer:{login:at}}=dr)}catch(dr){if((i==null?void 0:i.pr)&&dr instanceof Ui&&((l=(s=dr.errors)==null?void 0:s[0])==null?void 0:l.type)==="NOT_FOUND"&&((h=dr.errors[0])==null?void 0:h.message.includes("Could not resolve to a PullRequest"))){({repository:dt,viewer:{login:at}}=dr.data);try{const Xr=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${ft}
			}
		}
	}
}`,{owner:e,repo:r,pr:i==null?void 0:i.pr});if(((m=(c=Xr==null?void 0:Xr.repository)==null?void 0:c.parent)==null?void 0:m.pullRequest)==null)throw dr;dt.pullRequest=Xr.repository.parent.pullRequest}catch{throw dr}}else throw dr}const Pt=(B=dt.defaultBranchRef)!=null?B:void 0;if((Pt==null?void 0:Pt.name)==null)return;const rt=dt.pullRequest;let It;if(dt==null?void 0:dt.ref)It={prefix:dt.ref.prefix,name:dt.ref.name,sha:"oid"in dt.ref.target?dt.ref.target.oid:dt.ref.target.target.oid};else if(rt==null?void 0:rt.headRef){let dr=Ws(rt.headRepository.viewerPermission);dr<j.Write&&rt.maintainerCanModify&&Ws(dt.viewerPermission)>=j.Write&&(dr=j.WriteToPullRequest),It=rt.headRepository.owner.login===e?{prefix:"refs/heads/",name:rt==null?void 0:rt.headRef.name,sha:(L=(I=rt.mergeCommit)==null?void 0:I.oid)!=null?L:rt==null?void 0:rt.headRefOid}:{prefix:"refs/remotes/",name:rt==null?void 0:rt.headRef.name,sha:(be=(ue=rt.mergeCommit)==null?void 0:ue.oid)!=null?be:rt==null?void 0:rt.headRefOid,remote:{name:`${rt.headRepository.owner.login}/${rt.headRepository.name}`,accessLevel:dr,repo:{owner:rt.headRepository.owner.login,name:rt.headRepository.name}}}}else(rt==null?void 0:rt.baseRef)?(It={prefix:"refs/heads/",name:rt==null?void 0:rt.baseRef.name,sha:(Oe=(Ue=rt.mergeCommit)==null?void 0:Ue.oid)!=null?Oe:rt==null?void 0:rt.baseRefOid},n&&(J.log("Did not find a headRef for PR, falling back to baseRef",rt.baseRef),Kn.showPullRequestHeadNotFoundMessage(`${e}/${r}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(It={prefix:"refs/heads/",name:Pt.name,sha:Pt.target.oid});return{user:at,repo:{owner:dt.owner.login,name:dt.name},accessLevel:Ws(dt.viewerPermission),ref:It,defaultBranch:{name:Pt.name,sha:Pt.target.oid},cloneUrl:{http:dt.url,ssh:dt.sshUrl},pullRequest:rt?{id:rt.number.toString(),state:Hs(rt.state),title:rt.title}:void 0}}catch(ft){if(ft instanceof Ui)switch((et=(Ye=ft.errors)==null?void 0:Ye[0])==null?void 0:et.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&(($e=ft.errors[0])==null?void 0:$e.message.includes("Could not resolve to a PullRequest"))){const at=new Ko(ft,`${e}/${r}`,`#${i==null?void 0:i.pr}`);throw n&&Kn.showPullRequestNotFoundMessage(at.name,at.id),at}const Nt=new to(ft,`${e}/${r}`);throw n?ee.InvalidRepositoryError():Nt}case"FORBIDDEN":{const Nt=new eo(ft,`${e}/${r}`);throw n&&Kn.showRepositoryForbiddenMessage(Nt.name,()=>this.reauthenticate()),Nt}}J.error(ft,`Failed to get repository info for '${e}/${r}'`),!this.handleRequestErrors(ft)&&n&&Kn.showUnableToOpenRepositoryMessage(ft);return}}async validateOwnerAndRepoAndSplitRefFromPath(e,r,n){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${n!=null?n:"HEAD"}`,{owner:e,repo:r});return[e,r]=i.data.name_with_owner.split("/"),n?{owner:e,repo:r,ref:{type:Me.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:r}}catch(i){if(i instanceof _i)switch(i.status){case 401:throw ee.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Kn.showRepositoryForbiddenMessage(`${e}/${r}`,()=>this.reauthenticate()),new eo(i,`${e}/${r}`);case 404:throw Kn.showRepositoryNotFoundMessage(`${e}/${r}`),new to(i,`${e}/${r}`);case 409:throw Kn.showRepositoryEmptyMessage(`${e}/${r}`),new Go(i,`${e}/${r}`)}return}}asFileTreeKey(e,r){return`${M(this.getProviderRootUri(e))}:${r}`}}a(qo,"GitHubRepositoryProvider"),vu([Cr()],qo.prototype,"ensureAuthenticated",1),vu([Cr()],qo.prototype,"octokit",1);function Hs(t){switch(t){case"OPEN":return ie.Open;case"CLOSED":return ie.Closed;case"MERGED":return ie.Merged}}a(Hs,"toPullRequestState");function zd(t){if(t!==void 0)return t.map(e=>{switch(e){case ie.Open:return"OPEN";case ie.Closed:return"CLOSED";case ie.Merged:return"MERGED"}})}a(zd,"fromPullRequestStates");var na;(function(t){t.ADMIN="ADMIN",t.MAINTAIN="MAINTAIN",t.WRITE="WRITE",t.TRIAGE="TRIAGE",t.READ="READ",t.NONE="NONE"})(na||(na={}));function Ws(t){switch(t){case na.ADMIN:return j.Admin;case na.MAINTAIN:return j.Maintain;case na.WRITE:return j.Write;case na.TRIAGE:return j.Triage;case na.READ:return j.Read;default:return j.None}}a(Ws,"permissionToAccessLevel");function jd(t){switch(t&&(t=t.toLocaleLowerCase()),t){case"blob":return u.FileType.File;case"tree":return u.FileType.Directory;default:return u.FileType.Unknown}}a(jd,"typenameToFileType");function Kd(t){return{registerVirtualProviderService:function(e){Te.configure("githubRepositories",t),J.configure(t,"GitHub Repositories",xe.get("logLevel")),W.start("Time to root directory",{log:!1});const r=la.configure(t),n=new xa(t);try{const i=new Ci(t.globalState),o=i.with(r),s=new Zn(t.globalStorageUri,r),l=new Wn(o),h=new ai(e,o,s,n,r);h.getWorkspacesWithChanges();const c=new $i(e,i,h,r,t),m=new Vl(t.globalStorageUri,e),B=new qo(e,m),I=new qa(e,B,h,m,n);t.subscriptions.push(e.register("github","GitHub",B,I,i,h,l,c),B,I,new ge(B))}catch(i){throw J.error(i),i}}}}a(Kd,"activate")})(),module.exports=__webpack_exports__})();
